(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Vd={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function SA(){if(C_)return El;C_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return El.Fragment=t,El.jsx=n,El.jsxs=n,El}var D_;function AA(){return D_||(D_=1,Vd.exports=SA()),Vd.exports}var it=AA(),xd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function bA(){if(N_)return Rt;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Z={};function H(D,W,at){this.props=D,this.context=W,this.refs=Z,this.updater=at||j}H.prototype.isReactComponent={},H.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function J(){}J.prototype=H.prototype;function ot(D,W,at){this.props=D,this.context=W,this.refs=Z,this.updater=at||j}var rt=ot.prototype=new J;rt.constructor=ot,F(rt,H.prototype),rt.isPureReactComponent=!0;var bt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function M(D,W,at,et,mt,It){return at=It.ref,{$$typeof:r,type:D,key:W,ref:at!==void 0?at:null,props:It}}function b(D,W){return M(D.type,W,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return W[at]})}var V=/\/+/g;function P(D,W){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):W.toString(36)}function C(){}function Pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function oe(D,W,at,et,mt){var It=typeof D;(It==="undefined"||It==="boolean")&&(D=null);var Tt=!1;if(D===null)Tt=!0;else switch(It){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(D.$$typeof){case r:case t:Tt=!0;break;case E:return Tt=D._init,oe(Tt(D._payload),W,at,et,mt)}}if(Tt)return mt=mt(D),Tt=et===""?"."+P(D,0):et,bt(mt)?(at="",Tt!=null&&(at=Tt.replace(V,"$&/")+"/"),oe(mt,W,at,"",function(jn){return jn})):mt!=null&&(w(mt)&&(mt=b(mt,at+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+Tt)),W.push(mt)),1;Tt=0;var Ce=et===""?".":et+":";if(bt(D))for(var Jt=0;Jt<D.length;Jt++)et=D[Jt],It=Ce+P(et,Jt),Tt+=oe(et,W,at,It,mt);else if(Jt=I(D),typeof Jt=="function")for(D=Jt.call(D),Jt=0;!(et=D.next()).done;)et=et.value,It=Ce+P(et,Jt++),Tt+=oe(et,W,at,It,mt);else if(It==="object"){if(typeof D.then=="function")return oe(Pe(D),W,at,et,mt);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function G(D,W,at){if(D==null)return D;var et=[],mt=0;return oe(D,et,"","",function(It){return W.call(at,It,mt++)}),et}function st(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var dt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Bt(){}return Rt.Children={map:G,forEach:function(D,W,at){G(D,function(){W.apply(this,arguments)},at)},count:function(D){var W=0;return G(D,function(){W++}),W},toArray:function(D){return G(D,function(W){return W})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=H,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=ot,Rt.StrictMode=s,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ft.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,W,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=F({},D.props),mt=D.key,It=void 0;if(W!=null)for(Tt in W.ref!==void 0&&(It=void 0),W.key!==void 0&&(mt=""+W.key),W)!xt.call(W,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&W.ref===void 0||(et[Tt]=W[Tt]);var Tt=arguments.length-2;if(Tt===1)et.children=at;else if(1<Tt){for(var Ce=Array(Tt),Jt=0;Jt<Tt;Jt++)Ce[Jt]=arguments[Jt+2];et.children=Ce}return M(D.type,mt,void 0,void 0,It,et)},Rt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Rt.createElement=function(D,W,at){var et,mt={},It=null;if(W!=null)for(et in W.key!==void 0&&(It=""+W.key),W)xt.call(W,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(mt[et]=W[et]);var Tt=arguments.length-2;if(Tt===1)mt.children=at;else if(1<Tt){for(var Ce=Array(Tt),Jt=0;Jt<Tt;Jt++)Ce[Jt]=arguments[Jt+2];mt.children=Ce}if(D&&D.defaultProps)for(et in Tt=D.defaultProps,Tt)mt[et]===void 0&&(mt[et]=Tt[et]);return M(D,It,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:p,render:D}},Rt.isValidElement=w,Rt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:st}},Rt.memo=function(D,W){return{$$typeof:g,type:D,compare:W===void 0?null:W}},Rt.startTransition=function(D){var W=ft.T,at={};ft.T=at;try{var et=D(),mt=ft.S;mt!==null&&mt(at,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Bt,dt)}catch(It){dt(It)}finally{ft.T=W}},Rt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},Rt.use=function(D){return ft.H.use(D)},Rt.useActionState=function(D,W,at){return ft.H.useActionState(D,W,at)},Rt.useCallback=function(D,W){return ft.H.useCallback(D,W)},Rt.useContext=function(D){return ft.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,W){return ft.H.useDeferredValue(D,W)},Rt.useEffect=function(D,W,at){var et=ft.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(D,W)},Rt.useId=function(){return ft.H.useId()},Rt.useImperativeHandle=function(D,W,at){return ft.H.useImperativeHandle(D,W,at)},Rt.useInsertionEffect=function(D,W){return ft.H.useInsertionEffect(D,W)},Rt.useLayoutEffect=function(D,W){return ft.H.useLayoutEffect(D,W)},Rt.useMemo=function(D,W){return ft.H.useMemo(D,W)},Rt.useOptimistic=function(D,W){return ft.H.useOptimistic(D,W)},Rt.useReducer=function(D,W,at){return ft.H.useReducer(D,W,at)},Rt.useRef=function(D){return ft.H.useRef(D)},Rt.useState=function(D){return ft.H.useState(D)},Rt.useSyncExternalStore=function(D,W,at){return ft.H.useSyncExternalStore(D,W,at)},Rt.useTransition=function(){return ft.H.useTransition()},Rt.version="19.1.1",Rt}var O_;function Rm(){return O_||(O_=1,xd.exports=bA()),xd.exports}var Y=Rm(),Pd={exports:{}},Tl={},kd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function RA(){return M_||(M_=1,function(r){function t(G,st){var dt=G.length;G.push(st);t:for(;0<dt;){var Bt=dt-1>>>1,D=G[Bt];if(0<o(D,st))G[Bt]=st,G[dt]=D,dt=Bt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var st=G[0],dt=G.pop();if(dt!==st){G[0]=dt;t:for(var Bt=0,D=G.length,W=D>>>1;Bt<W;){var at=2*(Bt+1)-1,et=G[at],mt=at+1,It=G[mt];if(0>o(et,dt))mt<D&&0>o(It,et)?(G[Bt]=It,G[mt]=dt,Bt=mt):(G[Bt]=et,G[at]=dt,Bt=at);else if(mt<D&&0>o(It,dt))G[Bt]=It,G[mt]=dt,Bt=mt;else break t}}return st}function o(G,st){var dt=G.sortIndex-st.sortIndex;return dt!==0?dt:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var y=[],g=[],E=1,A=null,I=3,j=!1,F=!1,Z=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function bt(G){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=G)s(g),st.sortIndex=st.expirationTime,t(y,st);else break;st=n(g)}}function ft(G){if(Z=!1,bt(G),!F)if(n(y)!==null)F=!0,xt||(xt=!0,P());else{var st=n(g);st!==null&&oe(ft,st.startTime-G)}}var xt=!1,M=-1,b=5,w=-1;function O(){return H?!0:!(r.unstable_now()-w<b)}function V(){if(H=!1,xt){var G=r.unstable_now();w=G;var st=!0;try{t:{F=!1,Z&&(Z=!1,ot(M),M=-1),j=!0;var dt=I;try{e:{for(bt(G),A=n(y);A!==null&&!(A.expirationTime>G&&O());){var Bt=A.callback;if(typeof Bt=="function"){A.callback=null,I=A.priorityLevel;var D=Bt(A.expirationTime<=G);if(G=r.unstable_now(),typeof D=="function"){A.callback=D,bt(G),st=!0;break e}A===n(y)&&s(y),bt(G)}else s(y);A=n(y)}if(A!==null)st=!0;else{var W=n(g);W!==null&&oe(ft,W.startTime-G),st=!1}}break t}finally{A=null,I=dt,j=!1}st=void 0}}finally{st?P():xt=!1}}}var P;if(typeof rt=="function")P=function(){rt(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Pe=C.port2;C.port1.onmessage=V,P=function(){Pe.postMessage(null)}}else P=function(){J(V,0)};function oe(G,st){M=J(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(G){switch(I){case 1:case 2:case 3:var st=3;break;default:st=I}var dt=I;I=st;try{return G()}finally{I=dt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=I;I=G;try{return st()}finally{I=dt}},r.unstable_scheduleCallback=function(G,st,dt){var Bt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Bt+dt:Bt):dt=Bt,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=dt+D,G={id:E++,callback:st,priorityLevel:G,startTime:dt,expirationTime:D,sortIndex:-1},dt>Bt?(G.sortIndex=dt,t(g,G),n(y)===null&&G===n(g)&&(Z?(ot(M),M=-1):Z=!0,oe(ft,dt-Bt))):(G.sortIndex=D,t(y,G),F||j||(F=!0,xt||(xt=!0,P()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var st=I;return function(){var dt=I;I=st;try{return G.apply(this,arguments)}finally{I=dt}}}}(Ld)),Ld}var V_;function wA(){return V_||(V_=1,kd.exports=RA()),kd.exports}var Ud={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function IA(){if(x_)return Ke;x_=1;var r=Rm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},Ke.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Ke.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ke.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:j}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:I,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Ke.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Ke.requestFormReset=function(y){s.d.r(y)},Ke.unstable_batchedUpdates=function(y,g){return y(g)},Ke.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var P_;function CA(){if(P_)return Ud.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=IA(),Ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function DA(){if(k_)return Tl;k_=1;var r=wA(),t=Rm(),n=CA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case H:return"Profiler";case Z:return"StrictMode";case ft:return"Suspense";case xt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case ot:return(e._context.displayName||"Context")+".Consumer";case bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:Pe(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return Pe(e(i))}catch{}}return null}var oe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Bt=[],D=-1;function W(e){return{current:e}}function at(e){0>D||(e.current=Bt[D],Bt[D]=null,D--)}function et(e,i){D++,Bt[D]=e.current,e.current=i}var mt=W(null),It=W(null),Tt=W(null),Ce=W(null);function Jt(e,i){switch(et(Tt,i),et(It,e),et(mt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?n_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=n_(i),e=i_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(mt),et(mt,e)}function jn(){at(mt),at(It),at(Tt)}function Wi(e){e.memoizedState!==null&&et(Ce,e);var i=mt.current,a=i_(i,e.type);i!==a&&(et(It,e),et(mt,a))}function yi(e){It.current===e&&(at(mt),at(It)),Ce.current===e&&(at(Ce),pl._currentValue=dt)}var Qr=Object.prototype.hasOwnProperty,Kr=r.unstable_scheduleCallback,Yr=r.unstable_cancelCallback,ho=r.unstable_shouldYield,eu=r.unstable_requestPaint,gn=r.unstable_now,Mh=r.unstable_getCurrentPriorityLevel,fo=r.unstable_ImmediatePriority,Hs=r.unstable_UserBlockingPriority,Xr=r.unstable_NormalPriority,Vh=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,mo=r.log,nu=r.unstable_setDisableYieldValue,le=null,Ft=null;function on(e){if(typeof mo=="function"&&nu(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(le,e)}catch{}}var Ge=Math.clz32?Math.clz32:$r,iu=Math.log,xh=Math.LN2;function $r(e){return e>>>=0,e===0?32:31-(iu(e)/xh|0)|0}var Zr=256,Jr=4194304;function On(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=On(l):(v&=T,v!==0?h=On(v):a||(a=T&~e,a!==0&&(h=On(a))))):(T=l&~d,T!==0?h=On(T):v!==0?h=On(v):a||(a=l&~e,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function po(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var e=Zr;return Zr<<=1,(Zr&4194048)===0&&(Zr=256),e}function yo(){var e=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),e}function _i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function vi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _o(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Ge(a),X=1<<Q;T[Q]=0,R[Q]=-1;var z=U[Q];if(z!==null)for(U[Q]=null,Q=0;Q<z.length;Q++){var B=z[Q];B!==null&&(B.lane&=-536870913)}a&=~X}l!==0&&qn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function qn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function vo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function tr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function er(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function ru(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var ne=Math.random().toString(36).slice(2),Te="__reactFiber$"+ne,pe="__reactProps$"+ne,yn="__reactContainer$"+ne,Eo="__reactEvents$"+ne,Ph="__reactListeners$"+ne,nr="__reactHandles$"+ne,su="__reactResources$"+ne,ts="__reactMarker$"+ne;function ir(e){delete e[Te],delete e[pe],delete e[Eo],delete e[Ph],delete e[nr]}function Ei(e){var i=e[Te];if(i)return i;for(var a=e.parentNode;a;){if(i=a[yn]||a[Te]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=o_(e);e!==null;){if(a=e[Te])return a;e=o_(e)}return i}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[Te]||e[yn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[su];return i||(i=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function he(e){e[ts]=!0}var To=new Set,Ks={};function Mn(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(Ks[e]=i,e=0;e<i.length;e++)To.add(i[e])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},es={};function lu(e){return Qr.call(es,e)?!0:Qr.call(ou,e)?!1:au.test(e)?es[e]=!0:(ou[e]=!0,!1)}function rr(e,i,a){if(lu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ns,uu;function Si(e){if(ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ns=i&&i[1]||"",uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+e+uu}var Ys=!1;function Xs(e,i){if(!e||Ys)return"";Ys=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(B){var z=B}Reflect.construct(e,[],X)}else{try{X.call()}catch(B){z=B}e.call(X.prototype)}}else{try{throw Error()}catch(B){z=B}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),U=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var Q=`
`+R[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Ys=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Si(a):""}function So(e){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Xs(e.type,!1);case 11:return Xs(e.type.render,!1);case 1:return Xs(e.type,!0);case 31:return Si("Activity");default:return""}}function $s(e){try{var i="";do i+=So(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ao(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kh(e){var i=Ao(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Zs(e){e._valueTracker||(e._valueTracker=kh(e))}function bo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ao(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Lh=/[\n"\\]/g;function ge(e){return e.replace(Lh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+We(i)):e.value!==""+We(i)&&(e.value=""+We(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?sr(e,v,We(i)):a!=null?sr(e,v,We(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+We(T):e.removeAttribute("name")}function rs(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+We(a):"",i=i!=null?""+We(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function sr(e,i,a){i==="number"&&is(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ai(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+We(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+We(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+We(a):""}function ss(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=We(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function _n(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var as=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||as.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ro(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&cu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&cu(e,d,i[d])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return zh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var bi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ri=null,wi=null;function Io(e){var i=Hn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&bo(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ai(e,!!a.multiple,i,!1)}}}var Qn=!1;function hu(e,i,a){if(Qn)return e(i,a);Qn=!0;try{var l=e(i);return l}finally{if(Qn=!1,(Ri!==null||wi!==null)&&(rc(),Ri&&(i=Ri,e=wi,wi=Ri=null,Io(i),e)))for(i=0;i<e.length;i++)Io(e[i])}}function os(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Vn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){En=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{En=!1}var Kn=null,ar=null,Ii=null;function Co(){if(Ii)return Ii;var e,i=ar,a=i.length,l,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(e,1<l?1-l:void 0)}function Yn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function Do(){return!1}function De(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:Do,this.isPropagationStopped=Do,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=De(qt),us=E({},qt,{view:0,detail:0}),fu=De(us),ta,ea,$n,cs=E({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(ta=e.screenX-$n.screenX,ea=e.screenY-$n.screenY):ea=ta=0,$n=e),ta)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Tn=De(cs),du=E({},cs,{dataTransfer:0}),Bh=De(du),hs=E({},us,{relatedTarget:0}),na=De(hs),No=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=De(No),mu=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ra=De(mu),jh=E({},qt,{data:0}),Oo=De(jh),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=gu[e])?!!i[e]:!1}function ds(){return Mo}var yu=E({},us,{key:function(e){if(e.key){var i=fs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sa=De(yu),_u=E({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=De(_u),Ci=E({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),vu=De(Ci),Eu=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=De(Eu),Su=E({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=De(Su),tn=E({},qt,{newState:0,oldState:0}),Au=De(tn),bu=[9,13,27,32],Zn=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var m=Vn&&"TextEvent"in window&&!c,_=Vn&&(!Zn||c&&8<c&&11>=c),S=" ",k=!1;function q(e,i){switch(e){case"keyup":return bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Se(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(k=!0,S);case"textInput":return e=i.data,e===S&&k?null:e;default:return null}}function kt(e,i){if(Pt)return e==="compositionend"||!Zn&&q(e,i)?(e=Co(),Ii=ar=Kn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Di(e,i,a,l){Ri?wi?wi.push(l):wi=[l]:Ri=l,i=cc(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Le=null,Jn=null;function xo(e){Zy(e,0)}function Ru(e){var i=Fn(e);if(bo(i))return e}function _p(e,i){if(e==="change")return i}var vp=!1;if(Vn){var qh;if(Vn){var Hh="oninput"in document;if(!Hh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Hh=typeof Ep.oninput=="function"}qh=Hh}else qh=!1;vp=qh&&(!document.documentMode||9<document.documentMode)}function Tp(){Le&&(Le.detachEvent("onpropertychange",Sp),Jn=Le=null)}function Sp(e){if(e.propertyName==="value"&&Ru(Jn)){var i=[];Di(i,Jn,e,vn(e)),hu(xo,i)}}function J0(e,i,a){e==="focusin"?(Tp(),Le=i,Jn=a,Le.attachEvent("onpropertychange",Sp)):e==="focusout"&&Tp()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Jn)}function tS(e,i){if(e==="click")return Ru(i)}function eS(e,i){if(e==="input"||e==="change")return Ru(i)}function nS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var un=typeof Object.is=="function"?Object.is:nS;function Po(e,i){if(un(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qr.call(i,h)||!un(e[h],i[h]))return!1}return!0}function Ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,i){var a=Ap(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ap(a)}}function Rp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Rp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=is(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=is(e.document)}return i}function Fh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var iS=Vn&&"documentMode"in document&&11>=document.documentMode,oa=null,Gh=null,ko=null,Qh=!1;function Ip(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||oa==null||oa!==is(l)||(l=oa,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Po(ko,l)||(ko=l,l=cc(Gh,"onSelect"),0<l.length&&(i=new Ws("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=oa)))}function ms(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var la={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Kh={},Cp={};Vn&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function ps(e){if(Kh[e])return Kh[e];if(!la[e])return e;var i=la[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cp)return Kh[e]=i[a];return e}var Dp=ps("animationend"),Np=ps("animationiteration"),Op=ps("animationstart"),rS=ps("transitionrun"),sS=ps("transitionstart"),aS=ps("transitioncancel"),Mp=ps("transitionend"),Vp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function xn(e,i){Vp.set(e,i),Mn(i,[e])}var xp=new WeakMap;function Sn(e,i){if(typeof e=="object"&&e!==null){var a=xp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:$s(i)},xp.set(e,i),i)}return{value:e,source:i,stack:$s(i)}}var An=[],ua=0,Xh=0;function wu(){for(var e=ua,i=Xh=ua=0;i<e;){var a=An[i];An[i++]=null;var l=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Pp(a,h,d)}}function Iu(e,i,a,l){An[ua++]=e,An[ua++]=i,An[ua++]=a,An[ua++]=l,Xh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $h(e,i,a,l){return Iu(e,i,a,l),Cu(e)}function ca(e,i){return Iu(e,null,null,i),Cu(e)}function Pp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Cu(e){if(50<ol)throw ol=0,id=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ha={};function oS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,a,l){return new oS(e,i,a,l)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ni(e,i){var a=e.alternate;return a===null?(a=cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Du(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Zh(e)&&(v=1);else if(typeof e=="string")v=uA(e,a,mt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=cn(31,a,i,h),e.elementType=w,e.lanes=d,e;case F:return gs(a.children,h,d,i);case Z:v=8,h|=24;break;case H:return e=cn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case ft:return e=cn(13,a,i,h),e.elementType=ft,e.lanes=d,e;case xt:return e=cn(19,a,i,h),e.elementType=xt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case rt:v=10;break t;case ot:v=9;break t;case bt:v=11;break t;case M:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=cn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function gs(e,i,a,l){return e=cn(7,e,l,i),e.lanes=a,e}function Jh(e,i,a){return e=cn(6,e,null,i),e.lanes=a,e}function Wh(e,i,a){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var fa=[],da=0,Nu=null,Ou=0,bn=[],Rn=0,ys=null,Oi=1,Mi="";function _s(e,i){fa[da++]=Ou,fa[da++]=Nu,Nu=e,Ou=i}function Lp(e,i,a){bn[Rn++]=Oi,bn[Rn++]=Mi,bn[Rn++]=ys,ys=e;var l=Oi;e=Mi;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-Ge(i)+h|a<<h|l,Mi=d+e}else Oi=1<<d|a<<h|l,Mi=e}function tf(e){e.return!==null&&(_s(e,1),Lp(e,1,0))}function ef(e){for(;e===Nu;)Nu=fa[--da],fa[da]=null,Ou=fa[--da],fa[da]=null;for(;e===ys;)ys=bn[--Rn],bn[Rn]=null,Mi=bn[--Rn],bn[Rn]=null,Oi=bn[--Rn],bn[Rn]=null}var en=null,ue=null,jt=!1,vs=null,Wn=!1,nf=Error(s(519));function Es(e){var i=Error(s(418,""));throw zo(Sn(i,e)),nf}function Up(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Te]=e,i[pe]=l,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<ul.length;a++)Nt(ul[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zs(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),ss(i,l.value,l.defaultValue,l.children),Zs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||e_(i.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),l.onScroll!=null&&Nt("scroll",i),l.onScrollEnd!=null&&Nt("scrollend",i),l.onClick!=null&&(i.onclick=hc),i=!0):i=!1,i||Es(e)}function zp(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:en=en.return}}function Lo(e){if(e!==en)return!1;if(!jt)return zp(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vd(e.type,e.memoizedProps)),a=!a),a&&ue&&Es(e),zp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=kn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,Sr(e.type)?(e=Ad,Ad=null,ue=e):ue=i):ue=en?kn(e.stateNode.nextSibling):null;return!0}function Uo(){ue=en=null,jt=!1}function Bp(){var e=vs;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),vs=null),e}function zo(e){vs===null?vs=[e]:vs.push(e)}var rf=W(null),Ts=null,Vi=null;function or(e,i,a){et(rf,i._currentValue),i._currentValue=a}function xi(e){e._currentValue=rf.current,at(rf)}function sf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function af(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),sf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),sf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Bo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&af(i,e,a,l),i.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){Ts=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return jp(Ts,e)}function Vu(e,i){return Ts===null&&Ss(e),jp(e,i)}function jp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(e===null)throw Error(s(308));Vi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Vi=Vi.next=i;return a}var lS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},uS=r.unstable_scheduleCallback,cS=r.unstable_NormalPriority,be={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new lS,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&uS(cS,function(){e.controller.abort()})}var qo=null,lf=0,ma=0,pa=null;function hS(e,i){if(qo===null){var a=qo=[];lf=0,ma=cd(),pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return lf++,i.then(qp,qp),i}function qp(){if(--lf===0&&qo!==null){pa!==null&&(pa.status="fulfilled");var e=qo;qo=null,ma=0,pa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function fS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Hp=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&hS(e,i),Hp!==null&&Hp(e,i)};var As=W(null);function uf(){var e=As.current;return e!==null?e:Wt.pooledCache}function xu(e,i){i===null?et(As,As.current):et(As,i.pool)}function Fp(){var e=uf();return e===null?null:{parent:be._currentValue,pool:e}}var Ho=Error(s(460)),Gp=Error(s(474)),Pu=Error(s(542)),cf={then:function(){}};function Qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(){}function Kp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ku,ku),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xp(e),e;default:if(typeof i.status=="string")i.then(ku,ku);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Xp(e),e}throw Fo=i,Ho}}var Fo=null;function Yp(){if(Fo===null)throw Error(s(459));var e=Fo;return Fo=null,e}function Xp(e){if(e===Ho||e===Pu)throw Error(s(483))}var lr=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ur(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function cr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Cu(e),Pp(e,null,a),i}return Iu(e,l,i,a),Cu(e)}function Go(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vo(e,a)}}function df(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var mf=!1;function Qo(){if(mf){var e=pa;if(e!==null)throw e}}function Ko(e,i,a,l){mf=!1;var h=e.updateQueue;lr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,v===null?d=U:v.next=U,v=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=U:T.next=U,Q.lastBaseUpdate=R))}if(d!==null){var X=h.baseState;v=0,Q=U=R=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(Lt&z)===z:(l&z)===z){z!==0&&z===ma&&(mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=e,gt=T;z=i;var $t=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){X=vt.call($t,X,z);break t}X=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,z=typeof vt=="function"?vt.call($t,X,z):vt,z==null)break t;X=E({},X,z);break t;case 2:lr=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(U=Q=B,R=X):Q=Q.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),_r|=v,e.lanes=v,e.memoizedState=X}}function $p(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Zp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$p(a[e],i)}var ga=W(null),Lu=W(0);function Jp(e,i){e=ji,et(Lu,e),et(ga,i),ji=e|i.baseLanes}function pf(){et(Lu,ji),et(ga,ga.current)}function gf(){ji=Lu.current,at(ga),at(Lu)}var hr=0,wt=null,Yt=null,ye=null,Uu=!1,ya=!1,bs=!1,zu=0,Yo=0,_a=null,dS=0;function fe(){throw Error(s(321))}function yf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!un(e[a],i[a]))return!1;return!0}function _f(e,i,a,l,h,d){return hr=d,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Pg:kg,bs=!1,d=a(l,h),bs=!1,ya&&(d=tg(i,a,l,h)),Wp(e),d}function Wp(e){G.H=Gu;var i=Yt!==null&&Yt.next!==null;if(hr=0,ye=Yt=wt=null,Uu=!1,Yo=0,_a=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Mu(e)&&(Oe=!0))}function tg(e,i,a,l){wt=e;var h=0;do{if(ya&&(_a=null),Yo=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,ye=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=ES,d=i(a,l)}while(ya);return d}function mS(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Xo(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(wt.flags|=1024),i}function vf(){var e=zu!==0;return zu=0,e}function Ef(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Tf(e){if(Uu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Uu=!1}hr=0,ye=Yt=wt=null,ya=!1,Yo=zu=0,_a=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?wt.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Yt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ye===null?wt.memoizedState:ye.next;if(i!==null)ye=i,Yt=e;else{if(e===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ye===null?wt.memoizedState=ye=e:ye=ye.next=e}return ye}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var i=Yo;return Yo+=1,_a===null&&(_a=[]),e=Kp(_a,e,i),i=wt,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Pg:kg),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===rt)return Qe(e)}throw Error(s(438,String(e)))}function Af(e){var i=null,a=wt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Sf(),wt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=O;return i.index++,a}function Pi(e,i){return typeof i=="function"?i(e):i}function ju(e){var i=_e();return bf(i,Yt,e)}function bf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,R=null,U=i,Q=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Lt&X)===X:(hr&X)===X){var z=U.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===ma&&(Q=!0);else if((hr&z)===z){U=U.next,z===ma&&(Q=!0);continue}else X={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=X,v=d):R=R.next=X,wt.lanes|=z,_r|=z;X=U.action,bs&&a(d,X),d=U.hasEagerState?U.eagerState:a(d,X)}else z={lane:X,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=z,v=d):R=R.next=z,wt.lanes|=X,_r|=X;U=U.next}while(U!==null&&U!==i);if(R===null?v=d:R.next=T,!un(d,e.memoizedState)&&(Oe=!0,Q&&(a=pa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function eg(e,i,a){var l=wt,h=_e(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var T=rg.bind(null,l,h,e);if($o(2048,8,T,[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,va(9,qu(),ig.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(hr&124)!==0||ng(l,i,a)}return a}function ng(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i=Sf(),wt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ig(e,i,a,l){i.value=a,i.getSnapshot=l,sg(i)&&ag(e)}function rg(e,i,a){return a(function(){sg(i)&&ag(e)})}function sg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!un(e,a)}catch{return!0}}function ag(e){var i=ca(e,2);i!==null&&pn(i,e,2)}function wf(e){var i=nn();if(typeof e=="function"){var a=e;if(e=a(),bs){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},i}function og(e,i,a,l){return e.baseState=a,bf(e,Yt,typeof l=="function"?l:Pi)}function pS(e,i,a,l,h){if(Fu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function lg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,l),R=G.S;R!==null&&R(v,T),ug(e,i,T)}catch(U){If(e,i,U)}finally{G.T=d}}else try{d=a(h,l),ug(e,i,d)}catch(U){If(e,i,U)}}function ug(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){cg(e,i,l)},function(l){return If(e,i,l)}):cg(e,i,a)}function cg(e,i,a){i.status="fulfilled",i.value=a,hg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,lg(e,a)))}function If(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hg(i),i=i.next;while(i!==l)}e.action=null}function hg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function fg(e,i){return i}function dg(e,i){if(jt){var a=Wt.formState;if(a!==null){t:{var l=wt;if(jt){if(ue){e:{for(var h=ue,d=Wn;h.nodeType!==8;){if(!d){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=kn(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:i},a.queue=l,a=Mg.bind(null,wt,l),l.dispatch=a,l=wf(!1),d=Mf.bind(null,wt,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=pS.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function mg(e){var i=_e();return pg(i,Yt,e)}function pg(e,i,a){if(i=bf(e,i,fg)[0],e=ju(Pi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Xo(i)}catch(v){throw v===Ho?Pu:v}else l=i;i=_e();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(wt.flags|=2048,va(9,qu(),gS.bind(null,h,a),null)),[l,d,e]}function gS(e,i){e.action=i}function gg(e){var i=_e(),a=Yt;if(a!==null)return pg(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function va(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=wt.updateQueue,i===null&&(i=Sf(),wt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function qu(){return{destroy:void 0,resource:void 0}}function yg(){return _e().memoizedState}function Hu(e,i,a,l){var h=nn();l=l===void 0?null:l,wt.flags|=e,h.memoizedState=va(1|i,qu(),a,l)}function $o(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&yf(l,Yt.memoizedState.deps)?h.memoizedState=va(i,d,a,l):(wt.flags|=e,h.memoizedState=va(1|i,d,a,l))}function _g(e,i){Hu(8390656,8,e,i)}function vg(e,i){$o(2048,8,e,i)}function Eg(e,i){return $o(4,2,e,i)}function Tg(e,i){return $o(4,4,e,i)}function Sg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Ag(e,i,a){a=a!=null?a.concat([e]):null,$o(4,4,Sg.bind(null,i,e),a)}function Cf(){}function bg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&yf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Rg(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&yf(i,l[1]))return l[0];if(l=e(),bs){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l}function Df(e,i,a){return a===void 0||(hr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Cy(),wt.lanes|=e,_r|=e,a)}function wg(e,i,a,l){return un(a,i)?a:ga.current!==null?(e=Df(e,a,l),un(e,i)||(Oe=!0),e):(hr&42)===0?(Oe=!0,e.memoizedState=a):(e=Cy(),wt.lanes|=e,_r|=e,i)}function Ig(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Mf(e,!1,i,a);try{var R=h(),U=G.S;if(U!==null&&U(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=fS(R,l);Zo(e,i,Q,mn(e))}else Zo(e,i,l,mn(e))}catch(X){Zo(e,i,{then:function(){},status:"rejected",reason:X},mn())}finally{st.p=d,G.T=v}}function yS(){}function Nf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Cg(e).queue;Ig(e,h,i,dt,a===null?yS:function(){return Dg(e),a(l)})}function Cg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Dg(e){var i=Cg(e).next.queue;Zo(e,i,{},mn())}function Of(){return Qe(pl)}function Ng(){return _e().memoizedState}function Og(){return _e().memoizedState}function _S(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();e=ur(a);var l=cr(i,e,a);l!==null&&(pn(l,i,a),Go(l,i,a)),i={cache:of()},e.payload=i;return}i=i.return}}function vS(e,i,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Vg(i,a):(a=$h(e,i,a,l),a!==null&&(pn(a,e,l),xg(a,i,l)))}function Mg(e,i,a){var l=mn();Zo(e,i,a,l)}function Zo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Vg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return Iu(e,i,h,0),Wt===null&&wu(),!1}catch{}finally{}if(a=$h(e,i,h,l),a!==null)return pn(a,e,l),xg(a,i,l),!0}return!1}function Mf(e,i,a,l){if(l={lane:2,revertLane:cd(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(i)throw Error(s(479))}else i=$h(e,a,l,2),i!==null&&pn(i,e,2)}function Fu(e){var i=e.alternate;return e===wt||i!==null&&i===wt}function Vg(e,i){ya=Uu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function xg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,vo(e,a)}}var Gu={readContext:Qe,use:Bu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Pg={readContext:Qe,use:Bu,useCallback:function(e,i){return nn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:_g,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Hu(4194308,4,Sg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Hu(4194308,4,e,i)},useInsertionEffect:function(e,i){Hu(4,2,e,i)},useMemo:function(e,i){var a=nn();i=i===void 0?null:i;var l=e();if(bs){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=nn();if(a!==void 0){var h=a(i);if(bs){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=vS.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var i=nn();return e={current:e},i.memoizedState=e},useState:function(e){e=wf(e);var i=e.queue,a=Mg.bind(null,wt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Cf,useDeferredValue:function(e,i){var a=nn();return Df(a,e,i)},useTransition:function(){var e=wf(!1);return e=Ig.bind(null,wt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=wt,h=nn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Lt&124)!==0||ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_g(rg.bind(null,l,d,e),[e]),l.flags|=2048,va(9,qu(),ig.bind(null,l,d,a,i),null),a},useId:function(){var e=nn(),i=Wt.identifierPrefix;if(jt){var a=Mi,l=Oi;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=zu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=dS++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Of,useFormState:dg,useActionState:dg,useOptimistic:function(e){var i=nn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Mf.bind(null,wt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Af,useCacheRefresh:function(){return nn().memoizedState=_S.bind(null,wt)}},kg={readContext:Qe,use:Bu,useCallback:bg,useContext:Qe,useEffect:vg,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:ju,useRef:yg,useState:function(){return ju(Pi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=_e();return wg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=ju(Pi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Xo(e),i]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:Of,useFormState:mg,useActionState:mg,useOptimistic:function(e,i){var a=_e();return og(a,Yt,e,i)},useMemoCache:Af,useCacheRefresh:Og},ES={readContext:Qe,use:Bu,useCallback:bg,useContext:Qe,useEffect:vg,useImperativeHandle:Ag,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:Rg,useReducer:Rf,useRef:yg,useState:function(){return Rf(Pi)},useDebugValue:Cf,useDeferredValue:function(e,i){var a=_e();return Yt===null?Df(a,e,i):wg(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Rf(Pi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Xo(e),i]},useSyncExternalStore:eg,useId:Ng,useHostTransitionStatus:Of,useFormState:gg,useActionState:gg,useOptimistic:function(e,i){var a=_e();return Yt!==null?og(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Og},Ea=null,Jo=0;function Qu(e){var i=Jo;return Jo+=1,Ea===null&&(Ea=[]),Kp(Ea,e,i)}function Wo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ku(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Lg(e){var i=e._init;return i(e._payload)}function Ug(e){function i(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ni(x,N),x.index=0,x.sibling=null,x}function d(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,L,K){return N===null||N.tag!==6?(N=Jh(L,x.mode,K),N.return=x,N):(N=h(N,L),N.return=x,N)}function R(x,N,L,K){var ut=L.type;return ut===F?Q(x,N,L.props.children,K,L.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Lg(ut)===N.type)?(N=h(N,L.props),Wo(N,L),N.return=x,N):(N=Du(L.type,L.key,L.props,null,x.mode,K),Wo(N,L),N.return=x,N)}function U(x,N,L,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Wh(L,x.mode,K),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function Q(x,N,L,K,ut){return N===null||N.tag!==7?(N=gs(L,x.mode,K,ut),N.return=x,N):(N=h(N,L),N.return=x,N)}function X(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Jh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return L=Du(N.type,N.key,N.props,null,x.mode,L),Wo(L,N),L.return=x,L;case j:return N=Wh(N,x.mode,L),N.return=x,N;case b:var K=N._init;return N=K(N._payload),X(x,N,L)}if(oe(N)||P(N))return N=gs(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return X(x,Qu(N),L);if(N.$$typeof===rt)return X(x,Vu(x,N),L);Ku(x,N)}return null}function z(x,N,L,K){var ut=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:T(x,N,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===ut?R(x,N,L,K):null;case j:return L.key===ut?U(x,N,L,K):null;case b:return ut=L._init,L=ut(L._payload),z(x,N,L,K)}if(oe(L)||P(L))return ut!==null?null:Q(x,N,L,K,null);if(typeof L.then=="function")return z(x,N,Qu(L),K);if(L.$$typeof===rt)return z(x,N,Vu(x,L),K);Ku(x,L)}return null}function B(x,N,L,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(L)||null,T(N,x,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case I:return x=x.get(K.key===null?L:K.key)||null,R(N,x,K,ut);case j:return x=x.get(K.key===null?L:K.key)||null,U(N,x,K,ut);case b:var Ct=K._init;return K=Ct(K._payload),B(x,N,L,K,ut)}if(oe(K)||P(K))return x=x.get(L)||null,Q(N,x,K,ut,null);if(typeof K.then=="function")return B(x,N,L,Qu(K),ut);if(K.$$typeof===rt)return B(x,N,L,Vu(N,K),ut);Ku(N,K)}return null}function vt(x,N,L,K){for(var ut=null,Ct=null,ht=N,yt=N=0,Ve=null;ht!==null&&yt<L.length;yt++){ht.index>yt?(Ve=ht,ht=null):Ve=ht.sibling;var zt=z(x,ht,L[yt],K);if(zt===null){ht===null&&(ht=Ve);break}e&&ht&&zt.alternate===null&&i(x,ht),N=d(zt,N,yt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt,ht=Ve}if(yt===L.length)return a(x,ht),jt&&_s(x,yt),ut;if(ht===null){for(;yt<L.length;yt++)ht=X(x,L[yt],K),ht!==null&&(N=d(ht,N,yt),Ct===null?ut=ht:Ct.sibling=ht,Ct=ht);return jt&&_s(x,yt),ut}for(ht=l(ht);yt<L.length;yt++)Ve=B(ht,x,yt,L[yt],K),Ve!==null&&(e&&Ve.alternate!==null&&ht.delete(Ve.key===null?yt:Ve.key),N=d(Ve,N,yt),Ct===null?ut=Ve:Ct.sibling=Ve,Ct=Ve);return e&&ht.forEach(function(Ir){return i(x,Ir)}),jt&&_s(x,yt),ut}function gt(x,N,L,K){if(L==null)throw Error(s(151));for(var ut=null,Ct=null,ht=N,yt=N=0,Ve=null,zt=L.next();ht!==null&&!zt.done;yt++,zt=L.next()){ht.index>yt?(Ve=ht,ht=null):Ve=ht.sibling;var Ir=z(x,ht,zt.value,K);if(Ir===null){ht===null&&(ht=Ve);break}e&&ht&&Ir.alternate===null&&i(x,ht),N=d(Ir,N,yt),Ct===null?ut=Ir:Ct.sibling=Ir,Ct=Ir,ht=Ve}if(zt.done)return a(x,ht),jt&&_s(x,yt),ut;if(ht===null){for(;!zt.done;yt++,zt=L.next())zt=X(x,zt.value,K),zt!==null&&(N=d(zt,N,yt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt);return jt&&_s(x,yt),ut}for(ht=l(ht);!zt.done;yt++,zt=L.next())zt=B(ht,x,yt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&ht.delete(zt.key===null?yt:zt.key),N=d(zt,N,yt),Ct===null?ut=zt:Ct.sibling=zt,Ct=zt);return e&&ht.forEach(function(TA){return i(x,TA)}),jt&&_s(x,yt),ut}function $t(x,N,L,K){if(typeof L=="object"&&L!==null&&L.type===F&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var ut=L.key;N!==null;){if(N.key===ut){if(ut=L.type,ut===F){if(N.tag===7){a(x,N.sibling),K=h(N,L.props.children),K.return=x,x=K;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&Lg(ut)===N.type){a(x,N.sibling),K=h(N,L.props),Wo(K,L),K.return=x,x=K;break t}a(x,N);break}else i(x,N);N=N.sibling}L.type===F?(K=gs(L.props.children,x.mode,K,L.key),K.return=x,x=K):(K=Du(L.type,L.key,L.props,null,x.mode,K),Wo(K,L),K.return=x,x=K)}return v(x);case j:t:{for(ut=L.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(x,N.sibling),K=h(N,L.children||[]),K.return=x,x=K;break t}else{a(x,N);break}else i(x,N);N=N.sibling}K=Wh(L,x.mode,K),K.return=x,x=K}return v(x);case b:return ut=L._init,L=ut(L._payload),$t(x,N,L,K)}if(oe(L))return vt(x,N,L,K);if(P(L)){if(ut=P(L),typeof ut!="function")throw Error(s(150));return L=ut.call(L),gt(x,N,L,K)}if(typeof L.then=="function")return $t(x,N,Qu(L),K);if(L.$$typeof===rt)return $t(x,N,Vu(x,L),K);Ku(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(x,N.sibling),K=h(N,L),K.return=x,x=K):(a(x,N),K=Jh(L,x.mode,K),K.return=x,x=K),v(x)):a(x,N)}return function(x,N,L,K){try{Jo=0;var ut=$t(x,N,L,K);return Ea=null,ut}catch(ht){if(ht===Ho||ht===Pu)throw ht;var Ct=cn(29,ht,null,x.mode);return Ct.lanes=K,Ct.return=x,Ct}finally{}}}var Ta=Ug(!0),zg=Ug(!1),wn=W(null),ti=null;function fr(e){var i=e.alternate;et(Re,Re.current&1),et(wn,e),ti===null&&(i===null||ga.current!==null||i.memoizedState!==null)&&(ti=e)}function Bg(e){if(e.tag===22){if(et(Re,Re.current),et(wn,e),ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ti=e)}}else dr()}function dr(){et(Re,Re.current),et(wn,wn.current)}function ki(e){at(wn),ti===e&&(ti=null),at(Re)}var Re=W(0);function Yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Vf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=mn(),h=ur(l);h.payload=i,a!=null&&(h.callback=a),i=cr(e,h,l),i!==null&&(pn(i,e,l),Go(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=mn(),h=ur(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=cr(e,h,l),i!==null&&(pn(i,e,l),Go(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=mn(),l=ur(a);l.tag=2,i!=null&&(l.callback=i),i=cr(e,l,a),i!==null&&(pn(i,e,a),Go(i,e,a))}};function jg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Po(a,l)||!Po(h,d):!0}function qg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&xf.enqueueReplaceState(i,i.state,null)}function Rs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Hg(e){Xu(e)}function Fg(e){console.error(e)}function Gg(e){Xu(e)}function $u(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,i,a){return a=ur(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(e,i)},a}function Kg(e){return e=ur(e),e.tag=3,e}function Yg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Qg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Qg(i,a,l),typeof h!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function TS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Bo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ti===null?sd():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===cf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),od(e,l,h)),!1;case 22:return a.flags|=65536,l===cf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),od(e,l,h)),!1}throw Error(s(435,a.tag))}return od(e,l,h),sd(),!1}if(jt)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==nf&&(e=Error(s(422),{cause:l}),zo(Sn(e,a)))):(l!==nf&&(i=Error(s(423),{cause:l}),zo(Sn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sn(l,a),h=Pf(e.stateNode,l,h),df(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),al===null?al=[d]:al.push(d),ce!==4&&(ce=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,l,e),df(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vr===null||!vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),Yg(h,e,a,l),df(a,h),!1}a=a.return}while(a!==null);return!1}var Xg=Error(s(461)),Oe=!1;function Ue(e,i,a,l){i.child=e===null?zg(i,null,a,l):Ta(i,e.child,a,l)}function $g(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ss(i),l=_f(e,i,a,v,d,h),T=vf(),e!==null&&!Oe?(Ef(e,i,h),Li(e,i,h)):(jt&&T&&tf(i),i.flags|=1,Ue(e,i,l,h),i.child)}function Zg(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Zh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Jg(e,i,d,l,h)):(e=Du(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Hf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(v,l)&&e.ref===i.ref)return Li(e,i,h)}return i.flags|=1,e=Ni(d,l),e.ref=i.ref,e.return=i,i.child=e}function Jg(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Po(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,Hf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Li(e,i,h)}return kf(e,i,a,l,h)}function Wg(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ty(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(i,d!==null?d.cachePool:null),d!==null?Jp(i,d):pf(),Bg(i);else return i.lanes=i.childLanes=536870912,ty(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(xu(i,d.cachePool),Jp(i,d),dr(),i.memoizedState=null):(e!==null&&xu(i,null),pf(),dr());return Ue(e,i,h,a),i.child}function ty(e,i,a,l){var h=uf();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&xu(i,null),pf(),Bg(i),e!==null&&Bo(e,i,l,!0),null}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function kf(e,i,a,l,h){return Ss(i),a=_f(e,i,a,l,void 0,h),l=vf(),e!==null&&!Oe?(Ef(e,i,h),Li(e,i,h)):(jt&&l&&tf(i),i.flags|=1,Ue(e,i,a,h),i.child)}function ey(e,i,a,l,h,d){return Ss(i),i.updateQueue=null,a=tg(i,l,a,h),Wp(e),l=vf(),e!==null&&!Oe?(Ef(e,i,d),Li(e,i,d)):(jt&&l&&tf(i),i.flags|=1,Ue(e,i,a,d),i.child)}function ny(e,i,a,l,h){if(Ss(i),i.stateNode===null){var d=ha,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},hf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):ha,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Vf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xf.enqueueReplaceState(d,d.state,null),Ko(i,l,d,h),Qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,R=Rs(a,T);d.props=R;var U=d.context,Q=a.contextType;v=ha,typeof Q=="object"&&Q!==null&&(v=Qe(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==v)&&qg(i,d,l,v),lr=!1;var z=i.memoizedState;d.state=z,Ko(i,l,d,h),Qo(),U=i.memoizedState,T||z!==U||lr?(typeof X=="function"&&(Vf(i,a,X,l),U=i.memoizedState),(R=lr||jg(i,a,R,l,z,U,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ff(e,i),v=i.memoizedProps,Q=Rs(a,v),d.props=Q,X=i.pendingProps,z=d.context,U=a.contextType,R=ha,typeof U=="object"&&U!==null&&(R=Qe(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||z!==R)&&qg(i,d,l,R),lr=!1,z=i.memoizedState,d.state=z,Ko(i,l,d,h),Qo();var B=i.memoizedState;v!==X||z!==B||lr||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Vf(i,a,T,l),B=i.memoizedState),(Q=lr||jg(i,a,Q,l,z,B,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=R,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ta(i,e.child,null,h),i.child=Ta(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Li(e,i,h),e}function iy(e,i,a,l){return Uo(),i.flags|=256,Ue(e,i,a,l),i.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Fp()}}function zf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=In),e}function ry(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?fr(i):dr(),jt){var T=ue,R;if(R=T){t:{for(R=T,T=Wn;R.nodeType!==8;){if(!T){T=null;break t}if(R=kn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:ys!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},R=cn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,en=i,ue=null,R=!0):R=!1}R||Es(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Sd(T)?i.lanes=32:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(dr(),h=i.mode,T=Ju({mode:"hidden",children:T},h),l=gs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Uf(a),h.childLanes=zf(e,v,a),i.memoizedState=Lf,l):(fr(i),Bf(i,T))}if(R=e.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(fr(i),i.flags&=-257,i=jf(e,i,a)):i.memoizedState!==null?(dr(),i.child=e.child,i.flags|=128,i=null):(dr(),h=l.fallback,T=i.mode,l=Ju({mode:"visible",children:l.children},T),h=gs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ta(i,e.child,null,a),l=i.child,l.memoizedState=Uf(a),l.childLanes=zf(e,v,a),i.memoizedState=Lf,i=h);else if(fr(i),Sd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,zo({value:l,source:null,stack:null}),i=jf(e,i,a)}else if(Oe||Bo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:tr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,ca(e,l),pn(v,e,l),Xg;T.data==="$?"||sd(),i=jf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=R.treeContext,ue=kn(T.nextSibling),en=i,jt=!0,vs=null,Wn=!1,e!==null&&(bn[Rn++]=Oi,bn[Rn++]=Mi,bn[Rn++]=ys,Oi=e.id,Mi=e.overflow,ys=i),i=Bf(i,l.children),i.flags|=4096);return i}return h?(dr(),h=l.fallback,T=i.mode,R=e.child,U=R.sibling,l=Ni(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?h=Ni(U,h):(h=gs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Uf(a):(R=T.cachePool,R!==null?(U=be._currentValue,R=R.parent!==U?{parent:U,pool:U}:R):R=Fp(),T={baseLanes:T.baseLanes|a,cachePool:R}),h.memoizedState=T,h.childLanes=zf(e,v,a),i.memoizedState=Lf,l):(fr(i),a=e.child,e=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Bf(e,i){return i=Ju({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ju(e,i){return e=cn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function jf(e,i,a){return Ta(i,e.child,null,a),e=Bf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function sy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),sf(e.return,i,a)}function qf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ay(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,a,i);else if(e.tag===19)sy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(et(Re,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}qf(i,!0,a,null,d);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Li(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),_r|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Bo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ni(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ni(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Hf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function SS(e,i,a){switch(i.tag){case 3:Jt(i,i.stateNode.containerInfo),or(i,be,e.memoizedState.cache),Uo();break;case 27:case 5:Wi(i);break;case 4:Jt(i,i.stateNode.containerInfo);break;case 10:or(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ry(e,i,a):(fr(i),e=Li(e,i,a),e!==null?e.sibling:null);fr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Bo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ay(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Re,Re.current),l)break;return null;case 22:case 23:return i.lanes=0,Wg(e,i,a);case 24:or(i,be,e.memoizedState.cache)}return Li(e,i,a)}function oy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!Hf(e,a)&&(i.flags&128)===0)return Oe=!1,SS(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,jt&&(i.flags&1048576)!==0&&Lp(i,Ou,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Zh(l)?(e=Rs(l,e),i.tag=1,i=ny(null,i,l,e,a)):(i.tag=0,i=kf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===bt){i.tag=11,i=$g(null,i,l,e,a);break t}else if(h===M){i.tag=14,i=Zg(null,i,l,e,a);break t}}throw i=Pe(l)||l,Error(s(306,i,""))}}return i;case 0:return kf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rs(l,i.pendingProps),ny(e,i,l,h,a);case 3:t:{if(Jt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,ff(e,i),Ko(i,l,null,a);var v=i.memoizedState;if(l=v.cache,or(i,be,l),l!==d.cache&&af(i,[be],a,!0),Qo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=iy(e,i,l,a);break t}else if(l!==h){h=Sn(Error(s(424)),i),zo(h),i=iy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=kn(e.firstChild),en=i,jt=!0,vs=null,Wn=!0,a=zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Uo(),l===h){i=Li(e,i,a);break t}Ue(e,i,l,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=h_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=fc(Tt.current).createElement(a),l[Te]=i,l[pe]=e,Be(l,a,e),he(l),i.stateNode=l):i.memoizedState=h_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Wi(i),e===null&&jt&&(l=i.stateNode=l_(i.type,i.pendingProps,Tt.current),en=i,Wn=!0,h=ue,Sr(i.type)?(Ad=h,ue=kn(l.firstChild)):ue=h),Ue(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=l=ue)&&(l=$S(l,i.type,i.pendingProps,Wn),l!==null?(i.stateNode=l,en=i,ue=kn(l.firstChild),Wn=!1,h=!0):h=!1),h||Es(i)),Wi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,vd(h,d)?l=null:v!==null&&vd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=_f(e,i,mS,null,null,a),pl._currentValue=h),Zu(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ue)&&(a=ZS(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,en=i,ue=null,e=!0):e=!1),e||Es(i)),null;case 13:return ry(e,i,a);case 4:return Jt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ta(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return $g(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,or(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ss(i),h=Qe(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return Zg(e,i,i.type,i.pendingProps,a);case 15:return Jg(e,i,i.type,i.pendingProps,a);case 19:return ay(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Ju(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Wg(e,i,a);case 24:return Ss(i),l=Qe(be),e===null?(h=uf(),h===null&&(h=Wt,d=of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},hf(i),or(i,be,h)):((e.lanes&a)!==0&&(ff(e,i),Ko(i,null,null,a),Qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),or(i,be,l)):(l=d.cache,or(i,be,l),l!==h.cache&&af(i,[be],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(e){e.flags|=4}function ly(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(i)){if(i=wn.current,i!==null&&((Lt&4194048)===Lt?ti!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ti))throw Fo=cf,Gp;e.flags|=8192}}function Wu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?yo():536870912,e.lanes|=i,Ra|=i)}function tl(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function AS(e,i,a){var l=i.pendingProps;switch(ef(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(be),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Lo(i)?Ui(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bp())),re(i),null;case 26:return a=i.memoizedState,e===null?(Ui(i),a!==null?(re(i),ly(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Ui(i),re(i),ly(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Ui(i),re(i),i.flags&=-16777217),null;case 27:yi(i),a=Tt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=mt.current,Lo(i)?Up(i):(e=l_(h,l,a),i.stateNode=e,Ui(i))}return re(i),null;case 5:if(yi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=mt.current,Lo(i))Up(i);else{switch(h=fc(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Te]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,Lo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e_(e.nodeValue,a)),e||Es(i)}else e=fc(e).createTextNode(l),e[Te]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Lo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=i}else Uo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Bp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Wu(i,i.updateQueue),re(i),null;case 4:return jn(),e===null&&md(i.stateNode.containerInfo),re(i),null;case 10:return xi(i.type),re(i),null;case 19:if(at(Re),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)tl(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Yu(e),d!==null){for(i.flags|=128,tl(h,!1),e=d.updateQueue,i.updateQueue=e,Wu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)kp(a,e),a=a.sibling;return et(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&gn()>nc&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Yu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Wu(i,e),tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return re(i),null}else 2*gn()-h.renderingStartTime>nc&&a!==536870912&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,e=Re.current,et(Re,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return ki(i),gf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&Wu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&at(As),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xi(be),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bS(e,i){switch(ef(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return xi(be),jn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Uo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(Re),null;case 4:return jn(),null;case 10:return xi(i.type),null;case 22:case 23:return ki(i),gf(),e!==null&&at(As),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return xi(be),null;case 25:return null;default:return null}}function uy(e,i){switch(ef(i),i.tag){case 3:xi(be),jn();break;case 26:case 27:case 5:yi(i);break;case 4:jn();break;case 13:ki(i);break;case 19:at(Re);break;case 10:xi(i.type);break;case 22:case 23:ki(i),gf(),e!==null&&at(As);break;case 24:xi(be)}}function el(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Zt(i,i.return,T)}}function mr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=a,U=T;try{U()}catch(Q){Zt(h,R,Q)}}}l=l.next}while(l!==d)}}catch(Q){Zt(i,i.return,Q)}}function cy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Zp(i,a)}catch(l){Zt(e,e.return,l)}}}function hy(e,i,a){a.props=Rs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(e,i,l)}}function nl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Zt(e,i,h)}}function ei(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Zt(e,i,h)}else a.current=null}function fy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Zt(e,e.return,h)}}function Ff(e,i,a){try{var l=e.stateNode;GS(l,e.type,a,i),l[pe]=i}catch(h){Zt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sr(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hc));else if(l!==4&&(l===27&&Sr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Qf(e,i,a),e=e.sibling;e!==null;)Qf(e,i,a),e=e.sibling}function tc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Sr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tc(e,i,a),e=e.sibling;e!==null;)tc(e,i,a),e=e.sibling}function my(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[Te]=e,i[pe]=a}catch(d){Zt(e,e.return,d)}}var zi=!1,de=!1,Kf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Me=null;function RS(e,i){if(e=e.containerInfo,yd=_c,e=wp(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,R=-1,U=0,Q=0,X=e,z=null;e:for(;;){for(var B;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(R=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(B=X.firstChild)!==null;)z=X,X=B;for(;;){if(X===e)break e;if(z===a&&++U===h&&(T=v),z===d&&++Q===l&&(R=v),(B=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=B}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(_d={focusedElem:e,selectionRange:a},_c=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var vt=Rs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(vt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Zt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Td(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function gy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:pr(e,a),l&4&&el(5,a);break;case 1:if(pr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Zt(a,a.return,v)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(a,a.return,v)}}l&64&&cy(a),l&512&&nl(a,a.return);break;case 3:if(pr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zp(e,i)}catch(v){Zt(a,a.return,v)}}break;case 27:i===null&&l&4&&my(a);case 26:case 5:pr(e,a),i===null&&l&4&&fy(a),l&512&&nl(a,a.return);break;case 12:pr(e,a);break;case 13:pr(e,a),l&4&&vy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xS.bind(null,a),JS(e,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){i=i!==null&&i.memoizedState!==null||de,h=zi;var d=de;zi=l,(de=i)&&!d?gr(e,a,(a.subtreeFlags&8772)!==0):pr(e,a),zi=h,de=d}break;case 30:break;default:pr(e,a)}}function yy(e){var i=e.alternate;i!==null&&(e.alternate=null,yy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ir(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,rn=!1;function Bi(e,i,a){for(a=a.child;a!==null;)_y(e,i,a),a=a.sibling}function _y(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:de||ei(a,i),Bi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||ei(a,i);var l=ie,h=rn;Sr(a.type)&&(ie=a.stateNode,rn=!1),Bi(e,i,a),hl(a.stateNode),ie=l,rn=h;break;case 5:de||ei(a,i);case 6:if(l=ie,h=rn,ie=null,Bi(e,i,a),ie=l,rn=h,ie!==null)if(rn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(d){Zt(a,i,d)}else try{ie.removeChild(a.stateNode)}catch(d){Zt(a,i,d)}break;case 18:ie!==null&&(rn?(e=ie,a_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),vl(e)):a_(ie,a.stateNode));break;case 4:l=ie,h=rn,ie=a.stateNode.containerInfo,rn=!0,Bi(e,i,a),ie=l,rn=h;break;case 0:case 11:case 14:case 15:de||mr(2,a,i),de||mr(4,a,i),Bi(e,i,a);break;case 1:de||(ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hy(a,i,l)),Bi(e,i,a);break;case 21:Bi(e,i,a);break;case 22:de=(l=de)||a.memoizedState!==null,Bi(e,i,a),de=l;break;default:Bi(e,i,a)}}function vy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vl(e)}catch(a){Zt(i,i.return,a)}}function wS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new py),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new py),i;default:throw Error(s(435,e.tag))}}function Yf(e,i){var a=wS(e);i.forEach(function(l){var h=PS.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Sr(T.type)){ie=T.stateNode,rn=!1;break t}break;case 5:ie=T.stateNode,rn=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ie===null)throw Error(s(160));_y(d,v,h),ie=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ey(i,e),i=i.sibling}var Pn=null;function Ey(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&(mr(3,e,e.return),el(3,e),mr(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(de||a===null||ei(a,a.return)),l&64&&zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(hn(i,e),fn(e),l&512&&(de||a===null||ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ts]||d[Te]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[Te]=e,he(d),l=d;break t;case"link":var v=m_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=m_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Te]=e,he(d),l=d}e.stateNode=l}else p_(h,e.type,e.stateNode);else e.stateNode=d_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?p_(h,e.type,e.stateNode):d_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(de||a===null||ei(a,a.return)),a!==null&&l&4&&Ff(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(de||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(B){Zt(e,e.return,B)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(B){Zt(e,e.return,B)}}break;case 3:if(pc=null,h=Pn,Pn=dc(i.containerInfo),hn(i,e),Pn=h,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{vl(i.containerInfo)}catch(B){Zt(e,e.return,B)}Kf&&(Kf=!1,Ty(e));break;case 4:l=Pn,Pn=dc(e.stateNode.containerInfo),hn(i,e),fn(e),Pn=l;break;case 12:hn(i,e),fn(e);break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(td=gn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yf(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,U=zi,Q=de;if(zi=U||h,de=Q||R,hn(i,e),de=Q,zi=U,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||R||zi||de||ws(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){R=a=i;try{if(d=R.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Zt(R,R.return,B)}}}else if(i.tag===6){if(a===null){R=i;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(B){Zt(R,R.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yf(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yf(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(dy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Gf(e);tc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var T=Gf(e);tc(e,T,v);break;case 3:case 4:var R=a.stateNode.containerInfo,U=Gf(e);Qf(e,U,R);break;default:throw Error(s(161))}}catch(Q){Zt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ty(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function pr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)gy(e,i.alternate,i),i=i.sibling}function ws(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:mr(4,i,i.return),ws(i);break;case 1:ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hy(i,i.return,a),ws(i);break;case 27:hl(i.stateNode);case 26:case 5:ei(i,i.return),ws(i);break;case 22:i.memoizedState===null&&ws(i);break;case 30:ws(i);break;default:ws(i)}e=e.sibling}}function gr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:gr(h,d,a),el(4,d);break;case 1:if(gr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Zt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$p(R[h],T)}catch(U){Zt(l,l.return,U)}}a&&v&64&&cy(d),nl(d,d.return);break;case 27:my(d);case 26:case 5:gr(h,d,a),a&&l===null&&v&4&&fy(d),nl(d,d.return);break;case 12:gr(h,d,a);break;case 13:gr(h,d,a),a&&v&4&&vy(h,d);break;case 22:d.memoizedState===null&&gr(h,d,a),nl(d,d.return);break;case 30:break;default:gr(h,d,a)}i=i.sibling}}function Xf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&jo(a))}function $f(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e))}function ni(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(e,i,a,l),i=i.sibling}function Sy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(e,i,a,l),h&2048&&el(9,i);break;case 1:ni(e,i,a,l);break;case 3:ni(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){ni(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(i,i.return,R)}}else ni(e,i,a,l);break;case 13:ni(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(e,i,a,l):il(e,i):d._visibility&2?ni(e,i,a,l):(d._visibility|=2,Sa(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Xf(v,i);break;case 24:ni(e,i,a,l),h&2048&&$f(i.alternate,i);break;default:ni(e,i,a,l)}}function Sa(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,R=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:Sa(d,v,T,R,h),el(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Sa(d,v,T,R,h):il(d,v):(Q._visibility|=2,Sa(d,v,T,R,h)),h&&U&2048&&Xf(v.alternate,v);break;case 24:Sa(d,v,T,R,h),h&&U&2048&&$f(v.alternate,v);break;default:Sa(d,v,T,R,h)}i=i.sibling}}function il(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:il(a,l),h&2048&&Xf(l.alternate,l);break;case 24:il(a,l),h&2048&&$f(l.alternate,l);break;default:il(a,l)}i=i.sibling}}var rl=8192;function Aa(e){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 26:Aa(e),e.flags&rl&&e.memoizedState!==null&&hA(Pn,e.memoizedState,e.memoizedProps);break;case 5:Aa(e);break;case 3:case 4:var i=Pn;Pn=dc(e.stateNode.containerInfo),Aa(e),Pn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=rl,rl=16777216,Aa(e),rl=i):Aa(e));break;default:Aa(e)}}function by(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function sl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,wy(l,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&mr(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ec(e)):sl(e);break;default:sl(e)}}function ec(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,wy(l,e)}by(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:mr(8,i,i.return),ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ec(i));break;default:ec(i)}e=e.sibling}}function wy(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(yy(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var IS={getCacheForType:function(e){var i=Qe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},CS=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Dt=null,Lt=0,Qt=0,dn=null,yr=!1,ba=!1,Zf=!1,ji=0,ce=0,_r=0,Is=0,Jf=0,In=0,Ra=0,al=null,sn=null,Wf=!1,td=0,nc=1/0,ic=null,vr=null,ze=0,Er=null,wa=null,Ia=0,ed=0,nd=null,Iy=null,ol=0,id=null;function mn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(G.T!==null){var e=ma;return e!==0?e:cd()}return er()}function Cy(){In===0&&(In=(Lt&536870912)===0||jt?go():536870912);var e=wn.current;return e!==null&&(e.flags|=32),In}function pn(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Tr(e,Lt,In,!1)),vi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(Is|=a),ce===4&&Tr(e,Lt,In,!1)),ii(e))}function Dy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wr(e,i),h=l?OS(e,i):ad(e,i,!0),d=l;do{if(h===0){ba&&!l&&Tr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!DS(a)){h=ad(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=al;var R=T.current.memoizedState.isDehydrated;if(R&&(Ca(T,v).flags|=256),v=ad(T,v,!1),v!==2){if(Zf&&!R){T.errorRecoveryDisabledLanes|=d,Is|=d,h=4;break t}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ca(e,0),Tr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Tr(l,i,In,!yr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=td+300-gn(),10<h)){if(Tr(l,i,In,!yr),Gs(l,0,!0)!==0)break t;l.timeoutHandle=r_(Ny.bind(null,l,a,sn,ic,Wf,i,In,Is,Ra,yr,d,2,-0,0),h);break t}Ny(l,a,sn,ic,Wf,i,In,Is,Ra,yr,d,0,-0,0)}}break}while(!0);ii(e)}function Ny(e,i,a,l,h,d,v,T,R,U,Q,X,z,B){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:cA},Ay(i),X=fA(),X!==null)){e.cancelPendingCommit=X(Ly.bind(null,e,i,d,a,l,h,v,T,R,Q,1,z,B)),Tr(e,d,v,!U);return}Ly(e,i,d,a,l,h,v,T,R)}function DS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Tr(e,i,a,l){i&=~Jf,i&=~Is,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&qn(e,a,i)}function rc(){return(Gt&6)===0?(ll(0),!1):!0}function rd(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,Vi=Ts=null,Tf(e),Ea=null,Jo=0,e=Dt;for(;e!==null;)uy(e.alternate,e),e=e.return;Dt=null}}function Ca(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,KS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),rd(),Wt=e,Dt=a=Ni(e.current,null),Lt=i,Qt=0,dn=null,yr=!1,ba=Wr(e,i),Zf=!1,Ra=In=Jf=Is=_r=ce=0,sn=al=null,Wf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return ji=i,wu(),a}function Oy(e,i){wt=null,G.H=Gu,i===Ho||i===Pu?(i=Yp(),Qt=3):i===Gp?(i=Yp(),Qt=4):Qt=i===Xg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Dt===null&&(ce=1,$u(e,Sn(i,e.current)))}function My(){var e=G.H;return G.H=Gu,e===null?Gu:e}function Vy(){var e=G.A;return G.A=IS,e}function sd(){ce=4,yr||(Lt&4194048)!==Lt&&wn.current!==null||(ba=!0),(_r&134217727)===0&&(Is&134217727)===0||Wt===null||Tr(Wt,Lt,In,!1)}function ad(e,i,a){var l=Gt;Gt|=2;var h=My(),d=Vy();(Wt!==e||Lt!==i)&&(ic=null,Ca(e,i)),i=!1;var v=ce;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,R=dn;switch(Qt){case 8:rd(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var U=Qt;if(Qt=0,dn=null,Da(e,T,R,U),a&&ba){v=0;break t}break;default:U=Qt,Qt=0,dn=null,Da(e,T,R,U)}}NS(),v=ce;break}catch(Q){Oy(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Vi=Ts=null,Gt=l,G.H=h,G.A=d,Dt===null&&(Wt=null,Lt=0,wu()),v}function NS(){for(;Dt!==null;)xy(Dt)}function OS(e,i){var a=Gt;Gt|=2;var l=My(),h=Vy();Wt!==e||Lt!==i?(ic=null,nc=gn()+500,Ca(e,i)):ba=Wr(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=dn;e:switch(Qt){case 1:Qt=0,dn=null,Da(e,i,d,1);break;case 2:case 9:if(Qp(d)){Qt=0,dn=null,Py(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),ii(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Qp(d)?(Qt=0,dn=null,Py(i)):(Qt=0,dn=null,Da(e,i,d,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||g_(v)){Qt=0,dn=null;var R=T.sibling;if(R!==null)Dt=R;else{var U=T.return;U!==null?(Dt=U,sc(U)):Dt=null}break e}}Qt=0,dn=null,Da(e,i,d,5);break;case 6:Qt=0,dn=null,Da(e,i,d,6);break;case 8:rd(),ce=6;break t;default:throw Error(s(462))}}MS();break}catch(Q){Oy(e,Q)}while(!0);return Vi=Ts=null,G.H=l,G.A=h,Gt=a,Dt!==null?0:(Wt=null,Lt=0,wu(),ce)}function MS(){for(;Dt!==null&&!ho();)xy(Dt)}function xy(e){var i=oy(e.alternate,e,ji);e.memoizedProps=e.pendingProps,i===null?sc(e):Dt=i}function Py(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ey(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=ey(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:Tf(i);default:uy(a,i),i=Dt=kp(i,ji),i=oy(a,i,ji)}e.memoizedProps=e.pendingProps,i===null?sc(e):Dt=i}function Da(e,i,a,l){Vi=Ts=null,Tf(i),Ea=null,Jo=0;var h=i.return;try{if(TS(e,h,i,a,Lt)){ce=1,$u(e,Sn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;ce=1,$u(e,Sn(a,e.current)),Dt=null;return}i.flags&32768?(jt||l===1?e=!0:ba||(Lt&536870912)!==0?e=!1:(yr=e=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ky(i,e)):sc(i)}function sc(e){var i=e;do{if((i.flags&32768)!==0){ky(i,yr);return}e=i.return;var a=AS(i.alternate,i,ji);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);ce===0&&(ce=5)}function ky(e,i){do{var a=bS(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ce=6,Dt=null}function Ly(e,i,a,l,h,d,v,T,R){e.cancelPendingCommit=null;do ac();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Xh,_o(e,a,d,v,T,R),e===Wt&&(Dt=Wt=null,Lt=0),wa=i,Er=e,Ia=a,ed=d,nd=h,Iy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kS(Xr,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=st.p,st.p=2,v=Gt,Gt|=4;try{RS(e,i,a)}finally{Gt=v,st.p=h,G.T=l}}ze=1,Uy(),zy(),By()}}function Uy(){if(ze===1){ze=0;var e=Er,i=wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{Ey(i,e);var d=_d,v=wp(e.containerInfo),T=d.focusedElem,R=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Rp(T.ownerDocument.documentElement,T)){if(R!==null&&Fh(T)){var U=R.start,Q=R.end;if(Q===void 0&&(Q=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var B=z.getSelection(),vt=T.textContent.length,gt=Math.min(R.start,vt),$t=R.end===void 0?gt:Math.min(R.end,vt);!B.extend&&gt>$t&&(v=$t,$t=gt,gt=v);var x=bp(T,gt),N=bp(T,$t);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=X.createRange();L.setStart(x.node,x.offset),B.removeAllRanges(),gt>$t?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(X=[],B=T;B=B.parentNode;)B.nodeType===1&&X.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!yd,_d=yd=null}finally{Gt=h,st.p=l,G.T=a}}e.current=i,ze=2}}function zy(){if(ze===2){ze=0;var e=Er,i=wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var h=Gt;Gt|=4;try{gy(e,i.alternate,i)}finally{Gt=h,st.p=l,G.T=a}}ze=3}}function By(){if(ze===4||ze===3){ze=0,eu();var e=Er,i=wa,a=Ia,l=Iy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,wa=Er=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(vr=null),Qs(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=st.p,st.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,st.p=h}}(Ia&3)!==0&&ac(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===id?ol++:(ol=0,id=e):ol=0,ll(0)}}function jy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,jo(i)))}function ac(e){return Uy(),zy(),By(),qy()}function qy(){if(ze!==5)return!1;var e=Er,i=ed;ed=0;var a=Qs(Ia),l=G.T,h=st.p;try{st.p=32>a?32:a,G.T=null,a=nd,nd=null;var d=Er,v=Ia;if(ze=0,wa=Er=null,Ia=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Ry(d.current),Sy(d,d.current,v,a),Gt=T,ll(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{st.p=h,G.T=l,jy(e,i)}}function Hy(e,i,a){i=Sn(a,i),i=Pf(e.stateNode,i,2),e=cr(e,i,2),e!==null&&(vi(e,2),ii(e))}function Zt(e,i,a){if(e.tag===3)Hy(e,e,a);else for(;i!==null;){if(i.tag===3){Hy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vr===null||!vr.has(l))){e=Sn(a,e),a=Kg(2),l=cr(i,a,2),l!==null&&(Yg(a,l,i,e),vi(l,2),ii(l));break}}i=i.return}}function od(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new CS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Zf=!0,h.add(a),e=VS.bind(null,e,i,a),i.then(e,e))}function VS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Lt&a)===a&&(ce===4||ce===3&&(Lt&62914560)===Lt&&300>gn()-td?(Gt&2)===0&&Ca(e,0):Jf|=a,Ra===Lt&&(Ra=0)),ii(e)}function Fy(e,i){i===0&&(i=yo()),e=ca(e,i),e!==null&&(vi(e,i),ii(e))}function xS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Fy(e,a)}function PS(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Fy(e,a)}function kS(e,i){return Kr(e,i)}var oc=null,Na=null,ld=!1,lc=!1,ud=!1,Cs=0;function ii(e){e!==Na&&e.next===null&&(Na===null?oc=Na=e:Na=Na.next=e),lc=!0,ld||(ld=!0,US())}function ll(e,i){if(!ud&&lc){ud=!0;do for(var a=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Yy(l,d))}else d=Lt,d=Gs(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wr(l,d)||(a=!0,Yy(l,d));l=l.next}while(a);ud=!1}}function LS(){Gy()}function Gy(){lc=ld=!1;var e=0;Cs!==0&&(QS()&&(e=Cs),Cs=0);for(var i=gn(),a=null,l=oc;l!==null;){var h=l.next,d=Qy(l,i);d===0?(l.next=null,a===null?oc=h:a.next=h,h===null&&(Na=a)):(a=l,(e!==0||(d&3)!==0)&&(lc=!0)),l=h}ll(e)}function Qy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,R=h[v];R===-1?((T&a)===0||(T&l)!==0)&&(h[v]=po(T,i)):R<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Lt,a=Gs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Yr(l),Qs(a)){case 2:case 8:a=Hs;break;case 32:a=Xr;break;case 268435456:a=Fs;break;default:a=Xr}return l=Ky.bind(null,e),a=Kr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Yr(l),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ac()&&e.callbackNode!==a)return null;var l=Lt;return l=Gs(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Dy(e,l,i),Qy(e,gn()),e.callbackNode!=null&&e.callbackNode===a?Ky.bind(null,e):null)}function Yy(e,i){if(ac())return null;Dy(e,i,!0)}function US(){YS(function(){(Gt&6)!==0?Kr(fo,LS):Gy()})}function cd(){return Cs===0&&(Cs=go()),Cs}function Xy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function $y(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function zS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Xy((h[pe]||null).action),v=l.submitter;v&&(i=(i=v[pe]||null)?Xy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Ws("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var R=v?$y(h,v):new FormData(h);Nf(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?$y(h,v):new FormData(h),Nf(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var hd=0;hd<Yh.length;hd++){var fd=Yh[hd],BS=fd.toLowerCase(),jS=fd[0].toUpperCase()+fd.slice(1);xn(BS,"on"+jS)}xn(Dp,"onAnimationEnd"),xn(Np,"onAnimationIteration"),xn(Op,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(rS,"onTransitionRun"),xn(sS,"onTransitionStart"),xn(aS,"onTransitionCancel"),xn(Mp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Zy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Q){Xu(Q)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,U=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Q){Xu(Q)}h.currentTarget=null,d=R}}}}function Nt(e,i){var a=i[Eo];a===void 0&&(a=i[Eo]=new Set);var l=e+"__bubble";a.has(l)||(Jy(i,e,2,!1),a.add(l))}function dd(e,i,a){var l=0;i&&(l|=4),Jy(a,e,l,i)}var uc="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[uc]){e[uc]=!0,To.forEach(function(a){a!=="selectionchange"&&(qS.has(a)||dd(a,!1,e),dd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[uc]||(i[uc]=!0,dd("selectionchange",!1,i))}}function Jy(e,i,a,l){switch(S_(i)){case 2:var h=pA;break;case 8:h=gA;break;default:h=Cd}a=h.bind(null,i,a,e),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function pd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ei(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}T=T.parentNode}}l=l.return}hu(function(){var U=d,Q=vn(a),X=[];t:{var z=Vp.get(e);if(z!==void 0){var B=Ws,vt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":B=sa;break;case"focusin":vt="focus",B=na;break;case"focusout":vt="blur",B=na;break;case"beforeblur":case"afterblur":B=na;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=vu;break;case Dp:case Np:case Op:B=ia;break;case Mp:B=Tu;break;case"scroll":case"scrollend":B=fu;break;case"wheel":B=aa;break;case"copy":case"cut":case"paste":B=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Vo;break;case"toggle":case"beforetoggle":B=Au}var gt=(i&4)!==0,$t=!gt&&(e==="scroll"||e==="scrollend"),x=gt?z!==null?z+"Capture":null:z;gt=[];for(var N=U,L;N!==null;){var K=N;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||x===null||(K=os(N,x),K!=null&&gt.push(cl(N,K,L))),$t)break;N=N.return}0<gt.length&&(z=new B(z,vt,null,a,Q),X.push({event:z,listeners:gt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==bi&&(vt=a.relatedTarget||a.fromElement)&&(Ei(vt)||vt[yn]))break t;if((B||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(vt=a.relatedTarget||a.toElement,B=U,vt=vt?Ei(vt):null,vt!==null&&($t=u(vt),gt=vt.tag,vt!==$t||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(B=null,vt=U),B!==vt)){if(gt=Tn,K="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Vo,K="onPointerLeave",x="onPointerEnter",N="pointer"),$t=B==null?z:Fn(B),L=vt==null?z:Fn(vt),z=new gt(K,N+"leave",B,a,Q),z.target=$t,z.relatedTarget=L,K=null,Ei(Q)===U&&(gt=new gt(x,N+"enter",vt,a,Q),gt.target=L,gt.relatedTarget=$t,K=gt),$t=K,B&&vt)e:{for(gt=B,x=vt,N=0,L=gt;L;L=Oa(L))N++;for(L=0,K=x;K;K=Oa(K))L++;for(;0<N-L;)gt=Oa(gt),N--;for(;0<L-N;)x=Oa(x),L--;for(;N--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Oa(gt),x=Oa(x)}gt=null}else gt=null;B!==null&&Wy(X,z,B,gt,!1),vt!==null&&$t!==null&&Wy(X,$t,vt,gt,!0)}}t:{if(z=U?Fn(U):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ut=_p;else if(Ae(z))if(vp)ut=eS;else{ut=W0;var Ct=J0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&wo(U.elementType)&&(ut=_p):ut=tS;if(ut&&(ut=ut(e,U))){Di(X,ut,a,Q);break t}Ct&&Ct(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&sr(z,"number",z.value)}switch(Ct=U?Fn(U):window,e){case"focusin":(Ae(Ct)||Ct.contentEditable==="true")&&(oa=Ct,Gh=U,ko=null);break;case"focusout":ko=Gh=oa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Ip(X,a,Q);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":Ip(X,a,Q)}var ht;if(Zn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Pt?q(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(Pt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Pt&&(ht=Co()):(Kn=Q,ar="value"in Kn?Kn.value:Kn.textContent,Pt=!0)),Ct=cc(U,yt),0<Ct.length&&(yt=new Oo(yt,e,null,a,Q),X.push({event:yt,listeners:Ct}),ht?yt.data=ht:(ht=nt(a),ht!==null&&(yt.data=ht)))),(ht=m?Se(e,a):kt(e,a))&&(yt=cc(U,"onBeforeInput"),0<yt.length&&(Ct=new Oo("onBeforeInput","beforeinput",null,a,Q),X.push({event:Ct,listeners:yt}),Ct.data=ht)),zS(X,e,U,a,Q)}Zy(X,i)})}function cl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function cc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=os(e,a),h!=null&&l.unshift(cl(e,h,d)),h=os(e,i),h!=null&&l.push(cl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wy(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,R=T.alternate,U=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||U===null||(R=U,h?(U=os(a,d),U!=null&&v.unshift(cl(a,U,R))):h||(U=os(a,d),U!=null&&v.push(cl(a,U,R)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var HS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function t_(e){return(typeof e=="string"?e:""+e).replace(HS,`
`).replace(FS,"")}function e_(e,i){return i=t_(i),t_(e)===i}function hc(){}function Xt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(e,""+l);break;case"className":Gn(e,"class",l);break;case"tabIndex":Gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,l);break;case"style":Ro(e,l,d);break;case"data":if(i!=="object"){Gn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Js(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xt(e,i,"name",h.name,h,null),Xt(e,i,"formEncType",h.formEncType,h,null),Xt(e,i,"formMethod",h.formMethod,h,null),Xt(e,i,"formTarget",h.formTarget,h,null)):(Xt(e,i,"encType",h.encType,h,null),Xt(e,i,"method",h.method,h,null),Xt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Js(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=hc);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Js(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),rr(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uh.get(a)||a,rr(e,a,l))}}function gd(e,i,a,l,h,d){switch(a){case"style":Ro(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_n(e,l):(typeof l=="number"||typeof l=="bigint")&&_n(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):rr(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,d,v,a,null)}}h&&Xt(e,i,"srcSet",a.srcSet,a,null),l&&Xt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=d=v=h=null,R=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":U=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Xt(e,i,l,Q,a,null)}}rs(e,d,T,R,U,v,h,!1),Zs(e);return;case"select":Nt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Ai(e,!!l,i,!1):a!=null&&Ai(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(e,i,v,T,a,null)}ss(e,l,h,d),Zs(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,i,R,l,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<ul.length;l++)Nt(ul[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(e,i,U,l,a,null)}return;default:if(wo(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&gd(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(e,i,T,l,a,null))}function GS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,U=null,Q=null;for(B in a){var X=a[B];if(a.hasOwnProperty(B)&&X!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(B)||Xt(e,i,B,null,l,X)}}for(var z in l){var B=l[z];if(X=a[z],l.hasOwnProperty(z)&&(B!=null||X!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":U=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==X&&Xt(e,i,z,B,l,X)}}ln(e,v,T,R,U,Q,d,h);return;case"select":B=v=T=z=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(d)||Xt(e,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xt(e,i,h,d,l,R)}i=T,a=v,l=B,z!=null?Ai(e,!!a,z,!1):!!l!=!!a&&(i!=null?Ai(e,!!a,i,!0):Ai(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xt(e,i,v,h,l,d)}Kt(e,z,B);return;case"option":for(var vt in a)if(z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Xt(e,i,vt,null,l,z)}for(R in l)if(z=l[R],B=a[R],l.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,i,R,z,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!l.hasOwnProperty(gt)&&Xt(e,i,gt,null,l,z);for(U in l)if(z=l[U],B=a[U],l.hasOwnProperty(U)&&z!==B&&(z!=null||B!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Xt(e,i,U,z,l,B)}return;default:if(wo(i)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!l.hasOwnProperty($t)&&gd(e,i,$t,void 0,l,z);for(Q in l)z=l[Q],B=a[Q],!l.hasOwnProperty(Q)||z===B||z===void 0&&B===void 0||gd(e,i,Q,z,l,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!l.hasOwnProperty(x)&&Xt(e,i,x,null,l,z);for(X in l)z=l[X],B=a[X],!l.hasOwnProperty(X)||z===B||z==null&&B==null||Xt(e,i,X,z,l,B)}var yd=null,_d=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function n_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function vd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ed=null;function QS(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,s_=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof s_<"u"?function(e){return s_.resolve(null).then(e).catch(XS)}:r_;function XS(e){setTimeout(function(){throw e})}function Sr(e){return e==="head"}function a_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&hl(v.documentElement),a&2&&hl(v.body),a&4)for(a=v.head,hl(a),v=a.firstChild;v;){var T=v.nextSibling,R=v.nodeName;v[ts]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),vl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);vl(i)}function Td(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Td(a),ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function $S(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ts])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function ZS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function JS(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Ad=null;function o_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function l_(e,i,a){switch(i=fc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function hl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ir(e)}var Cn=new Map,u_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qi=st.d;st.d={f:WS,r:tA,D:eA,C:nA,L:iA,m:rA,X:aA,S:sA,M:oA};function WS(){var e=qi.f(),i=rc();return e||i}function tA(e){var i=Hn(e);i!==null&&i.tag===5&&i.type==="form"?Dg(i):qi.r(e)}var Ma=typeof document>"u"?null:document;function c_(e,i,a){var l=Ma;if(l&&typeof i=="string"&&i){var h=ge(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),he(i),l.head.appendChild(i)))}}function eA(e){qi.D(e),c_("dns-prefetch",e,null)}function nA(e,i){qi.C(e,i),c_("preconnect",e,i)}function iA(e,i,a){qi.L(e,i,a);var l=Ma;if(l&&e&&i){var h='link[rel="preload"][as="'+ge(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var d=h;switch(i){case"style":d=Va(e);break;case"script":d=xa(e)}Cn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Cn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(fl(d))||i==="script"&&l.querySelector(dl(d))||(i=l.createElement("link"),Be(i,"link",e),he(i),l.head.appendChild(i)))}}function rA(e,i){qi.m(e,i);var a=Ma;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xa(e)}if(!Cn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Cn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dl(d)))return}l=a.createElement("link"),Be(l,"link",e),he(l),a.head.appendChild(l)}}}function sA(e,i,a){qi.S(e,i,a);var l=Ma;if(l&&e){var h=Je(l).hoistableStyles,d=Va(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(fl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Cn.get(d))&&bd(e,a);var R=v=l.createElement("link");he(R),Be(R,"link",e),R._p=new Promise(function(U,Q){R.onload=U,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function aA(e,i){qi.X(e,i);var a=Ma;if(a&&e){var l=Je(a).hoistableScripts,h=xa(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=E({src:e,async:!0},i),(i=Cn.get(h))&&Rd(e,i),d=a.createElement("script"),he(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function oA(e,i){qi.M(e,i);var a=Ma;if(a&&e){var l=Je(a).hoistableScripts,h=xa(e),d=l.get(h);d||(d=a.querySelector(dl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Cn.get(h))&&Rd(e,i),d=a.createElement("script"),he(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function h_(e,i,a,l){var h=(h=Tt.current)?dc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Va(a.href),a=Je(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Va(a.href);var d=Je(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(fl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),d||lA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=xa(a),a=Je(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Va(e){return'href="'+ge(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function lA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),he(i),e.head.appendChild(i))}function xa(e){return'[src="'+ge(e)+'"]'}function dl(e){return"script[async]"+e}function d_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(l)return i.instance=l,he(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),Be(l,"style",h),mc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Va(a.href);var d=e.querySelector(fl(h));if(d)return i.state.loading|=4,i.instance=d,he(d),d;l=f_(a),(h=Cn.get(h))&&bd(l,h),d=(e.ownerDocument||e).createElement("link"),he(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Be(d,"link",l),i.state.loading|=4,mc(d,a.precedence,e),i.instance=d;case"script":return d=xa(a.src),(h=e.querySelector(dl(d)))?(i.instance=h,he(h),h):(l=a,(h=Cn.get(d))&&(l=E({},a),Rd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,mc(l,a.precedence,e));return i.instance}function mc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Rd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var pc=null;function m_(e,i,a){if(pc===null){var l=new Map,h=pc=new Map;h.set(a,l)}else h=pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ts]||d[Te]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function p_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function uA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ml=null;function cA(){}function hA(e,i,a){if(ml===null)throw Error(s(475));var l=ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Va(a.href),d=e.querySelector(fl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=gc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,he(d);return}d=e.ownerDocument||e,a=f_(a),(h=Cn.get(h))&&bd(a,h),d=d.createElement("link"),he(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=gc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function fA(){if(ml===null)throw Error(s(475));var e=ml;return e.stylesheets&&e.count===0&&wd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&wd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function gc(){if(this.count--,this.count===0){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function wd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,i.forEach(dA,e),yc=null,gc.call(e))}function dA(e,i){if(!(i.state.loading&4)){var a=yc.get(e);if(a)var l=a.get(null);else{a=new Map,yc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var pl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function mA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function y_(e,i,a,l,h,d,v,T,R,U,Q,X){return e=new mA(e,i,a,v,T,R,U,X),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),e.current=d,d.stateNode=e,i=of(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},hf(d),e}function __(e){return e?(e=ha,e):ha}function v_(e,i,a,l,h,d){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=cr(e,l,i),a!==null&&(pn(a,e,i),Go(a,e,i))}function E_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Id(e,i){E_(e,i),(e=e.alternate)&&E_(e,i)}function T_(e){if(e.tag===13){var i=ca(e,67108864);i!==null&&pn(i,e,67108864),Id(e,67108864)}}var _c=!0;function pA(e,i,a,l){var h=G.T;G.T=null;var d=st.p;try{st.p=2,Cd(e,i,a,l)}finally{st.p=d,G.T=h}}function gA(e,i,a,l){var h=G.T;G.T=null;var d=st.p;try{st.p=8,Cd(e,i,a,l)}finally{st.p=d,G.T=h}}function Cd(e,i,a,l){if(_c){var h=Dd(l);if(h===null)pd(e,i,l,vc,a),A_(e,l);else if(_A(h,e,i,a,l))l.stopPropagation();else if(A_(e,l),i&4&&-1<yA.indexOf(e)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=On(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-Ge(v);T.entanglements[1]|=R,v&=~R}ii(d),(Gt&6)===0&&(nc=gn()+500,ll(0))}}break;case 13:T=ca(d,2),T!==null&&pn(T,d,2),rc(),Id(d,2)}if(d=Dd(l),d===null&&pd(e,i,l,vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else pd(e,i,l,null,a)}}function Dd(e){return e=vn(e),Nd(e)}var vc=null;function Nd(e){if(vc=null,e=Ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return vc=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mh()){case fo:return 2;case Hs:return 8;case Xr:case Vh:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Od=!1,Ar=null,br=null,Rr=null,gl=new Map,yl=new Map,wr=[],yA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(e,i){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(i.pointerId)}}function _l(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&T_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function _A(e,i,a,l,h){switch(i){case"focusin":return Ar=_l(Ar,e,i,a,l,h),!0;case"dragenter":return br=_l(br,e,i,a,l,h),!0;case"mouseover":return Rr=_l(Rr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return gl.set(d,_l(gl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yl.set(d,_l(yl.get(d)||null,e,i,a,l,h)),!0}return!1}function b_(e){var i=Ei(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ru(e.priority,function(){if(a.tag===13){var l=mn();l=tr(l);var h=ca(a,l);h!==null&&pn(h,a,l),Id(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);bi=l,a.target.dispatchEvent(l),bi=null}else return i=Hn(a),i!==null&&T_(i),e.blockedOn=a,!1;i.shift()}return!0}function R_(e,i,a){Ec(e)&&a.delete(i)}function vA(){Od=!1,Ar!==null&&Ec(Ar)&&(Ar=null),br!==null&&Ec(br)&&(br=null),Rr!==null&&Ec(Rr)&&(Rr=null),gl.forEach(R_),yl.forEach(R_)}function Tc(e,i){e.blockedOn===i&&(e.blockedOn=null,Od||(Od=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vA)))}var Sc=null;function w_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Nd(l||a)===null)continue;break}var d=Hn(a);d!==null&&(e.splice(i,3),i-=3,Nf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function vl(e){function i(R){return Tc(R,e)}Ar!==null&&Tc(Ar,e),br!==null&&Tc(br,e),Rr!==null&&Tc(Rr,e),gl.forEach(i),yl.forEach(i);for(var a=0;a<wr.length;a++){var l=wr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)b_(a),a.blockedOn===null&&wr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||w_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)T=v.formAction;else if(Nd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),w_(a)}}}function Md(e){this._internalRoot=e}Ac.prototype.render=Md.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=mn();v_(a,l,e,i,null,null)},Ac.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;v_(e.current,2,null,e,null,null),rc(),i[yn]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var i=er();e={blockedOn:null,target:e,priority:i};for(var a=0;a<wr.length&&i!==0&&i<wr[a].priority;a++);wr.splice(a,0,e),a===0&&b_(e)}};var I_=t.version;if(I_!=="19.1.1")throw Error(s(527,I_,"19.1.1"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var EA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{le=bc.inject(EA),Ft=bc}catch{}}return Tl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Hg,d=Fg,v=Gg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=y_(e,1,!1,null,null,a,l,h,d,v,T,null),e[yn]=i.current,md(e),new Md(i)},Tl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Hg,v=Fg,T=Gg,R=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=y_(e,1,!0,i,a??null,l,h,d,v,T,R,U),i.context=__(null),a=i.current,l=mn(),l=tr(l),h=ur(l),h.callback=null,cr(a,h,l),a=l,i.current.lanes=a,vi(i,a),ii(i),e[yn]=i.current,md(e),new Ac(i)},Tl.version="19.1.1",Tl}var L_;function NA(){if(L_)return Pd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=DA(),Pd.exports}var OA=NA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U_="popstate";function MA(r={}){function t(o,u){let{pathname:f="/",search:p="",hash:y=""}=Ls(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Wd("",{pathname:f,search:p,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");p=g===-1?y:y.slice(0,g)}return p+"#"+(typeof u=="string"?u:Ml(u))}function s(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return xA(t,n,s,r)}function se(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function zn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VA(){return Math.random().toString(36).substring(2,10)}function z_(r,t){return{usr:r.state,key:r.key,idx:t}}function Wd(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ls(t):t,state:n,key:t&&t.key||s||VA()}}function Ml({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ls(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function xA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let H=E(),J=H==null?null:H-g;g=H,y&&y({action:p,location:Z.location,delta:J})}function I(H,J){p="PUSH";let ot=Wd(Z.location,H,J);n&&n(ot,H),g=E()+1;let rt=z_(ot,g),bt=Z.createHref(ot);try{f.pushState(rt,"",bt)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;o.location.assign(bt)}u&&y&&y({action:p,location:Z.location,delta:1})}function j(H,J){p="REPLACE";let ot=Wd(Z.location,H,J);n&&n(ot,H),g=E();let rt=z_(ot,g),bt=Z.createHref(ot);f.replaceState(rt,"",bt),u&&y&&y({action:p,location:Z.location,delta:0})}function F(H){return PA(H)}let Z={get action(){return p},get location(){return r(o,f)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(U_,A),y=H,()=>{o.removeEventListener(U_,A),y=null}},createHref(H){return t(o,H)},createURL:F,encodeLocation(H){let J=F(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:I,replace:j,go(H){return f.go(H)}};return Z}function PA(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),se(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ml(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function dE(r,t,n="/"){return kA(r,t,n,!1)}function kA(r,t,n,s){let o=typeof t=="string"?Ls(t):t,u=Qi(o.pathname||"/",n);if(u==null)return null;let f=mE(r);LA(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let g=YA(u);p=QA(f[y],g,s)}return p}function mE(r,t=[],n=[],s=""){let o=(u,f,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(se(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=Gi([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),mE(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:FA(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let p of pE(u.path))o(u,f,p)}),t}function pE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pE(s.join("/")),p=[];return p.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&p.push(...f),p.map(y=>r.startsWith("/")&&y===""?"/":y)}function LA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:GA(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var UA=/^:[\w-]+$/,zA=3,BA=2,jA=1,qA=10,HA=-2,B_=r=>r==="*";function FA(r,t){let n=r.split("/"),s=n.length;return n.some(B_)&&(s+=HA),t&&(s+=BA),n.filter(o=>!B_(o)).reduce((o,u)=>o+(UA.test(u)?zA:u===""?jA:qA),s)}function GA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function QA(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let y=s[p],g=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=Gc({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),I=y.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Gc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Gi([u,A.pathname]),pathnameBase:JA(Gi([u,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(u=Gi([u,A.pathnameBase]))}return f}function Gc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KA(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},I)=>{if(E==="*"){let F=p[I]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const j=p[I];return A&&!j?g[E]=void 0:g[E]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function KA(r,t=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function YA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Qi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function XA(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ls(r):r;return{pathname:n?n.startsWith("/")?n:$A(n,t):t,search:WA(s),hash:t1(o)}}function $A(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function zd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZA(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gE(r){let t=ZA(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function yE(r,t,n,s=!1){let o;typeof r=="string"?o=Ls(r):(o={...r},se(!o.pathname||!o.pathname.includes("?"),zd("?","pathname","search",o)),se(!o.pathname||!o.pathname.includes("#"),zd("#","pathname","hash",o)),se(!o.search||!o.search.includes("#"),zd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),A-=1;o.pathname=I.join("/")}p=A>=0?t[A]:"/"}let y=XA(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var Gi=r=>r.join("/").replace(/\/\/+/g,"/"),JA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),WA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,t1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function e1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var n1=["GET",..._E];new Set(n1);var io=Y.createContext(null);io.displayName="DataRouter";var fh=Y.createContext(null);fh.displayName="DataRouterState";Y.createContext(!1);var vE=Y.createContext({isTransitioning:!1});vE.displayName="ViewTransition";var i1=Y.createContext(new Map);i1.displayName="Fetchers";var r1=Y.createContext(null);r1.displayName="Await";var pi=Y.createContext(null);pi.displayName="Navigation";var ql=Y.createContext(null);ql.displayName="Location";var gi=Y.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var wm=Y.createContext(null);wm.displayName="RouteError";function s1(r,{relative:t}={}){se(Hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Y.useContext(pi),{hash:o,pathname:u,search:f}=Fl(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:Gi([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Hl(){return Y.useContext(ql)!=null}function Us(){return se(Hl(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(ql).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TE(r){Y.useContext(pi).static||Y.useLayoutEffect(r)}function a1(){let{isDataRoute:r}=Y.useContext(gi);return r?T1():o1()}function o1(){se(Hl(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext(io),{basename:t,navigator:n}=Y.useContext(pi),{matches:s}=Y.useContext(gi),{pathname:o}=Us(),u=JSON.stringify(gE(s)),f=Y.useRef(!1);return TE(()=>{f.current=!0}),Y.useCallback((y,g={})=>{if(zn(f.current,EE),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=yE(y,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Gi([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}var l1=Y.createContext(null);function u1(r){let t=Y.useContext(gi).outlet;return t&&Y.createElement(l1.Provider,{value:r},t)}function Fl(r,{relative:t}={}){let{matches:n}=Y.useContext(gi),{pathname:s}=Us(),o=JSON.stringify(gE(n));return Y.useMemo(()=>yE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function c1(r,t){return SE(r,t)}function SE(r,t,n,s){se(Hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(pi),{matches:u}=Y.useContext(gi),f=u[u.length-1],p=f?f.params:{},y=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let J=E&&E.path||"";AE(y,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=Us(),I;if(t){let J=typeof t=="string"?Ls(t):t;se(g==="/"||J.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${J.pathname}" was given in the \`location\` prop.`),I=J}else I=A;let j=I.pathname||"/",F=j;if(g!=="/"){let J=g.replace(/^\//,"").split("/");F="/"+j.replace(/^\//,"").split("/").slice(J.length).join("/")}let Z=dE(r,{pathname:F});zn(E||Z!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),zn(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=p1(Z&&Z.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Gi([g,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?g:Gi([g,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,n,s);return t&&H?Y.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},H):H}function h1(){let r=E1(),t=e1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:o},n):null,f)}var f1=Y.createElement(h1,null),d1=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Y.createElement(gi.Provider,{value:this.props.routeContext},Y.createElement(wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m1({routeContext:r,match:t,children:n}){let s=Y.useContext(io);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(gi.Provider,{value:r},n)}function p1(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);se(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,p=-1;if(n)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=y),g.route.id){let{loaderData:E,errors:A}=n,I=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||I){f=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((y,g,E)=>{let A,I=!1,j=null,F=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||f1,f&&(p<0&&E===0?(AE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,F=null):p===E&&(I=!0,F=g.route.hydrateFallbackElement||null)));let Z=t.concat(o.slice(0,E+1)),H=()=>{let J;return A?J=j:I?J=F:g.route.Component?J=Y.createElement(g.route.Component,null):g.route.element?J=g.route.element:J=y,Y.createElement(m1,{match:g,routeContext:{outlet:y,matches:Z,isDataRoute:n!=null},children:J})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?Y.createElement(d1,{location:n.location,revalidation:n.revalidation,component:j,error:A,children:H(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):H()},null)}function Im(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(r){let t=Y.useContext(io);return se(t,Im(r)),t}function y1(r){let t=Y.useContext(fh);return se(t,Im(r)),t}function _1(r){let t=Y.useContext(gi);return se(t,Im(r)),t}function Cm(r){let t=_1(r),n=t.matches[t.matches.length-1];return se(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function v1(){return Cm("useRouteId")}function E1(){let r=Y.useContext(wm),t=y1("useRouteError"),n=Cm("useRouteError");return r!==void 0?r:t.errors?.[n]}function T1(){let{router:r}=g1("useNavigate"),t=Cm("useNavigate"),n=Y.useRef(!1);return TE(()=>{n.current=!0}),Y.useCallback(async(o,u={})=>{zn(n.current,EE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var j_={};function AE(r,t,n){!t&&!j_[r]&&(j_[r]=!0,zn(!1,n))}Y.memo(S1);function S1({routes:r,future:t,state:n}){return SE(r,void 0,n,t)}function A1(r){return u1(r.context)}function Pa(r){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){se(!Hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ls(n));let{pathname:y="/",search:g="",hash:E="",state:A=null,key:I="default"}=n,j=Y.useMemo(()=>{let F=Qi(y,f);return F==null?null:{location:{pathname:F,search:g,hash:E,state:A,key:I},navigationType:s}},[f,y,g,E,A,I,s]);return zn(j!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:Y.createElement(pi.Provider,{value:p},Y.createElement(ql.Provider,{children:t,value:j}))}function R1({children:r,location:t}){return c1(tm(r),t)}function tm(r,t=[]){let n=[];return Y.Children.forEach(r,(s,o)=>{if(!Y.isValidElement(s))return;let u=[...t,o];if(s.type===Y.Fragment){n.push.apply(n,tm(s.props.children,u));return}se(s.type===Pa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=tm(s.props.children,u)),n.push(f)}),n}var Vc="get",xc="application/x-www-form-urlencoded";function dh(r){return r!=null&&typeof r.tagName=="string"}function w1(r){return dh(r)&&r.tagName.toLowerCase()==="button"}function I1(r){return dh(r)&&r.tagName.toLowerCase()==="form"}function C1(r){return dh(r)&&r.tagName.toLowerCase()==="input"}function D1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function N1(r,t){return r.button===0&&(!t||t==="_self")&&!D1(r)}var Rc=null;function O1(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var M1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(r){return r!=null&&!M1.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):r}function V1(r,t){let n,s,o,u,f;if(I1(r)){let p=r.getAttribute("action");s=p?Qi(p,t):null,n=r.getAttribute("method")||Vc,o=Bd(r.getAttribute("enctype"))||xc,u=new FormData(r)}else if(w1(r)||C1(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||p.getAttribute("action");if(s=y?Qi(y,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Vc,o=Bd(r.getAttribute("formenctype"))||Bd(p.getAttribute("enctype"))||xc,u=new FormData(p,r),!O1()){let{name:g,type:E,value:A}=r;if(E==="image"){let I=g?`${g}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else g&&u.append(g,A)}}else{if(dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vc,s=null,o=xc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function x1(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Qi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function P1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function L1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await P1(u,n);return f.links?f.links():[]}return[]}));return j1(s.flat(1).filter(k1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function q_(r,t,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,p=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,g)=>f(y,g)||p(y,g)):u==="data"?t.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function U1(r,t,{includeHydrateFallback:n}={}){return z1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function z1(r){return[...new Set(r)]}function B1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function j1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(B1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function bE(){let r=Y.useContext(io);return Dm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function q1(){let r=Y.useContext(fh);return Dm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Nm=Y.createContext(void 0);Nm.displayName="FrameworkContext";function RE(){let r=Y.useContext(Nm);return Dm(r,"You must render this element inside a <HydratedRouter> element"),r}function H1(r,t){let n=Y.useContext(Nm),[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,I=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=J=>{J.forEach(ot=>{f(ot.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return I.current&&H.observe(I.current),()=>{H.disconnect()}}},[r]),Y.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let j=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Sl(p,j),onBlur:Sl(y,F),onMouseEnter:Sl(g,j),onMouseLeave:Sl(E,F),onTouchStart:Sl(A,j)}]:[!1,I,{}]}function Sl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function F1({page:r,...t}){let{router:n}=bE(),s=Y.useMemo(()=>dE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Y.createElement(Q1,{page:r,matches:s,...t}):null}function G1(r){let{manifest:t,routeModules:n}=RE(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return L1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Q1({page:r,matches:t,...n}){let s=Us(),{manifest:o,routeModules:u}=RE(),{basename:f}=bE(),{loaderData:p,matches:y}=q1(),g=Y.useMemo(()=>q_(r,t,y,o,s,"data"),[r,t,y,o,s]),E=Y.useMemo(()=>q_(r,t,y,o,s,"assets"),[r,t,y,o,s]),A=Y.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Z=!1;if(t.forEach(J=>{let ot=o.routes[J.route.id];!ot||!ot.hasLoader||(!g.some(rt=>rt.route.id===J.route.id)&&J.route.id in p&&u[J.route.id]?.shouldRevalidate||ot.hasClientLoader?Z=!0:F.add(J.route.id))}),F.size===0)return[];let H=x1(r,f,"data");return Z&&F.size>0&&H.searchParams.set("_routes",t.filter(J=>F.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[f,p,s,o,g,t,r,u]),I=Y.useMemo(()=>U1(E,o),[E,o]),j=G1(E);return Y.createElement(Y.Fragment,null,A.map(F=>Y.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),I.map(F=>Y.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),j.map(({key:F,link:Z})=>Y.createElement("link",{key:F,...Z})))}function K1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wE&&(window.__reactRouterVersion="7.7.1")}catch{}function Y1({basename:r,children:t,window:n}){let s=Y.useRef();s.current==null&&(s.current=MA({window:n,v5Compat:!0}));let o=s.current,[u,f]=Y.useState({action:o.action,location:o.location}),p=Y.useCallback(y=>{Y.startTransition(()=>f(y))},[f]);return Y.useLayoutEffect(()=>o.listen(p),[o,p]),Y.createElement(b1,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var IE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ba=Y.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:y,to:g,preventScrollReset:E,viewTransition:A,...I},j){let{basename:F}=Y.useContext(pi),Z=typeof g=="string"&&IE.test(g),H,J=!1;if(typeof g=="string"&&Z&&(H=g,wE))try{let w=new URL(window.location.href),O=g.startsWith("//")?new URL(w.protocol+g):new URL(g),V=Qi(O.pathname,F);O.origin===w.origin&&V!=null?g=V+O.search+O.hash:J=!0}catch{zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ot=s1(g,{relative:o}),[rt,bt,ft]=H1(s,I),xt=J1(g,{replace:f,state:p,target:y,preventScrollReset:E,relative:o,viewTransition:A});function M(w){t&&t(w),w.defaultPrevented||xt(w)}let b=Y.createElement("a",{...I,...ft,href:H||ot,onClick:J||u?t:M,ref:K1(j,bt),target:y,"data-discover":!Z&&n==="render"?"true":void 0});return rt&&!Z?Y.createElement(Y.Fragment,null,b,Y.createElement(F1,{page:ot})):b});Ba.displayName="Link";var X1=Y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:y,...g},E){let A=Fl(f,{relative:g.relative}),I=Us(),j=Y.useContext(fh),{navigator:F,basename:Z}=Y.useContext(pi),H=j!=null&&ib(A)&&p===!0,J=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,ot=I.pathname,rt=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ot=ot.toLowerCase(),rt=rt?rt.toLowerCase():null,J=J.toLowerCase()),rt&&Z&&(rt=Qi(rt,Z)||rt);const bt=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ft=ot===J||!o&&ot.startsWith(J)&&ot.charAt(bt)==="/",xt=rt!=null&&(rt===J||!o&&rt.startsWith(J)&&rt.charAt(J.length)==="/"),M={isActive:ft,isPending:xt,isTransitioning:H},b=ft?t:void 0,w;typeof s=="function"?w=s(M):w=[s,ft?"active":null,xt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(M):u;return Y.createElement(Ba,{...g,"aria-current":b,className:w,ref:E,style:O,to:f,viewTransition:p},typeof y=="function"?y(M):y)});X1.displayName="NavLink";var $1=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Vc,action:p,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:A,...I},j)=>{let F=eb(),Z=nb(p,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&IE.test(p),ot=rt=>{if(y&&y(rt),rt.defaultPrevented)return;rt.preventDefault();let bt=rt.nativeEvent.submitter,ft=bt?.getAttribute("formmethod")||f;F(bt||rt.currentTarget,{fetcherKey:t,method:ft,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return Y.createElement("form",{ref:j,method:H,action:Z,onSubmit:s?y:ot,...I,"data-discover":!J&&r==="render"?"true":void 0})});$1.displayName="Form";function Z1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CE(r){let t=Y.useContext(io);return se(t,Z1(r)),t}function J1(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=a1(),y=Us(),g=Fl(r,{relative:u});return Y.useCallback(E=>{if(N1(E,t)){E.preventDefault();let A=n!==void 0?n:Ml(y)===Ml(g);p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,p,g,n,s,t,r,o,u,f])}var W1=0,tb=()=>`__${String(++W1)}__`;function eb(){let{router:r}=CE("useSubmit"),{basename:t}=Y.useContext(pi),n=v1();return Y.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:y,body:g}=V1(s,t);if(o.navigate===!1){let E=o.fetcherKey||tb();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function nb(r,{relative:t}={}){let{basename:n}=Y.useContext(pi),s=Y.useContext(gi);se(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Fl(r||".",{relative:t})},f=Us();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),y=p.getAll("index");if(y.some(E=>E==="")){p.delete("index"),y.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Gi([n,u.pathname])),Ml(u)}function ib(r,{relative:t}={}){let n=Y.useContext(vE);se(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=CE("useViewTransitionState"),o=Fl(r,{relative:t});if(!n.isTransitioning)return!1;let u=Qi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Qi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gc(o.pathname,f)!=null||Gc(o.pathname,u)!=null}function ja(r){return it.jsx("button",{className:"custom-button",onClick:r.onClick,children:it.jsx("p",{children:r.label||"Click"})})}function rb(){return it.jsxs("div",{children:[it.jsx(Ba,{to:"/",children:it.jsx(ja,{label:"Home"})}),it.jsx(Ba,{to:"/ingredientes",children:it.jsx(ja,{label:"Ingredientes"})}),it.jsx(Ba,{to:"/conjuntos",children:it.jsx(ja,{label:"Conjuntos"})}),it.jsx(Ba,{to:"/bolos",children:it.jsx(ja,{label:"Bolos"})})]})}function sb(){return it.jsxs(it.Fragment,{children:[it.jsx(rb,{}),it.jsx("main",{children:it.jsx(A1,{})})]})}function ab(){return it.jsxs("div",{children:[it.jsx("h1",{children:"Bem vindo a página inicial"}),it.jsx("p",{children:"Esta é a página principal da aplicação."})]})}const ob=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},lb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},NE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let I=(p&15)<<2|g>>6,j=g&63;y||(j=64,f||(I=64)),s.push(n[E],n[A],n[I],n[j])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(DE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):lb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||A==null)throw new ub;const I=u<<2|p>>4;if(s.push(I),g!==64){const j=p<<4&240|g>>2;if(s.push(j),A!==64){const F=g<<6&192|A;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cb=function(r){const t=DE(r);return NE.encodeByteArray(t,!0)},Qc=function(r){return cb(r).replace(/\./g,"")},OE=function(r){try{return NE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=()=>hb().__FIREBASE_DEFAULTS__,db=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&OE(r[1]);return t&&JSON.parse(t)},mh=()=>{try{return ob()||fb()||db()||mb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ME=r=>mh()?.emulatorHosts?.[r],pb=r=>{const t=ME(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},VE=()=>mh()?.config,xE=r=>mh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(n)),Qc(JSON.stringify(f)),""].join(".")}const wl={};function _b(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function vb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let F_=!1;function kE(r,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||wl[r]===t||wl[r]||F_)return;wl[r]=t;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",u=_b().prod.length>0;function f(){const I=document.getElementById(s);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{F_=!0,f()},I}function E(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=vb(s),j=n("text"),F=document.getElementById(j)||document.createElement("span"),Z=n("learnmore"),H=document.getElementById(Z)||document.createElement("a"),J=n("preprendIcon"),ot=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const rt=I.element;p(rt),E(H,Z);const bt=g();y(ot,J),rt.append(ot,F,H,bt),document.body.appendChild(rt)}u?(F.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function Tb(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ab(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rb(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wb(){return!Tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ib(){try{return typeof indexedDB=="object"}catch{return!1}}function Cb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="FirebaseError";class Ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Db,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?Nb(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,p,s)}}function Nb(r,t){return r.replace(Ob,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Ob=/\{\$([^}]+)}/g;function Mb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ms(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(G_(u)&&G_(f)){if(!Ms(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Vb(r,t){const n=new xb(r,t);return n.subscribe.bind(n)}class xb{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Pb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new gb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ub(t))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ds){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ds){return this.instances.has(t)}getOptions(t=Ds){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Lb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ds){return this.component?this.component.multipleInstances?t:Ds:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lb(r){return r===Ds?void 0:r}function Ub(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Bb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},jb=Ot.INFO,qb={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Hb=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=qb[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=jb,this._logHandler=Hb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const Fb=(r,t)=>t.some(n=>r instanceof n);let Q_,K_;function Gb(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qb(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,em=new WeakMap,UE=new WeakMap,qd=new WeakMap,Mm=new WeakMap;function Kb(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&LE.set(n,r)}).catch(()=>{}),Mm.set(t,r),t}function Yb(r){if(em.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});em.set(r,t)}let nm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return em.get(r);if(t==="objectStoreNames")return r.objectStoreNames||UE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Xb(r){nm=r(nm)}function $b(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Hd(this),t,...n);return UE.set(s,t.sort?t.sort():[t]),xr(s)}:Qb().includes(r)?function(...t){return r.apply(Hd(this),t),xr(LE.get(this))}:function(...t){return xr(r.apply(Hd(this),t))}}function Zb(r){return typeof r=="function"?$b(r):(r instanceof IDBTransaction&&Yb(r),Fb(r,Gb())?new Proxy(r,nm):r)}function xr(r){if(r instanceof IDBRequest)return Kb(r);if(qd.has(r))return qd.get(r);const t=Zb(r);return t!==r&&(qd.set(r,t),Mm.set(t,r)),t}const Hd=r=>Mm.get(r);function Jb(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=xr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(xr(f.result),y.oldVersion,y.newVersion,xr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Wb=["get","getKey","getAll","getAllKeys","count"],tR=["put","add","delete","clear"],Fd=new Map;function Y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=tR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Wb.includes(n)))return;const u=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&y.done]))[0]};return Fd.set(t,u),u}Xb(r=>({...r,get:(t,n,s)=>Y_(t,n)||r.get(t,n,s),has:(t,n)=>!!Y_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nR(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",X_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Om("@firebase/app"),iR="@firebase/app-compat",rR="@firebase/analytics-compat",sR="@firebase/analytics",aR="@firebase/app-check-compat",oR="@firebase/app-check",lR="@firebase/auth",uR="@firebase/auth-compat",cR="@firebase/database",hR="@firebase/data-connect",fR="@firebase/database-compat",dR="@firebase/functions",mR="@firebase/functions-compat",pR="@firebase/installations",gR="@firebase/installations-compat",yR="@firebase/messaging",_R="@firebase/messaging-compat",vR="@firebase/performance",ER="@firebase/performance-compat",TR="@firebase/remote-config",SR="@firebase/remote-config-compat",AR="@firebase/storage",bR="@firebase/storage-compat",RR="@firebase/firestore",wR="@firebase/ai",IR="@firebase/firestore-compat",CR="firebase",DR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="[DEFAULT]",NR={[im]:"fire-core",[iR]:"fire-core-compat",[sR]:"fire-analytics",[rR]:"fire-analytics-compat",[oR]:"fire-app-check",[aR]:"fire-app-check-compat",[lR]:"fire-auth",[uR]:"fire-auth-compat",[cR]:"fire-rtdb",[hR]:"fire-data-connect",[fR]:"fire-rtdb-compat",[dR]:"fire-fn",[mR]:"fire-fn-compat",[pR]:"fire-iid",[gR]:"fire-iid-compat",[yR]:"fire-fcm",[_R]:"fire-fcm-compat",[vR]:"fire-perf",[ER]:"fire-perf-compat",[TR]:"fire-rc",[SR]:"fire-rc-compat",[AR]:"fire-gcs",[bR]:"fire-gcs-compat",[RR]:"fire-fst",[IR]:"fire-fst-compat",[wR]:"fire-vertex","fire-js":"fire-js",[CR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,OR=new Map,sm=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(n){Ki.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Xa(r){const t=r.name;if(sm.has(t))return Ki.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const n of Kc.values())$_(n,r);for(const n of OR.values())$_(n,r);return!0}function Vm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function si(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Gl("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=DR;function zE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:rm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(n||(n=VE()),!n)throw Pr.create("no-options");const u=Kc.get(o);if(u){if(Ms(n,u.options)&&Ms(s,u.config))return u;throw Pr.create("duplicate-app",{appName:o})}const f=new zb(o);for(const y of sm.values())f.addComponent(y);const p=new VR(n,s,f);return Kc.set(o,p),p}function BE(r=rm){const t=Kc.get(r);if(!t&&r===rm&&VE())return zE();if(!t)throw Pr.create("no-app",{appName:r});return t}function kr(r,t,n){let s=NR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ki.warn(f.join(" "));return}Xa(new Vs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",PR=1,Vl="firebase-heartbeat-store";let Gd=null;function jE(){return Gd||(Gd=Jb(xR,PR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function kR(r){try{const n=(await jE()).transaction(Vl),s=await n.objectStore(Vl).get(qE(r));return await n.done,s}catch(t){if(t instanceof Ji)Ki.warn(t.message);else{const n=Pr.create("idb-get",{originalErrorMessage:t?.message});Ki.warn(n.message)}}}async function Z_(r,t){try{const s=(await jE()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(t,qE(r)),await s.done}catch(n){if(n instanceof Ji)Ki.warn(n.message);else{const s=Pr.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(s.message)}}}function qE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1024,UR=30;class zR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>UR){const o=qR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ki.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:n,unsentEntries:s}=BR(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ki.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function BR(r,t=LR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),W_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ib()?Cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function W_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function qR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r){Xa(new Vs("platform-logger",t=>new eR(t),"PRIVATE")),Xa(new Vs("heartbeat",t=>new zR(t),"PRIVATE")),kr(im,X_,r),kr(im,X_,"esm2020"),kr("fire-js","")}HR("");var FR="firebase",GR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(FR,GR,"app");var tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lr,HE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,b){function w(){}w.prototype=b.prototype,M.D=b.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(O,V,P){for(var C=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)C[Pe-2]=arguments[Pe];return b.prototype[V].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,w){w||(w=0);var O=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)O[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;16>V;++V)O[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=M.g[0],w=M.g[1],V=M.g[2];var P=M.g[3],C=b+(P^w&(V^P))+O[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=P+(V^b&(w^V))+O[1]+3905402710&4294967295,P=b+(C<<12&4294967295|C>>>20),C=V+(w^P&(b^w))+O[2]+606105819&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(b^V&(P^b))+O[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(P^w&(V^P))+O[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=P+(V^b&(w^V))+O[5]+1200080426&4294967295,P=b+(C<<12&4294967295|C>>>20),C=V+(w^P&(b^w))+O[6]+2821735955&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(b^V&(P^b))+O[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(P^w&(V^P))+O[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=P+(V^b&(w^V))+O[9]+2336552879&4294967295,P=b+(C<<12&4294967295|C>>>20),C=V+(w^P&(b^w))+O[10]+4294925233&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(b^V&(P^b))+O[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(P^w&(V^P))+O[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=P+(V^b&(w^V))+O[13]+4254626195&4294967295,P=b+(C<<12&4294967295|C>>>20),C=V+(w^P&(b^w))+O[14]+2792965006&4294967295,V=P+(C<<17&4294967295|C>>>15),C=w+(b^V&(P^b))+O[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(V^P&(w^V))+O[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(b^w))+O[6]+3225465664&4294967295,P=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(P^b))+O[11]+643717713&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(V^P))+O[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^P&(w^V))+O[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(b^w))+O[10]+38016083&4294967295,P=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(P^b))+O[15]+3634488961&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(V^P))+O[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^P&(w^V))+O[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(b^w))+O[14]+3275163606&4294967295,P=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(P^b))+O[3]+4107603335&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(V^P))+O[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^P&(w^V))+O[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^V&(b^w))+O[2]+4243563512&4294967295,P=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(P^b))+O[7]+1735328473&4294967295,V=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(V^P))+O[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(w^V^P)+O[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^V)+O[8]+2272392833&4294967295,P=b+(C<<11&4294967295|C>>>21),C=V+(P^b^w)+O[11]+1839030562&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^b)+O[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^P)+O[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^V)+O[4]+1272893353&4294967295,P=b+(C<<11&4294967295|C>>>21),C=V+(P^b^w)+O[7]+4139469664&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^b)+O[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^P)+O[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^V)+O[0]+3936430074&4294967295,P=b+(C<<11&4294967295|C>>>21),C=V+(P^b^w)+O[3]+3572445317&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^b)+O[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^P)+O[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^V)+O[12]+3873151461&4294967295,P=b+(C<<11&4294967295|C>>>21),C=V+(P^b^w)+O[15]+530742520&4294967295,V=P+(C<<16&4294967295|C>>>16),C=w+(V^P^b)+O[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(V^(w|~P))+O[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~V))+O[7]+1126891415&4294967295,P=b+(C<<10&4294967295|C>>>22),C=V+(b^(P|~w))+O[14]+2878612391&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~b))+O[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~P))+O[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~V))+O[3]+2399980690&4294967295,P=b+(C<<10&4294967295|C>>>22),C=V+(b^(P|~w))+O[10]+4293915773&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~b))+O[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~P))+O[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~V))+O[15]+4264355552&4294967295,P=b+(C<<10&4294967295|C>>>22),C=V+(b^(P|~w))+O[6]+2734768916&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~b))+O[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~P))+O[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~V))+O[11]+3174756917&4294967295,P=b+(C<<10&4294967295|C>>>22),C=V+(b^(P|~w))+O[2]+718787259&4294967295,V=P+(C<<15&4294967295|C>>>17),C=w+(P^(V|~b))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var w=b-this.blockSize,O=this.B,V=this.h,P=0;P<b;){if(V==0)for(;P<=w;)o(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<b;)if(O[V++]=M.charCodeAt(P++),V==this.blockSize){o(this,O),V=0;break}}else for(;P<b;)if(O[V++]=M[P++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var w=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=w&255,w/=256;for(this.u(M),M=Array(16),b=w=0;4>b;++b)for(var O=0;32>O;O+=8)M[w++]=this.g[b]>>>O&255;return M};function u(M,b){var w=p;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=b(M)}function f(M,b){this.h=b;for(var w=[],O=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;O&&P==b||(w[V]=P,O=!1)}this.g=w}var p={};function y(M){return-128<=M&&128>M?u(M,function(b){return new f([b|0],0>b?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return H(g(-M));for(var b=[],w=1,O=0;M>=w;O++)b[O]=M/w|0,w*=4294967296;return new f(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return H(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(b,8)),O=A,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),C=parseInt(M.substring(V,V+P),b);8>P?(P=g(Math.pow(b,P)),O=O.j(P).add(g(C))):(O=O.j(w),O=O.add(g(C)))}return O}var A=y(0),I=y(1),j=y(16777216);r=f.prototype,r.m=function(){if(Z(this))return-H(this).m();for(var M=0,b=1,w=0;w<this.g.length;w++){var O=this.i(w);M+=(0<=O?O:4294967296+O)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(F(this))return"0";if(Z(this))return"-"+H(this).toString(M);for(var b=g(Math.pow(M,6)),w=this,O="";;){var V=bt(w,b).g;w=J(w,V.j(b));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=V,F(w))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function F(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function Z(M){return M.h==-1}r.l=function(M){return M=J(this,M),Z(M)?-1:F(M)?0:1};function H(M){for(var b=M.g.length,w=[],O=0;O<b;O++)w[O]=~M.g[O];return new f(w,~M.h).add(I)}r.abs=function(){return Z(this)?H(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0,V=0;V<=b;V++){var P=O+(this.i(V)&65535)+(M.i(V)&65535),C=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=C>>>16,P&=65535,C&=65535,w[V]=C<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function J(M,b){return M.add(H(b))}r.j=function(M){if(F(this)||F(M))return A;if(Z(this))return Z(M)?H(this).j(H(M)):H(H(this).j(M));if(Z(M))return H(this.j(H(M)));if(0>this.l(j)&&0>M.l(j))return g(this.m()*M.m());for(var b=this.g.length+M.g.length,w=[],O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var P=this.i(O)>>>16,C=this.i(O)&65535,Pe=M.i(V)>>>16,oe=M.i(V)&65535;w[2*O+2*V]+=C*oe,ot(w,2*O+2*V),w[2*O+2*V+1]+=P*oe,ot(w,2*O+2*V+1),w[2*O+2*V+1]+=C*Pe,ot(w,2*O+2*V+1),w[2*O+2*V+2]+=P*Pe,ot(w,2*O+2*V+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new f(w,0)};function ot(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function rt(M,b){this.g=M,this.h=b}function bt(M,b){if(F(b))throw Error("division by zero");if(F(M))return new rt(A,A);if(Z(M))return b=bt(H(M),b),new rt(H(b.g),H(b.h));if(Z(b))return b=bt(M,H(b)),new rt(H(b.g),b.h);if(30<M.g.length){if(Z(M)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var w=I,O=b;0>=O.l(M);)w=ft(w),O=ft(O);var V=xt(w,1),P=xt(O,1);for(O=xt(O,2),w=xt(w,2);!F(O);){var C=P.add(O);0>=C.l(M)&&(V=V.add(w),P=C),O=xt(O,1),w=xt(w,1)}return b=J(M,V.j(b)),new rt(V,b)}for(V=A;0<=M.l(b);){for(w=Math.max(1,Math.floor(M.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=g(w),C=P.j(b);Z(C)||0<C.l(M);)w-=O,P=g(w),C=P.j(b);F(P)&&(P=I),V=V.add(P),M=J(M,C)}return new rt(V,M)}r.A=function(M){return bt(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)&M.i(O);return new f(w,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)|M.i(O);return new f(w,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],O=0;O<b;O++)w[O]=this.i(O)^M.i(O);return new f(w,this.h^M.h)};function ft(M){for(var b=M.g.length+1,w=[],O=0;O<b;O++)w[O]=M.i(O)<<1|M.i(O-1)>>>31;return new f(w,M.h)}function xt(M,b){var w=b>>5;b%=32;for(var O=M.g.length-w,V=[],P=0;P<O;P++)V[P]=0<b?M.i(P+w)>>>b|M.i(P+w+1)<<32-b:M.i(P+w);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Lr=f}).apply(typeof tv<"u"?tv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FE,Al,GE,Pc,am,QE,KE,YE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var k=c[S];if(!(k in _))break t;_=_[k]}c=c[c.length-1],S=_[c],m=m(S),m!=S&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,S=!1,k={next:function(){if(!S&&_<c.length){var q=_++;return{value:m(q,c[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function y(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function E(c,m,_){return c.call.apply(c.bind,arguments)}function A(c,m,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,S),c.apply(m,k)}}return function(){return c.apply(m,arguments)}}function I(c,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,I.apply(null,arguments)}function j(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function F(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,k,q){for(var nt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)nt[Pt-2]=arguments[Pt];return m.prototype[k].apply(S,nt)}}function Z(c){const m=c.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=c[S];return _}return[]}function H(c,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(y(S)){const k=c.length||0,q=S.length||0;c.length=k+q;for(let nt=0;nt<q;nt++)c[k+nt]=S[nt]}else c.push(S)}}class J{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(c){return/^[\s\xa0]*$/.test(c)}function rt(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function bt(c){return bt[" "](c),c}bt[" "]=function(){};var ft=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function xt(c,m,_){for(const S in c)m.call(_,c[S],S,c)}function M(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function b(c){const m={};for(const _ in c)m[_]=c[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,m){let _,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(_ in S)c[_]=S[_];for(let q=0;q<w.length;q++)_=w[q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function P(c){p.setTimeout(()=>{throw c},0)}function C(){var c=Bt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,_){const S=oe.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new J(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,Bt=new Pe,D=()=>{const c=p.Promise.resolve(void 0);st=()=>{c.then(W)}};var W=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){P(_)}var m=oe;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}dt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return c}();function It(c,m){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(ft){t:{try{bt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&It.aa.h.call(this)}}F(It,et);var Tt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function jn(c,m,_,S,k){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=k,this.key=++Jt,this.da=this.fa=!1}function Wi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,m,_,S,k){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var nt=Kr(c,m,S,k);return-1<nt?(m=c[nt],_||(m.fa=!1)):(m=new jn(m,this.src,q,!!S,k),m.fa=_,c.push(m)),m};function Qr(c,m){var _=m.type;if(_ in c.g){var S=c.g[_],k=Array.prototype.indexOf.call(S,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(S,k,1),q&&(Wi(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Kr(c,m,_,S){for(var k=0;k<c.length;++k){var q=c[k];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==S)return k}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),ho={};function eu(c,m,_,S,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)eu(c,m[q],_,S,k);return null}return _=nu(_),c&&c[Ce]?c.K(m,_,g(S)?!!S.capture:!1,k):gn(c,m,_,!1,S,k)}function gn(c,m,_,S,k,q){if(!m)throw Error("Invalid event type");var nt=g(k)?!!k.capture:!!k,Pt=Fs(c);if(Pt||(c[Yr]=Pt=new yi(c)),_=Pt.add(m,_,S,nt,q),_.proxy)return _;if(S=Mh(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)mt||(k=nt),k===void 0&&(k=!1),c.addEventListener(m.toString(),S,k);else if(c.attachEvent)c.attachEvent(Xr(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Mh(){function c(_){return m.call(c.src,c.listener,_)}const m=Vh;return c}function fo(c,m,_,S,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)fo(c,m[q],_,S,k);else S=g(S)?!!S.capture:!!S,_=nu(_),c&&c[Ce]?(c=c.i,m=String(m).toString(),m in c.g&&(q=c.g[m],_=Kr(q,_,S,k),-1<_&&(Wi(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[m],c.h--)))):c&&(c=Fs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Kr(m,_,S,k)),(_=-1<c?m[c]:null)&&Hs(_))}function Hs(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ce])Qr(m.i,c);else{var _=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(_,S,c.capture):m.detachEvent?m.detachEvent(Xr(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Fs(m))?(Qr(_,c),_.h==0&&(_.src=null,m[Yr]=null)):Wi(c)}}}function Xr(c){return c in ho?ho[c]:ho[c]="on"+c}function Vh(c,m){if(c.da)c=!0;else{m=new It(m,this);var _=c.listener,S=c.ha||c.src;c.fa&&Hs(c),c=_.call(S,m)}return c}function Fs(c){return c=c[Yr],c instanceof yi?c:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(c){return typeof c=="function"?c:(c[mo]||(c[mo]=function(m){return c.handleEvent(m)}),c[mo])}function le(){at.call(this),this.i=new yi(this),this.M=this,this.F=null}F(le,at),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(c,m,_,S){fo(this,c,m,_,S)};function Ft(c,m){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new et(m,c);else if(m instanceof et)m.target=m.target||c;else{var k=m;m=new et(S,c),O(m,k)}if(k=!0,_)for(var q=_.length-1;0<=q;q--){var nt=m.g=_[q];k=on(nt,S,!0,m)&&k}if(nt=m.g=c,k=on(nt,S,!0,m)&&k,k=on(nt,S,!1,m)&&k,_)for(q=0;q<_.length;q++)nt=m.g=_[q],k=on(nt,S,!1,m)&&k}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],S=0;S<_.length;S++)Wi(_[S]);delete c.g[m],c.h--}}this.F=null},le.prototype.K=function(c,m,_,S){return this.i.add(String(c),m,!1,_,S)},le.prototype.L=function(c,m,_,S){return this.i.add(String(c),m,!0,_,S)};function on(c,m,_,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==_){var Pt=nt.listener,Se=nt.ha||nt.src;nt.fa&&Qr(c.i,nt),k=Pt.call(Se,S)!==!1&&k}}return k&&!S.defaultPrevented}function Ge(c,m,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function iu(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class xh extends at{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(c){at.call(this),this.h=c,this.g={}}F($r,at);var Zr=[];function Jr(c){xt(c.g,function(m,_){this.g.hasOwnProperty(_)&&Hs(m)},c),c.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Jr(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=p.JSON.stringify,Gs=p.JSON.parse,Wr=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function po(){}po.prototype.h=null;function go(c){return c.h||(c.h=c.i())}function yo(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){et.call(this,"d")}F(vi,et);function _o(){et.call(this,"c")}F(_o,et);var qn={},vo=null;function tr(){return vo=vo||new le}qn.La="serverreachability";function Qs(c){et.call(this,qn.La,c)}F(Qs,et);function er(c){const m=tr();Ft(m,new Qs(m))}qn.STAT_EVENT="statevent";function ru(c,m){et.call(this,qn.STAT_EVENT,c),this.stat=m}F(ru,et);function ne(c){const m=tr();Ft(m,new ru(m,c))}qn.Ma="timingevent";function Te(c,m){et.call(this,qn.Ma,c),this.size=m}F(Te,et);function pe(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function Eo(c,m,_,S,k,q){c.info(function(){if(c.g)if(q)for(var nt="",Pt=q.split("&"),Se=0;Se<Pt.length;Se++){var kt=Pt[Se].split("=");if(1<kt.length){var Ne=kt[0];kt=kt[1];var Ae=Ne.split("_");nt=2<=Ae.length&&Ae[1]=="type"?nt+(Ne+"="+kt+"&"):nt+(Ne+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+m+`
`+_+`
`+nt})}function Ph(c,m,_,S,k,q,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+m+`
`+_+`
`+q+" "+nt})}function nr(c,m,_,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+ts(c,_)+(S?" "+S:"")})}function su(c,m){c.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function ts(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var k=S[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<k.length;nt++)k[nt]=""}}}}return On(_)}catch{return m}}var ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Fn(){}F(Fn,po),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Hn=new Fn;function Je(c,m,_,S){this.j=c,this.i=m,this.l=_,this.R=S||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var To={},Ks={};function Mn(c,m,_){c.L=1,c.v=ss(ln(m)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,m){c.F=Date.now(),es(c),c.A=ln(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Io(_.i,"t",S),c.C=0,_=c.j.J,c.h=new he,c.g=Tu(c.j,_?m:null,!c.m),0<c.O&&(c.M=new xh(I(c.Y,c,c.g),c.O)),m=c.U,_=c.g,S=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(Zr[0]=k.toString()),k=Zr);for(var q=0;q<k.length;q++){var nt=eu(_,k[q],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),er(),Eo(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const m=this.M;m&&Tn(c)==3?m.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=Tn(this.g);var m=this.g.Ba();const Di=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Di?er(3):er(2)),rr(this);var _=this.g.Z();this.X=_;e:if(au(this)){var S=du(this.g);c="";var k=S.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Gn(this);var nt="";break e}this.h.i=new p.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!(q&&m==k-1)});S.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Ph(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Se=this.g;if((Pt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Pt)){var kt=Pt;break e}}kt=null}if(_=kt)nr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ns(this,_);else{this.o=!1,this.s=3,ne(12),ke(this),Gn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<nt.length;)if(Le=ou(this,nt),Le==Ks){Ae==4&&(this.s=4,ne(14),_=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==To){this.s=4,ne(15),nr(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else nr(this.i,this.l,Le,null),ns(this,Le);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||nt.length!=0||this.h.h||(this.s=1,ne(16),_=!1),this.o=this.o&&_,!_)nr(this.i,this.l,nt,"[Invalid Chunked Response]"),ke(this),Gn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ds(Ne),Ne.M=!0,ne(11))}}else nr(this.i,this.l,nt,null),ns(this,nt);Ae==4&&ke(this),this.o&&!this.J&&(Ae==4?_u(this.j,this):(this.o=!1,es(this)))}else Bh(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ne(12)):(this.s=0,ne(13)),ke(this),Gn(this)}}}catch{}finally{}};function au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ou(c,m){var _=c.C,S=m.indexOf(`
`,_);return S==-1?Ks:(_=Number(m.substring(_,S)),isNaN(_)?To:(S+=1,S+_>m.length?Ks:(m=m.slice(S,S+_),c.C=S+_,m)))}Je.prototype.cancel=function(){this.J=!0,ke(this)};function es(c){c.S=Date.now()+c.I,lu(c,c.I)}function lu(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(I(c.ba,c),m)}function rr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(su(this.i,this.A),this.L!=2&&(er(),ne(17)),ke(this),this.s=2,Gn(this)):lu(this,this.S-c)};function Gn(c){c.j.G==0||c.J||_u(c.j,c)}function ke(c){rr(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Jr(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ns(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||So(_.h,c))){if(!c.K&&So(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)sa(_),ia(_);else break t;Mo(_),ne(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(I(_.Za,_),6e3));if(1>=Xs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&sa(_),!ot(m))for(k=_.Da.g.parse(m),m=0;m<k.length;m++){let kt=k[m];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const Ne=kt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Ae=kt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Di=kt[5];Di!=null&&typeof Di=="number"&&0<Di&&(S=1.5*Di,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Le=c.g;if(Le){const Jn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var q=S.h;q.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&($s(q,q.h),q.h=null))}if(S.D){const xo=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(S.ya=xo,Kt(S.I,S.D,xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var nt=c;if(S.qa=Eu(S,S.J?S.ia:null,S.W),nt.K){We(S.h,nt);var Pt=nt,Se=S.L;Se&&(Pt.I=Se),Pt.B&&(rr(Pt),es(Pt)),S.g=nt}else gu(S);0<_.i.length&&ra(_)}else kt[0]!="stop"&&kt[0]!="close"||Ci(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Ci(_,7):No(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}er(4)}catch{}}var uu=class{constructor(c,m){this.g=c,this.map=m}};function Si(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ys(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xs(c){return c.h?1:c.g?c.g.size:0}function So(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function $s(c,m){c.g?c.g.add(m):c.h=m}function We(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Si.prototype.cancel=function(){if(this.i=Ao(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ao(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return Z(c.i)}function kh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var m=[],_=c.length,S=0;S<_;S++)m.push(c[S]);return m}m=[],_=0;for(S in c)m[_++]=c[S];return m}function Zs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const S in c)m[_++]=S;return m}}}function bo(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=Zs(c),S=kh(c),k=S.length,q=0;q<k;q++)m.call(void 0,S[q],_&&_[q],c)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),k=null;if(0<=S){var q=c[_].substring(0,S);k=c[_].substring(S+1)}else q=c[_];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ge(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ge){this.h=c.h,rs(this,c.j),this.o=c.o,this.g=c.g,sr(this,c.s),this.l=c.l;var m=c.i,_=new bi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ai(this,_),this.m=c.m}else c&&(m=String(c).match(is))?(this.h=!1,rs(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),sr(this,m[4]),this.l=_n(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}ge.prototype.toString=function(){var c=[],m=this.j;m&&c.push(as(m,Ro,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(as(m,Ro,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(as(_,_.charAt(0)=="/"?Uh:wo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",as(_,Js)),c.join("")};function ln(c){return new ge(c)}function rs(c,m,_){c.j=_?_n(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function sr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Ai(c,m,_){m instanceof bi?(c.i=m,hu(c.i,c.h)):(_||(m=as(m,zh)),c.i=new bi(m,c.h))}function Kt(c,m,_){c.i.set(m,_)}function ss(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function as(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ro=/[#\/\?@]/g,wo=/[#\?:]/g,Uh=/[#\?]/g,zh=/[#\?@]/g,Js=/#/g;function bi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Lh(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=bi.prototype,r.add=function(c,m){vn(this),this.i=null,c=Qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Ri(c,m){vn(c),m=Qn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function wi(c,m){return vn(c),m=Qn(c,m),c.g.has(m)}r.forEach=function(c,m){vn(this),this.g.forEach(function(_,S){_.forEach(function(k){c.call(m,k,S,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const k=c[S];for(let q=0;q<k.length;q++)_.push(m[S])}return _},r.V=function(c){vn(this);let m=[];if(typeof c=="string")wi(this,c)&&(m=m.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return vn(this),this.i=null,c=Qn(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Io(c,m,_){Ri(c,m),0<_.length&&(c.i=null,c.g.set(Qn(c,m),Z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const q=encodeURIComponent(String(S)),nt=this.V(S);for(S=0;S<nt.length;S++){var k=q;nt[S]!==""&&(k+="="+encodeURIComponent(String(nt[S]))),c.push(k)}}return this.i=c.join("&")};function Qn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function hu(c,m){m&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,S){var k=S.toLowerCase();S!=k&&(Ri(this,S),Io(this,k,_))},c)),c.j=m}function os(c,m){const _=new yn;if(p.Image){const S=new Image;S.onload=j(En,_,"TestLoadImage: loaded",!0,m,S),S.onerror=j(En,_,"TestLoadImage: error",!1,m,S),S.onabort=j(En,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=j(En,_,"TestLoadImage: timeout",!1,m,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function Vn(c,m){const _=new yn,S=new AbortController,k=setTimeout(()=>{S.abort(),En(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(k),q.ok?En(_,"TestPingServer: ok",!0,m):En(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),En(_,"TestPingServer: error",!1,m)})}function En(c,m,_,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(_)}catch{}}function ls(){this.g=new Wr}function Kn(c,m,_){const S=_||"";try{bo(c,function(k,q){let nt=k;g(k)&&(nt=On(k)),m.push(S+q+"="+encodeURIComponent(nt))})}catch(k){throw m.push(S+"type="+encodeURIComponent("_badmap")),k}}function ar(c){this.l=c.Ub||null,this.j=c.eb||!1}F(ar,po),ar.prototype.g=function(){return new Ii(this.l,this.j)},ar.prototype.i=function(c){return function(){return c}}({});function Ii(c,m){le.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Ii,le),r=Ii.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Co(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Co(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Yn(this):Xn(this),this.readyState==3&&Co(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},r.Qa=function(c){this.g&&(this.response=c,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Do(c){let m="";return xt(c,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function De(c,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=Do(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,m,_))}function qt(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(qt,le);var Ws=/^https?$/i,us=["POST","PUT"];r=qt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?go(this.o):go(Hn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){fu(this,q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)_.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())_.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),k=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(us,m,void 0))||S||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){fu(this,q)}};function fu(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,ta(c),$n(c)}function ta(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},r.bb=function(){ea(this)};function ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)Ge(c.Ea,0,c);else if(Ft(c,"readystatechange"),Tn(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=nt===0){var k=String(c.D).match(is)[1]||null;!k&&p.self&&p.self.location&&(k=p.self.location.protocol.slice(0,-1)),S=!Ws.test(k?k.toLowerCase():"")}_=S}if(_)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var q=2<Tn(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",ta(c)}}finally{$n(c)}}}}function $n(c,m){if(c.g){cs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ft(c,"ready");try{_.onreadystatechange=S}catch{}}}function cs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Gs(m)}};function du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bh(c){const m={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ot(c[S]))continue;var _=V(c[S]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[k]||[];m[k]=q,q.push(_)}M(m,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function na(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hs("baseRetryDelayMs",5e3,c),this.cb=hs("retryDelaySeedMs",1e4,c),this.Wa=hs("forwardChannelMaxRetries",2,c),this.wa=hs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(c&&c.concurrentRequestLimit),this.Da=new ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=na.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,S){ne(0),this.W=c,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Eu(this,null,this.W),ra(this)};function No(c){if(mu(c),c.G==3){var m=c.U++,_=ln(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),fs(c,_),m=new Je(c,c.j,m),m.L=2,m.v=ss(ln(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),es(m)}vu(c)}function ia(c){c.g&&(ds(c),c.g.cancel(),c.g=null)}function mu(c){ia(c),c.u&&(p.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function ra(c){if(!Ys(c.h)&&!c.s){c.s=!0;var m=c.Ga;st||D(),dt||(st(),dt=!0),Bt.add(m,c),c.B=0}}function jh(c,m){return Xs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(I(c.Ga,c,m),Vo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Je(this,this.j,c);let q=this.o;if(this.S&&(q?(q=b(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=pu(this,k,m),_=ln(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),fs(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(Do(q)))+"&"+m:this.m&&De(_,this.m,q)),$s(this.h,k),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),k.T=!0,Mn(k,_,null)):Mn(k,_,m),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||Ys(this.h)||Oo(this))};function Oo(c,m){var _;m?_=m.l:_=c.U++;const S=ln(c.I);Kt(S,"SID",c.K),Kt(S,"RID",_),Kt(S,"AID",c.T),fs(c,S),c.m&&c.o&&De(S,c.m,c.o),_=new Je(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=pu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),$s(c.h,_),Mn(_,S,m)}function fs(c,m){c.H&&xt(c.H,function(_,S){Kt(m,S,_)}),c.l&&bo({},function(_,S){Kt(m,S,_)})}function pu(c,m,_){_=Math.min(c.i.length,_);var S=c.l?I(c.l.Na,c.l,c):null;t:{var k=c.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=k[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Pt=!0;for(let Se=0;Se<_;Se++){let kt=k[Se].g;const Ne=k[Se].map;if(kt-=q,0>kt)q=Math.max(0,k[Se].g-100),Pt=!1;else try{Kn(Ne,nt,"req"+kt+"_")}catch{S&&S(Ne)}}if(Pt){S=nt.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,S}function gu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;st||D(),dt||(st(),dt=!0),Bt.add(m,c),c.v=0}}function Mo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(I(c.Fa,c),Vo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ne(10),ia(this),yu(this))};function ds(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function yu(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=ln(c.qa);Kt(m,"RID","rpc"),Kt(m,"SID",c.K),Kt(m,"AID",c.T),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(m,"TO",c.ja),Kt(m,"TYPE","xmlhttp"),fs(c,m),c.m&&c.o&&De(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ss(ln(m)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ia(this),Mo(this),ne(19))};function sa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function _u(c,m){var _=null;if(c.g==m){sa(c),ds(c),c.g=null;var S=2}else if(So(c.h,m))_=m.D,We(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var k=c.B;S=tr(),Ft(S,new Te(S,_)),ra(c)}else gu(c);else if(k=m.s,k==3||k==0&&0<m.X||!(S==1&&jh(c,m)||S==2&&Mo(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),k){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Vo(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function Ci(c,m){if(c.j.info("Error code "+m),m==2){var _=I(c.fb,c),S=c.Xa;const k=!S;S=new ge(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||rs(S,"https"),ss(S),k?os(S.toString(),_):Vn(S.toString(),_)}else ne(2);c.G=0,c.l&&c.l.sa(m),vu(c),mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ne(2)):(this.j.info("Failed to ping google.com"),ne(1))};function vu(c){if(c.G=0,c.ka=[],c.l){const m=Ao(c.h);(m.length!=0||c.i.length!=0)&&(H(c.ka,m),H(c.ka,c.i),c.h.i.length=0,Z(c.i),c.i.length=0),c.l.ra()}}function Eu(c,m,_){var S=_ instanceof ge?ln(_):new ge(_);if(S.g!="")m&&(S.g=m+"."+S.g),sr(S,S.s);else{var k=p.location;S=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new ge(null);S&&rs(q,S),m&&(q.g=m),k&&sr(q,k),_&&(q.l=_),S=q}return _=c.D,m=c.ya,_&&m&&Kt(S,_,m),Kt(S,"VER",c.la),fs(c,S),S}function Tu(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new qt(new ar({eb:_})):new qt(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function aa(){}aa.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){le.call(this),this.g=new na(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!ot(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Zn(this)}F(tn,le),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=On(c),c=_);m.i.push(new uu(m.Ya++,c)),m.G==3&&ra(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.aa.N.call(this)};function Au(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}F(Au,vi);function bu(){_o.call(this),this.status=1}F(bu,_o);function Zn(c){this.g=c}F(Zn,Su),Zn.prototype.ua=function(){Ft(this.g,"a")},Zn.prototype.ta=function(c){Ft(this.g,new Au(c))},Zn.prototype.sa=function(c){Ft(this.g,new bu)},Zn.prototype.ra=function(){Ft(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,YE=function(){return new aa},KE=function(){return tr()},QE=qn,am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ir.NO_ERROR=0,ir.TIMEOUT=8,ir.HTTP_ERROR=6,Pc=ir,Ei.COMPLETE="complete",GE=Ei,yo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",le.prototype.listen=le.prototype.K,Al=yo,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,FE=qt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",nv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Om("@firebase/firestore");function ka(){return xs.logLevel}function lt(r,...t){if(xs.logLevel<=Ot.DEBUG){const n=t.map(xm);xs.debug(`Firestore (${ao}): ${r}`,...n)}}function Yi(r,...t){if(xs.logLevel<=Ot.ERROR){const n=t.map(xm);xs.error(`Firestore (${ao}): ${r}`,...n)}}function $a(r,...t){if(xs.logLevel<=Ot.WARN){const n=t.map(xm);xs.warn(`Firestore (${ao}): ${r}`,...n)}}function xm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,XE(r,s,n)}function XE(r,t,n){let s=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Yi(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||XE(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class KR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YR{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ur,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ur)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new $E(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class XR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $R{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new XR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Mt(r,t){return r<t?-1:r>t?1:0}function om(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Qd(o)===Qd(u)?Mt(o,u):Qd(o)?1:-1}return Mt(r.length,t.length)}const WR=55296,tw=57343;function Qd(r){const t=r.charCodeAt(0);return t>=WR&&t<=tw}function Za(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="__name__";class ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Mt(t.length,n.length)}static compareSegments(t,n){const s=ri.isNumericId(t),o=ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(t).compare(ri.extractNumericId(n)):om(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lr.fromString(t.substring(4,t.length-2))}}class te extends ri{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const ew=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ri{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return ew.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new qe([rv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(te.fromString(t))}static fromName(t){return new pt(te.fromString(t).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function nw(r,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function sv(r){if(!pt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function av(r){if(pt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function xl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(r);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,t){const n={typeString:r};return t&&(n.value=t),n}function Kl(r,t){if(!JE(r))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=-62135596800,lv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*lv);return new ee(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<ov)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ee("string",ee._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ee(0,0))}static max(){return new St(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function iw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new ee(n+1,0):new ee(n,s));return new Br(o,pt.empty(),t)}function rw(r){return new Br(r.readTime,r.key,Pl)}class Br{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Br(St.min(),pt.empty(),Pl)}static max(){return new Br(St.max(),pt.empty(),Pl)}}function sw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ow{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==aw)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let o=0,u=0,f=!1;t.forEach(p=>{++o,p.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new $((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let y=0;y<u;y++){const g=y;n(t[g]).next(E=>{f[g]=E,++p,p===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new $((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function lw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function gh(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function uw(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="";function cw(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=uv(t)),t=hw(r.get(n),t);return uv(t)}function hw(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case WE:n+="";break;default:n+=u}}return n}function uv(r){return r+WE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function zs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function tT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=u??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new je(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new hv(this.data.getIterator())}getIteratorFrom(t){return new hv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class hv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Ln([])}unionWith(t){let n=new Ie(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new eT("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=fw.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="server_timestamp",iT="__type__",rT="__previous_value__",sT="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[iT]?.stringValue===nT}function yh(r){const t=r.mapValue.fields[rT];return Um(t)?yh(t):t}function kl(r){const t=jr(r.mapValue.fields[sT].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,n,s,o,u,f,p,y,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Xc="(default)";class Ll{constructor(t,n){this.projectId=t,this.database=n||Xc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__type__",mw="__max__",Cc={mapValue:{}},oT="__vector__",$c="value";function Hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:gw(r)?9007199254740991:pw(r)?10:11:_t(28295,{value:r})}function di(r,t){if(r===t)return!0;const n=Hr(r);if(n!==Hr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return kl(r).isEqual(kl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=jr(o.timestampValue),p=jr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return qr(o.bytesValue).isEqual(qr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return me(o.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return me(o.integerValue)===me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=me(o.doubleValue),p=me(u.doubleValue);return f===p?Yc(f)===Yc(p):isNaN(f)&&isNaN(p)}return!1}(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(cv(f)!==cv(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!di(f[y],p[y])))return!1;return!0}(r,t);default:return _t(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find(n=>di(n,t))!==void 0}function Ja(r,t){if(r===t)return 0;const n=Hr(r),s=Hr(t);if(n!==s)return Mt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const p=me(u.integerValue||u.doubleValue),y=me(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1}(r,t);case 3:return fv(r.timestampValue,t.timestampValue);case 4:return fv(kl(r),kl(t));case 5:return om(r.stringValue,t.stringValue);case 6:return function(u,f){const p=qr(u),y=qr(f);return p.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const p=u.split("/"),y=f.split("/");for(let g=0;g<p.length&&g<y.length;g++){const E=Mt(p[g],y[g]);if(E!==0)return E}return Mt(p.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const p=Mt(me(u.latitude),me(f.latitude));return p!==0?p:Mt(me(u.longitude),me(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return dv(r.arrayValue,t.arrayValue);case 10:return function(u,f){const p=u.fields||{},y=f.fields||{},g=p[$c]?.arrayValue,E=y[$c]?.arrayValue,A=Mt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:dv(g,E)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Cc.mapValue&&f===Cc.mapValue)return 0;if(u===Cc.mapValue)return 1;if(f===Cc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const I=om(y[A],E[A]);if(I!==0)return I;const j=Ja(p[y[A]],g[E[A]]);if(j!==0)return j}return Mt(y.length,E.length)}(r.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function fv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const n=jr(r),s=jr(t),o=Mt(n.seconds,s.seconds);return o!==0?o:Mt(n.nanos,s.nanos)}function dv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ja(n[o],s[o]);if(u)return u}return Mt(n.length,s.length)}function Wa(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return qr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=lm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${lm(n.fields[f])}`;return o+"}"}(r.mapValue):_t(61005,{value:r})}function kc(r){switch(Hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return zs(s.fields,(u,f)=>{o+=u.length+kc(f)}),o}(r.mapValue);default:throw _t(13486,{value:r})}}function um(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function mv(r){return!!r&&"nullValue"in r}function pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function pw(r){return(r?.mapValue?.fields||{})[aT]?.stringValue===oT}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return zs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Il(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Il(r.arrayValue.values[n]);return t}return{...r}}function gw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Lc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Il(f):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){zs(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Dn(Il(this.value))}}function lT(r){const t=[];return zs(r.fields,(n,s)=>{const o=new qe([n]);if(Lc(s)){const u=lT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,St.min(),St.min(),St.min(),Dn.empty(),0)}static newFoundDocument(t,n,s,o){return new $e(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new $e(t,2,n,St.min(),St.min(),Dn.empty(),0)}static newUnknownDocument(t,n){return new $e(t,3,n,St.min(),St.min(),Dn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n){this.position=t,this.inclusive=n}}function gv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=Ja(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n="asc"){this.field=t,this.dir=n}}function yw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{}class we extends uT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new vw(t,n,s):n==="array-contains"?new Sw(t,s):n==="in"?new Aw(t,s):n==="not-in"?new bw(t,s):n==="array-contains-any"?new Rw(t,s):new we(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Ew(t,s):new Tw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends uT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new mi(t,n)}matches(t){return cT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cT(r){return r.op==="and"}function hT(r){return _w(r)&&cT(r)}function _w(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function cm(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(hT(r))return r.filters.map(t=>cm(t)).join(",");{const t=r.filters.map(n=>cm(n)).join(",");return`${r.op}(${t})`}}function fT(r,t){return r instanceof we?function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,t):r instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,p)=>u&&fT(f,o.filters[p]),!0):!1}(r,t):void _t(19439)}function dT(r){return r instanceof we?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(r):r instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(dT).join(" ,")+"}"}(r):"Filter"}class vw extends we{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Ew extends we{constructor(t,n){super(t,"in",n),this.keys=mT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Tw extends we{constructor(t,n){super(t,"not-in",n),this.keys=mT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mT(r,t){return(t.arrayValue?.values||[]).map(n=>pt.fromName(n.referenceValue))}class Sw extends we{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zm(n)&&Ul(n.arrayValue,this.value)}}class Aw extends we{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class bw extends we{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ul(this.value.arrayValue,n)}}class Rw extends we{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ul(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function _v(r,t=null,n=[],s=[],o=null,u=null,f=null){return new ww(r,t,n,s,o,u,f)}function Bm(r){const t=At(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>cm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),gh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Wa(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Wa(s)).join(",")),t.Te=n}return t.Te}function jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!fT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yv(r.startAt,t.startAt)&&yv(r.endAt,t.endAt)}function hm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Iw(r,t,n,s,o,u,f,p){return new _h(r,t,n,s,o,u,f,p)}function pT(r){return new _h(r)}function vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cw(r){return r.collectionGroup!==null}function Cl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ie(qe.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Jc(u,s))}),n.has(qe.keyField().canonicalString())||t.Ie.push(new Jc(qe.keyField(),s))}return t.Ie}function ai(r){const t=At(r);return t.Ee||(t.Ee=Dw(t,Cl(r))),t.Ee}function Dw(r,t){if(r.limitType==="F")return _v(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Jc(o.field,u)});const n=r.endAt?new Zc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zc(r.startAt.position,r.startAt.inclusive):null;return _v(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function fm(r,t,n){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function vh(r,t){return jm(ai(r),ai(t))&&r.limitType===t.limitType}function gT(r){return`${Bm(ai(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>dT(o)).join(", ")}]`),gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Wa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Wa(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Eh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Cl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,p,y){const g=gv(f,p,y);return f.inclusive?g<=0:g<0}(s.startAt,Cl(s),o)||s.endAt&&!function(f,p,y){const g=gv(f,p,y);return f.inclusive?g>=0:g>0}(s.endAt,Cl(s),o))}(r,t)}function Nw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yT(r){return(t,n)=>{let s=!1;for(const o of Cl(r)){const u=Ow(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Ow(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(u,f,p){const y=f.data.field(u),g=p.data.field(u);return y!==null&&g!==null?Ja(y,g):_t(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){zs(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new ae(pt.comparator);function Xi(){return Mw}const _T=new ae(pt.comparator);function bl(...r){let t=_T;for(const n of r)t=t.insert(n.key,n);return t}function vT(r){let t=_T;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ns(){return Dl()}function ET(){return Dl()}function Dl(){return new Bs(r=>r.toString(),(r,t)=>r.isEqual(t))}const Vw=new ae(pt.comparator),xw=new Ie(pt.comparator);function Vt(...r){let t=xw;for(const n of r)t=t.add(n);return t}const Pw=new Ie(Mt);function kw(){return Pw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function TT(r){return{integerValue:""+r}}function Lw(r,t){return uw(t)?TT(t):qm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function Uw(r,t,n){return r instanceof Wc?function(o,u){const f={fields:{[iT]:{stringValue:nT},[sT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Um(u)&&(u=yh(u)),u&&(f.fields[rT]=u),{mapValue:f}}(n,t):r instanceof zl?AT(r,t):r instanceof Bl?bT(r,t):function(o,u){const f=ST(o,u),p=Ev(f)+Ev(o.Ae);return um(f)&&um(o.Ae)?TT(p):qm(o.serializer,p)}(r,t)}function zw(r,t,n){return r instanceof zl?AT(r,t):r instanceof Bl?bT(r,t):n}function ST(r,t){return r instanceof th?function(s){return um(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Wc extends Th{}class zl extends Th{constructor(t){super(),this.elements=t}}function AT(r,t){const n=RT(t);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class Bl extends Th{constructor(t){super(),this.elements=t}}function bT(r,t){let n=RT(t);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class th extends Th{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Ev(r){return me(r.integerValue||r.doubleValue)}function RT(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Bw(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof zl&&o instanceof zl||s instanceof Bl&&o instanceof Bl?Za(s.elements,o.elements,di):s instanceof th&&o instanceof th?di(s.Ae,o.Ae):s instanceof Wc&&o instanceof Wc}(r.transform,t.transform)}class jw{constructor(t,n){this.version=t,this.transformResults=n}}class oi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sh{}function wT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,oi.none()):new Yl(r.key,r.data,oi.none());{const n=r.data,s=Dn.empty();let o=new Ie(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new js(r.key,s,new Ln(o.toArray()),oi.none())}}function qw(r,t,n){r instanceof Yl?function(o,u,f){const p=o.value.clone(),y=Sv(o.fieldTransforms,u,f.transformResults);p.setAll(y),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):r instanceof js?function(o,u,f){if(!Uc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Sv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(IT(o)),y.setAll(p),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Nl(r,t,n,s){return r instanceof Yl?function(u,f,p,y){if(!Uc(u.precondition,f))return p;const g=u.value.clone(),E=Av(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof js?function(u,f,p,y){if(!Uc(u.precondition,f))return p;const g=Av(u.fieldTransforms,y,f),E=f.data;return E.setAll(IT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,s):function(u,f,p){return Uc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,t,n)}function Hw(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=ST(s.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,u))}return n||null}function Tv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Za(s,o,(u,f)=>Bw(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yl extends Sh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends Sh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function Sv(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,zw(f,p,n[o]))}return s}function Av(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Uw(u,f,t))}return s}class Hm extends Sh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fw extends Sh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&qw(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Nl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Nl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=ET();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const y=wT(f,p);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,(n,s)=>Tv(n,s))&&Za(this.baseMutations,t.baseMutations,(n,s)=>Tv(n,s))}}class Fm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return Vw}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fm(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ut;function Yw(r){switch(r){case tt.OK:return _t(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function CT(r){if(r===void 0)return Yi("GRPC error has no .code"),tt.UNKNOWN;switch(r){case ve.OK:return tt.OK;case ve.CANCELLED:return tt.CANCELLED;case ve.UNKNOWN:return tt.UNKNOWN;case ve.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ve.INTERNAL:return tt.INTERNAL;case ve.UNAVAILABLE:return tt.UNAVAILABLE;case ve.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ve.NOT_FOUND:return tt.NOT_FOUND;case ve.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ve.ABORTED:return tt.ABORTED;case ve.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ve.DATA_LOSS:return tt.DATA_LOSS;default:return _t(39323,{code:r})}}(Ut=ve||(ve={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Lr([4294967295,4294967295],0);function bv(r){const t=Xw().encode(r),n=new HE;return n.update(t),new Uint8Array(n.digest())}function Rv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Lr([n,s],0),new Lr([o,u],0)]}class Gm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(s<0)throw new Rl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Lr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Lr.fromNumber(s)));return o.compare($w)===1&&(o=new Lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=bv(t),[s,o]=Rv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gm(u,o,n);return s.forEach(p=>f.insert(p)),f}insert(t){if(this.ge===0)return;const n=bv(t),[s,o]=Rv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Ah(St.min(),o,new ae(Mt),Xi(),Vt())}}class Xl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Xl(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class DT{constructor(t,n){this.targetId=t,this.Ce=n}}class NT{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wv{constructor(){this.ve=0,this.Fe=Iv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),n=Vt(),s=Vt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}}),new Xl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Iv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Zw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Xi(),this.Je=Dc(),this.He=Dc(),this.Ye=new ae(Mt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hm(u))if(s===0){const f=new pt(u.path);this.et(n,f,$e.newNoDocument(f,St.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),y=p?this.ct(p,t,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=qr(s).toUint8Array()}catch(y){if(y instanceof eT)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Gm(f,o,u)}catch(y){return $a(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const p=this.ot(f);if(p){if(u.current&&hm(p.target)){const y=new pt(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,$e.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Vt();this.He.forEach((u,f)=>{let p=!0;f.forEachWhile(y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new Ah(t,n,this.Ye,this.je,s);return this.je=Xi(),this.Je=Dc(),this.He=Dc(),this.Ye=new ae(Mt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new wv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ie(Mt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ie(Mt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wv),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Dc(){return new ae(pt.comparator)}function Iv(){return new ae(pt.comparator)}const Jw={asc:"ASCENDING",desc:"DESCENDING"},Ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tI={and:"AND",or:"OR"};class eI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function dm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function nI(r,t){return eh(r,t.toTimestamp())}function li(r){return Ht(!!r,49232),St.fromTimestamp(function(n){const s=jr(n);return new ee(s.seconds,s.nanos)}(r))}function Qm(r,t){return mm(r,t).canonicalString()}function mm(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function MT(r){const t=te.fromString(r);return Ht(LT(t),10190,{key:t.toString()}),t}function pm(r,t){return Qm(r.databaseId,t.path)}function Kd(r,t){const n=MT(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(xT(n))}function VT(r,t){return Qm(r.databaseId,t)}function iI(r){const t=MT(r);return t.length===4?te.emptyPath():xT(t)}function gm(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xT(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Cv(r,t,n){return{name:pm(r,t),fields:n.value.mapValue.fields}}function rI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&function(g){const E=g.code===void 0?tt.UNKNOWN:CT(g.code);return new ct(E,g.message||"")}(f);n=new NT(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Kd(r,s.document.name),u=li(s.document.updateTime),f=s.document.createTime?li(s.document.createTime):St.min(),p=new Dn({mapValue:{fields:s.document.fields}}),y=$e.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new zc(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Kd(r,s.document),u=s.readTime?li(s.readTime):St.min(),f=$e.newNoDocument(o,u),p=s.removedTargetIds||[];n=new zc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Kd(r,s.document),u=s.removedTargetIds||[];n=new zc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Kw(o,u),p=s.targetId;n=new DT(p,f)}}return n}function sI(r,t){let n;if(t instanceof Yl)n={update:Cv(r,t.key,t.value)};else if(t instanceof Hm)n={delete:pm(r,t.key)};else if(t instanceof js)n={update:Cv(r,t.key,t.data),updateMask:mI(t.fieldMask)};else{if(!(t instanceof Fw))return _t(16599,{Vt:t.type});n={verify:pm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const p=f.transform;if(p instanceof Wc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof th)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:nI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)}(r,t.precondition)),n}function aI(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?li(o.updateTime):li(u);return f.isEqual(St.min())&&(f=li(u)),new jw(f,o.transformResults||[])}(n,t))):[]}function oI(r,t){return{documents:[VT(r,t.path)]}}function lI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=VT(r,o);const u=function(g){if(g.length!==0)return kT(mi.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(I){return{field:Ua(I.field),direction:hI(I.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=dm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ft:n,parent:o}}function uI(r){let t=iI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const I=PT(A);return I instanceof mi&&hT(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(I=>function(F){return new Jc(za(F.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(I))}(n.orderBy));let p=null;n.limit&&(p=function(A){let I;return I=typeof A=="object"?A.value:A,gh(I)?null:I}(n.limit));let y=null;n.startAt&&(y=function(A){const I=!!A.before,j=A.values||[];return new Zc(j,I)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const I=!A.before,j=A.values||[];return new Zc(j,I)}(n.endAt)),Iw(t,o,f,u,p,"F",y,g)}function cI(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function PT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=za(n.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=za(n.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=za(n.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=za(n.unaryFilter.field);return we.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(n){return we.create(za(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>PT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(r):_t(30097,{filter:r})}function hI(r){return Jw[r]}function fI(r){return Ww[r]}function dI(r){return tI[r]}function Ua(r){return{fieldPath:r.canonicalString()}}function za(r){return qe.fromServerFormat(r.fieldPath)}function kT(r){return r instanceof we?function(n){if(n.op==="=="){if(pv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(mv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(mv(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:fI(n.op),value:n.value}}}(r):r instanceof mi?function(n){const s=n.getFilters().map(o=>kT(o));return s.length===1?s[0]:{compositeFilter:{op:dI(n.op),filters:s}}}(r):_t(54877,{filter:r})}function mI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function LT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,n,s,o,u=St.min(),f=St.min(),p=Fe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.yt=t}}function gI(r){const t=uI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Cn=new _I}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Br.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Br.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class _I{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ie(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ie(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(UT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LruGarbageCollector",vI=1048576;function Ov([r,t],[n,s]){const o=Mt(r,n);return o===0?Mt(t,s):o}class EI{constructor(t){this.Ir=t,this.buffer=new Ie(Ov),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ov(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class TI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?lt(Nv,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Vr(3e5)})}}class SI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(ph.ce);const s=new EI(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Dv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,p,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,p=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(g=Date.now(),ka()<=Ot.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function AI(r,t){return new SI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.changes=new Bs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Nl(s.mutation,o,Ln.empty(),ee.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const o=Ns();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=bl();return u.forEach((p,y)=>{f=f.insert(p,y.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ns();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,p)=>{n.set(f,p)})})}computeViews(t,n,s,o){let u=Xi();const f=Dl(),p=function(){return Dl()}();return n.forEach((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof js)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Nl(E.mutation,g,E.mutation.getFieldMask(),ee.now())):f.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(t,u).next(y=>(y.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>p.set(g,new RI(E,f.get(g)??null))),p))}recalculateAndSaveOverlays(t,n){const s=Dl();let o=new ae((f,p)=>f-p),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const p of f)p.keys().forEach(y=>{const g=n.get(y);if(g===null)return;let E=s.get(y)||Ln.empty();E=p.applyToLocalView(g,E),s.set(y,E);const A=(o.get(p.batchId)||Vt()).add(y);o=o.insert(p.batchId,A)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,E=y.value,A=ET();E.forEach(I=>{if(!u.has(I)){const j=wT(n.get(I),s.get(I));j!==null&&A.set(I,j),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Cw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(Ns());let p=Pl,y=u;return f.next(g=>$.forEach(g,(E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next(I=>{y=y.insert(E,I)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,y,g,Vt())).next(E=>({batchId:p,changes:vT(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let o=bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=bl();return this.indexManager.getCollectionParents(t,u).next(p=>$.forEach(p,y=>{const g=function(A,I){return new _h(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((A,I)=>{f=f.insert(A,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))});let p=bl();return f.forEach((y,g)=>{const E=u.get(y);E!==void 0&&Nl(E.mutation,g,Ln.empty(),ee.now()),Eh(n,g)&&(p=p.insert(y,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:li(o.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:gI(o.bundledQuery),readTime:li(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.overlays=new ae(pt.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ns();return $.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=Ns(),u=n.length+1,f=new pt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ae((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ns(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=Ns(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>p.set(g,E)),!(p.size()>=o)););return $.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Qw(n,s));let u=this.qr.get(n);u===void 0&&(u=Vt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Qr=new Ie(xe.$r),this.Ur=new Ie(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new xe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new xe(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new pt(new te([])),s=new xe(n,t),o=new xe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new te([])),s=new xe(n,t),o=new xe(n,t+1);let u=Vt();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new xe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||Mt(t.Yr,n.Yr)}static Kr(t,n){return Mt(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(xe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Gw(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new xe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new xe(n,0),o=new xe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);u.push(p)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Mt);return n.forEach(o=>{const u=new xe(o,0),f=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],p=>{s=s.add(p.Yr)})}),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new xe(new pt(u),0);let p=new Ie(Mt);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Yr)),!0)},f),$.resolve(this.ti(p))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,o=>{const u=new xe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new xe(n,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.ri=t,this.docs=function(){return new ae(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(t,n){let s=Xi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Xi();const f=n.path,p=new pt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||sw(rw(E),s)<=0||(o.has(E.key)||Eh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}ii(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new MI(this)}getSize(t){return $.resolve(this.size)}}class MI extends bI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.persistence=t,this.si=new Bs(n=>Bm(n),jm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new to(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new DI,this.referenceDelegate=t(this),this.Pi=new VI(this),this.indexManager=new yI,this.remoteDocumentCache=function(o){return new OI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new pI(n),this.Ii=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new CI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new NI(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new xI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return $.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class xI extends ow{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,s=>{const o=pt.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,St.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class nh{constructor(t,n){this.persistence=t,this.pi=new Bs(s=>cw(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=AI(this,n)}static mi(t,n){return new nh(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return $.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(p=>{p||(s++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=kc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return wb()?8:lw(Ze())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new PI;return this.Ss(t,n,f).next(p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(ka()<=Ot.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ka()<=Ot.DEBUG&&lt("QueryEngine","Query:",La(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ka()<=Ot.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(n))):$.resolve())}ys(t,n){if(vv(n))return $.resolve(null);let s=ai(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=fm(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Vt(...u);return this.ps.getDocuments(t,f).next(p=>this.indexManager.getMinOffset(t,s).next(y=>{const g=this.Ds(n,p);return this.Cs(n,g,f,y.readTime)?this.ys(t,fm(n,null,"F")):this.vs(t,g,n,y)}))})))}ws(t,n,s,o){return vv(n)||o.isEqual(St.min())?$.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(ka()<=Ot.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),La(n)),this.vs(t,f,n,iw(o,Pl)).next(p=>p))})}Ds(t,n){let s=new Ie(yT(t));return n.forEach((o,u)=>{Eh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return ka()<=Ot.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",La(n)),this.ps.getDocumentsMatchingQuery(t,n,Br.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LocalStore",LI=3e8;class UI{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new ae(Mt),this.xs=new Bs(u=>Bm(u),jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function zI(r,t,n,s){return new UI(r,t,n,s)}async function BT(r,t){const n=At(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],p=[];let y=Vt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:p}))})})}function BI(r,t){const n=At(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,y,g,E){const A=g.batch,I=A.keys();let j=$.resolve();return I.forEach(F=>{j=j.next(()=>E.getEntry(y,F)).next(Z=>{const H=g.docVersions.get(F);Ht(H!==null,48541),Z.version.compareTo(H)<0&&(A.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))})}),j.next(()=>p.mutationQueue.removeMutationBatch(y,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let y=Vt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function jT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function jI(r,t){const n=At(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach((E,A)=>{const I=o.get(A);if(!I)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let j=I.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?j=j.withResumeToken(Fe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,s)),o=o.insert(A,j),function(Z,H,J){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=LI?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(I,j,E)&&p.push(n.Pi.updateTargetData(u,j))});let y=Xi(),g=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),p.push(qI(u,f,t.documentUpdates).next(E=>{y=E.ks,g=E.qs})),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(E)}return $.waitFor(p).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(n.Ms=o,u))}function qI(r,t,n){let s=Vt(),o=Vt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=Xi();return n.forEach((p,y)=>{const g=u.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),f=f.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(p,y)):lt($m,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)}),{ks:f,qs:o}})}function HI(r,t){const n=At(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Lm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function FI(r,t){const n=At(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,$.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Vr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function ym(r,t,n){const s=At(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!lo(f))throw f;lt($m,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Mv(r,t,n){const s=At(r);let o=St.min(),u=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,g,E){const A=At(y),I=A.xs.get(E);return I!==void 0?$.resolve(A.Ms.get(I)):A.Pi.getTargetData(g,E)}(s,f,ai(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Vt())).next(p=>(GI(s,Nw(t),p),{documents:p,Qs:u})))}function GI(r,t,n){let s=r.Os.get(t)||St.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(t,s)}class Vv{constructor(){this.activeTargetIds=kw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QI{constructor(){this.Mo=new Vv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Vv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="ConnectivityMonitor";class Pv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(xv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function _m(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Xc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=_m(),p=this.zo(t,n.toUriEncodedString());lt(Yd,`Sending RPC '${t}' ${f}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(p),E=ro(g);return this.Jo(t,p,y,s,E).then(A=>(lt(Yd,`Received RPC '${t}' ${f}: `,A),A),A=>{throw $a(Yd,`RPC '${t}' ${f} failed with error: `,A,"url: ",p,"request:",s),A})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=YI[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class ZI extends XI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=_m();return new Promise((p,y)=>{const g=new FE;g.setWithCredentials(!0),g.listenOnce(GE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Pc.NO_ERROR:const A=g.getResponseJson();lt(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),p(A);break;case Pc.TIMEOUT:lt(Ye,`RPC '${t}' ${f} timed out`),y(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const I=g.getStatus();if(lt(Ye,`RPC '${t}' ${f} failed with status:`,I,"response text:",g.getResponseText()),I>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j?.error;if(F&&F.status&&F.message){const Z=function(J){const ot=J.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ot)>=0?ot:tt.UNKNOWN}(F.status);y(new ct(Z,F.message))}else y(new ct(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{lt(Ye,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);lt(Ye,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(t,n,s){const o=_m(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=YE(),p=KE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");lt(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let I=!1,j=!1;const F=new $I({Yo:H=>{j?lt(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(I||(lt(Ye,`Opening RPC '${t}' stream ${o} transport.`),A.open(),I=!0),lt(Ye,`RPC '${t}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),Z=(H,J,ot)=>{H.listen(J,rt=>{try{ot(rt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return Z(A,Al.EventType.OPEN,()=>{j||(lt(Ye,`RPC '${t}' stream ${o} transport opened.`),F.o_())}),Z(A,Al.EventType.CLOSE,()=>{j||(j=!0,lt(Ye,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(A))}),Z(A,Al.EventType.ERROR,H=>{j||(j=!0,$a(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),F.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),Z(A,Al.EventType.MESSAGE,H=>{if(!j){const J=H.data[0];Ht(!!J,16349);const ot=J,rt=ot?.error||ot[0]?.error;if(rt){lt(Ye,`RPC '${t}' stream ${o} received error:`,rt);const bt=rt.status;let ft=function(b){const w=ve[b];if(w!==void 0)return CT(w)}(bt),xt=rt.message;ft===void 0&&(ft=tt.INTERNAL,xt="Unknown error status: "+bt+" with message "+rt.message),j=!0,F.a_(new ct(ft,xt)),A.close()}else lt(Ye,`RPC '${t}' stream ${o} received:`,J),F.u_(J)}}),Z(p,QE.STAT_EVENT,H=>{H.stat===am.PROXY?lt(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===am.NOPROXY&&lt(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.__()},0),F}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(r){return new eI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="PersistentStream";class HT{constructor(t,n,s,o,u,f,p,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return lt(kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(lt(kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JI extends HT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=rI(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?li(f.readTime):St.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=gm(this.serializer),n.addTarget=function(u,f){let p;const y=f.target;if(p=hm(y)?{documents:oI(u,y)}:{query:lI(u,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=OT(u,f.resumeToken);const g=dm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){p.readTime=eh(u,f.snapshotVersion.toTimestamp());const g=dm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,t);const s=cI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=gm(this.serializer),n.removeTarget=t,this.q_(n)}}class WI extends HT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=aI(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=gm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>sI(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{}class eC extends tC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,mm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(tt.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(t,mm(n,s),o,f,p,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(tt.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class iC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{qs(this)&&(lt(Ps,"Restarting streams for network reachability change."),await async function(y){const g=At(y);g.Ea.add(4),await $l(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rh(g)}(this))})}),this.Ra=new nC(s,o)}}async function Rh(r){if(qs(r))for(const t of r.da)await t(!0)}async function $l(r){for(const t of r.da)await t(!1)}function FT(r,t){const n=At(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),tp(n)?Wm(n):uo(n).O_()&&Jm(n,t))}function Zm(r,t){const n=At(r),s=uo(n);n.Ia.delete(t),s.O_()&&GT(n,t),n.Ia.size===0&&(s.O_()?s.L_():qs(n)&&n.Ra.set("Unknown"))}function Jm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uo(r).Y_(t)}function GT(r,t){r.Va.Ue(t),uo(r).Z_(t)}function Wm(r){r.Va=new Zw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.Ra.ua()}function tp(r){return qs(r)&&!uo(r).x_()&&r.Ia.size>0}function qs(r){return At(r).Ea.size===0}function QT(r){r.Va=void 0}async function rC(r){r.Ra.set("Online")}async function sC(r){r.Ia.forEach((t,n)=>{Jm(r,t)})}async function aC(r,t){QT(r),tp(r)?(r.Ra.ha(t),Wm(r)):r.Ra.set("Unknown")}async function oC(r,t,n){if(r.Ra.set("Online"),t instanceof NT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,t)}catch(s){lt(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ih(r,s)}else if(t instanceof zc?r.Va.Ze(t):t instanceof DT?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await jT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}}),p.targetMismatches.forEach((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),GT(u,y);const A=new Vr(E.target,y,g,E.sequenceNumber);Jm(u,A)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){lt(Ps,"Failed to raise snapshot:",s),await ih(r,s)}}async function ih(r,t,n){if(!lo(t))throw t;r.Ea.add(1),await $l(r),r.Ra.set("Offline"),n||(n=()=>jT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Ps,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Rh(r)})}function KT(r,t){return t().catch(n=>ih(r,n,t))}async function wh(r){const t=At(r),n=Fr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;lC(t);)try{const o=await HI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,uC(t,o)}catch(o){await ih(t,o)}YT(t)&&XT(t)}function lC(r){return qs(r)&&r.Ta.length<10}function uC(r,t){r.Ta.push(t);const n=Fr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function YT(r){return qs(r)&&!Fr(r).x_()&&r.Ta.length>0}function XT(r){Fr(r).start()}async function cC(r){Fr(r).ra()}async function hC(r){const t=Fr(r);for(const n of r.Ta)t.ea(n.mutations)}async function fC(r,t,n){const s=r.Ta.shift(),o=Fm.from(s,t,n);await KT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await wh(r)}async function dC(r,t){t&&Fr(r).X_&&await async function(s,o){if(function(f){return Yw(f)&&f!==tt.ABORTED}(o.code)){const u=s.Ta.shift();Fr(s).B_(),await KT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await wh(s)}}(r,t),YT(r)&&XT(r)}async function Lv(r,t){const n=At(r);n.asyncQueue.verifyOperationInProgress(),lt(Ps,"RemoteStore received new credentials");const s=qs(n);n.Ea.add(3),await $l(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Rh(n)}async function mC(r,t){const n=At(r);t?(n.Ea.delete(2),await Rh(n)):t||(n.Ea.add(2),await $l(n),n.Ra.set("Unknown"))}function uo(r){return r.ma||(r.ma=function(n,s,o){const u=At(n);return u.sa(),new JI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:rC.bind(null,r),t_:sC.bind(null,r),r_:aC.bind(null,r),H_:oC.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),tp(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),QT(r))})),r.ma}function Fr(r){return r.fa||(r.fa=function(n,s,o){const u=At(n);return u.sa(),new WI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cC.bind(null,r),r_:dC.bind(null,r),ta:hC.bind(null,r),na:fC.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await wh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Ps,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new ep(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(Yi("AsyncQueue",`${t}: ${r}`),lo(r))return new ct(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(t){return new Ha(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=bl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ha)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ha;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.ga=new ae(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class eo{constructor(t,n,s,o,u,f,p,y,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new eo(t,n,Ha.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class gC{constructor(){this.queries=zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=At(n),u=o.queries;o.queries=zv(),u.forEach((f,p)=>{for(const y of p.Sa)y.onError(s)})})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function zv(){return new Bs(r=>gT(r),vh)}async function yC(r,t){const n=At(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new pC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=np(f,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ip(n)}async function _C(r,t){const n=At(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vC(r,t){const n=At(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&ip(n)}function EC(r,t,n){const s=At(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function ip(r){r.Ca.forEach(t=>{t.next()})}var vm,Bv;(Bv=vm||(vm={})).Ma="default",Bv.Cache="cache";class TC{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new eo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.key=t}}class ZT{constructor(t){this.key=t}}class SC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=yT(t),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Uv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const I=o.get(E),j=Eh(this.query,A)?A:null,F=!!I&&this.mutatedKeys.has(I.key),Z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;I&&j?I.data.isEqual(j.data)?F!==Z&&(s.track({type:3,doc:j}),H=!0):this.su(I,j)||(s.track({type:2,doc:j}),H=!0,(y&&this.eu(j,y)>0||g&&this.eu(j,g)<0)&&(p=!0)):!I&&j?(s.track({type:0,doc:j}),H=!0):I&&!j&&(s.track({type:1,doc:I}),H=!0,(y||g)&&(p=!0)),H&&(j?(f=f.add(j),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,A)=>function(j,F){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return Z(j)-Z(F)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new eo(this.query,t.tu,u,f,t.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new ZT(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new $T(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Vt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rp="SyncEngine";class AC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class bC{constructor(t){this.key=t,this.hu=!1}}class RC{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Bs(p=>gT(p),vh),this.Iu=new Map,this.Eu=new Set,this.du=new ae(pt.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wC(r,t,n=!0){const s=i0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await JT(s,t,n,!0),o}async function IC(r,t){const n=i0(r);await JT(n,t,!0,!1)}async function JT(r,t,n,s){const o=await FI(r.localStore,ai(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await CC(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&FT(r.remoteStore,o),p}async function CC(r,t,n,s,o){r.pu=(A,I,j)=>async function(Z,H,J,ot){let rt=H.view.ru(J);rt.Cs&&(rt=await Mv(Z.localStore,H.query,!1).then(({documents:M})=>H.view.ru(M,rt)));const bt=ot&&ot.targetChanges.get(H.targetId),ft=ot&&ot.targetMismatches.get(H.targetId)!=null,xt=H.view.applyChanges(rt,Z.isPrimaryClient,bt,ft);return qv(Z,H.targetId,xt.au),xt.snapshot}(r,A,I,j);const u=await Mv(r.localStore,t,!0),f=new SC(t,u.Qs),p=f.ru(u.documents),y=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,y);qv(r,n,g.au);const E=new AC(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function DC(r,t,n){const s=At(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!vh(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Zm(s.remoteStore,o.targetId),Em(s,o.targetId)}).catch(oo)):(Em(s,o.targetId),await ym(s.localStore,o.targetId,!0))}async function NC(r,t){const n=At(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zm(n.remoteStore,s.targetId))}async function OC(r,t,n){const s=UC(r);try{const o=await function(f,p){const y=At(f),g=ee.now(),E=p.reduce((j,F)=>j.add(F.key),Vt());let A,I;return y.persistence.runTransaction("Locally write mutations","readwrite",j=>{let F=Xi(),Z=Vt();return y.Ns.getEntries(j,E).next(H=>{F=H,F.forEach((J,ot)=>{ot.isValidDocument()||(Z=Z.add(J))})}).next(()=>y.localDocuments.getOverlayedDocuments(j,F)).next(H=>{A=H;const J=[];for(const ot of p){const rt=Hw(ot,A.get(ot.key).overlayedDocument);rt!=null&&J.push(new js(ot.key,rt,lT(rt.value.mapValue),oi.exists(!0)))}return y.mutationQueue.addMutationBatch(j,g,J,p)}).next(H=>{I=H;const J=H.applyToLocalDocumentSet(A,Z);return y.documentOverlayCache.saveOverlays(j,H.batchId,J)})}).then(()=>({batchId:I.batchId,changes:vT(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new ae(Mt)),g=g.insert(p,y),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Zl(s,o.changes),await wh(s.remoteStore)}catch(o){const u=np(o,"Failed to persist write");n.reject(u)}}async function WT(r,t){const n=At(r);try{const s=await jI(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ht(f.hu,14607):o.removedDocuments.size>0&&(Ht(f.hu,42227),f.hu=!1))}),await Zl(n,s,t)}catch(s){await oo(s)}}function jv(r,t,n){const s=At(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)}),function(f,p){const y=At(f);y.onlineState=p;let g=!1;y.queries.forEach((E,A)=>{for(const I of A.Sa)I.va(p)&&(g=!0)}),g&&ip(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function MC(r,t,n){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ae(pt.comparator);f=f.insert(u,$e.newNoDocument(u,St.min()));const p=Vt().add(u),y=new Ah(St.min(),new Map,new ae(Mt),f,p);await WT(s,y),s.du=s.du.remove(u),s.Au.delete(t),sp(s)}else await ym(s.localStore,t,!1).then(()=>Em(s,t,n)).catch(oo)}async function VC(r,t){const n=At(r),s=t.batch.batchId;try{const o=await BI(n.localStore,t);e0(n,s,null),t0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,o)}catch(o){await oo(o)}}async function xC(r,t,n){const s=At(r);try{const o=await function(f,p){const y=At(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,p).next(A=>(Ht(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,p)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(s.localStore,t);e0(s,t,n),t0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Zl(s,o)}catch(o){await oo(o)}}function t0(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function e0(r,t,n){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Em(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||n0(r,s)})}function n0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Zm(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),sp(r))}function qv(r,t,n){for(const s of n)s instanceof $T?(r.Ru.addReference(s.key,t),PC(r,s)):s instanceof ZT?(lt(rp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||n0(r,s.key)):_t(19791,{wu:s})}function PC(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(lt(rp,"New document in limbo: "+n),r.Eu.add(s),sp(r))}function sp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(te.fromString(t)),s=r.fu.next();r.Au.set(s,new bC(n)),r.du=r.du.insert(n,s),FT(r.remoteStore,new Vr(ai(pT(n.path)),s,"TargetPurposeLimboResolution",ph.ce))}}async function Zl(r,t,n){const s=At(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,y)=>{f.push(s.pu(y,t,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Xm.As(y.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,g){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>$.forEach(g,I=>$.forEach(I.Es,j=>E.persistence.referenceDelegate.addReference(A,I.targetId,j)).next(()=>$.forEach(I.ds,j=>E.persistence.referenceDelegate.removeReference(A,I.targetId,j)))))}catch(A){if(!lo(A))throw A;lt($m,"Failed to update sequence numbers: "+A)}for(const A of g){const I=A.targetId;if(!A.fromCache){const j=E.Ms.get(I),F=j.snapshotVersion,Z=j.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(I,Z)}}}(s.localStore,u))}async function kC(r,t){const n=At(r);if(!n.currentUser.isEqual(t)){lt(rp,"User change. New user:",t.toKey());const s=await BT(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(p=>{p.forEach(y=>{y.reject(new ct(tt.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Ls)}}function LC(r,t){const n=At(r),s=n.Au.get(t);if(s&&s.hu)return Vt().add(s.key);{let o=Vt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function i0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MC.bind(null,t),t.Pu.H_=vC.bind(null,t.eventManager),t.Pu.yu=EC.bind(null,t.eventManager),t}function UC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xC.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return zI(this.persistence,new kI,t.initialUser,this.serializer)}Cu(t){return new zT(Ym.mi,this.serializer)}Du(t){return new QI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class zC extends rh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ht(this.persistence.referenceDelegate instanceof nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new TI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new zT(s=>nh.mi(s,n),this.serializer)}}class Tm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),await mC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gC}()}createDatastore(t){const n=bh(t.databaseInfo.databaseId),s=function(u){return new ZI(u)}(t.databaseInfo);return function(u,f,p,y){return new eC(u,f,p,y)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,p){return new iC(s,o,u,f,p)}(this.localStore,this.datastore,t.asyncQueue,n=>jv(this.syncEngine,n,0),function(){return Pv.v()?new Pv:new KI}())}createSyncEngine(t,n){return function(o,u,f,p,y,g,E){const A=new RC(o,u,f,p,y,g);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=At(n);lt(Ps,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Yi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class jC{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{lt(Gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(lt(Gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=np(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function $d(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Gr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await BT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Hv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await qC(r);lt(Gr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Lv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Lv(t.remoteStore,o)),r._onlineComponents=t}async function qC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Gr,"Using user provided OfflineComponentProvider");try{await $d(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await $d(r,new rh)}}else lt(Gr,"Using default OfflineComponentProvider"),await $d(r,new zC(void 0));return r._offlineComponents}async function r0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Gr,"Using user provided OnlineComponentProvider"),await Hv(r,r._uninitializedComponentsProvider._online)):(lt(Gr,"Using default OnlineComponentProvider"),await Hv(r,new Tm))),r._onlineComponents}function HC(r){return r0(r).then(t=>t.syncEngine)}async function FC(r){const t=await r0(r),n=t.eventManager;return n.onListen=wC.bind(null,t.syncEngine),n.onUnlisten=DC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=IC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NC.bind(null,t.syncEngine),n}function GC(r,t,n={}){const s=new Ur;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,p,y,g){const E=new BC({next:I=>{E.Nu(),f.enqueueAndForget(()=>_C(u,A)),I.fromCache&&y.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),A=new TC(p,E,{includeMetadataChanges:!0,qa:!0});return yC(u,A)}(await FC(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="firestore.googleapis.com",Gv=!0;class Qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a0,this.ssl=Gv}else this.host=t.host,this.ssl=t.ssl??Gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vI)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s0(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new QR;switch(s.type){case"firstParty":return new $R(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Fv.get(n);s&&(lt("ComponentProvider","Removing Datastore"),Fv.delete(n),s.terminate())}(this),Promise.resolve()}}function QC(r,t,n,s={}){r=xl(r,Ih);const o=ro(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(PE(`https://${p}`),kE("Firestore",!0)),u.host!==a0&&u.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:s};if(!Ms(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xe.MOCK_USER;else{g=yb(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xe(A)}r._authCredentials=new KR(new $E(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class He{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Kl(n,He._jsonSchema))return new He(t,s||null,new pt(te.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Ee("string",He._jsonSchemaVersion),referencePath:Ee("string")};class zr extends Ch{constructor(t,n,s){super(t,n,pT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new pt(t))}withConverter(t){return new zr(this.firestore,t,this._path)}}function o0(r,t,...n){if(r=Bn(r),ZE("collection","path",t),r instanceof Ih){const s=te.fromString(t,...n);return av(s),new zr(r,null,s)}{if(!(r instanceof He||r instanceof zr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return av(s),new zr(r.firestore,null,s)}}function l0(r,t,...n){if(r=Bn(r),arguments.length===1&&(t=Pm.newId()),ZE("doc","path",t),r instanceof Ih){const s=te.fromString(t,...n);return sv(s),new He(r,null,new pt(s))}{if(!(r instanceof He||r instanceof zr))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return sv(s),new He(r.firestore,r instanceof zr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qT(this,"async_queue_retry"),this._c=()=>{const s=Xd();s&&lt(Kv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Xd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Xd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ur;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lo(t))throw t;lt(Kv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",Xv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=ep.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Xv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Dh extends Ih{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function KC(r,t){const n=typeof r=="object"?r:BE(),s=typeof r=="string"?r:Xc,o=Vm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pb("firestore");u&&QC(o,...u)}return o}function u0(r){if(r._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||YC(r),r._firestoreClient}function YC(r){const t=r._freezeSettings(),n=function(o,u,f,p){return new dw(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,s0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new jC(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(Fe.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Nn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ee("string",Nn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,ui._jsonSchema))return new ui(t.latitude,t.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Ee("string",ui._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new ci(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Ee("string",ci._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^__.*__$/;class $C{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(t,this.data,n,this.fieldTransforms)}}function h0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class op{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new op({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return sh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(h0(this.Ac)&&XC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZC{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||bh(t)}Cc(t,n,s,o=!1){return new op({Ac:t,methodName:n,Dc:s,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JC(r){const t=r._freezeSettings(),n=bh(r._databaseId);return new ZC(r._databaseId,!!t.ignoreUndefinedProperties,n)}function WC(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);p0("Data must be an object, but it was:",f,s);const p=d0(s,f);let y,g;if(u.merge)y=new Ln(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const I=t2(t,A,n);if(!f.contains(I))throw new ct(tt.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);n2(E,I)||E.push(I)}y=new Ln(E),g=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,g=f.fieldTransforms;return new $C(new Dn(p),y,g)}function f0(r,t){if(m0(r=Bn(r)))return p0("Unsupported field value:",t,r),d0(r,t);if(r instanceof c0)return function(s,o){if(!h0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const p of s){let y=f0(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Bn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Lw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ee.fromDate(s);return{timestampValue:eh(o.serializer,u)}}if(s instanceof ee){const u=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:eh(o.serializer,u)}}if(s instanceof ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:OT(o.serializer,s._byteString)};if(s instanceof He){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ci)return function(f,p){return{mapValue:{fields:{[aT]:{stringValue:oT},[$c]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return qm(p.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${km(s)}`)}(r,t)}function d0(r,t){const n={};return tT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zs(r,(s,o)=>{const u=f0(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function m0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof ui||r instanceof Nn||r instanceof He||r instanceof c0||r instanceof ci)}function p0(r,t,n){if(!m0(n)||!JE(n)){const s=km(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function t2(r,t,n){if((t=Bn(t))instanceof ap)return t._internalPath;if(typeof t=="string")return g0(r,t);throw sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const e2=new RegExp("[~\\*/\\[\\]]");function g0(r,t,n){if(t.search(e2)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ap(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function sh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new ct(tt.INVALID_ARGUMENT,p+r+y)}function n2(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new i2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(_0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class i2 extends y0{data(){return super.data()}}function _0(r,t){return typeof t=="string"?g0(r,t):t instanceof ap?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s2{convertValue(t,n="none"){switch(Hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return zs(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){const n=t.fields?.[$c].arrayValue?.values?.map(s=>me(s.doubleValue));return new ci(n)}convertGeoPoint(t){return new ui(me(t.latitude),me(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=yh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const n=jr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Ht(LT(s),9688,{name:t});const o=new Ll(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||Yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Oc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fa extends y0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(_0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:Ee("string",Fa._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Bc extends Fa{data(t={}){return super.data(t)}}class Ga{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Oc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new Oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const y=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const y=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:o2(p.type),doc:y,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function o2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ee("string",Ga._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class l2 extends s2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,n)}}function u2(r){r=xl(r,Ch);const t=xl(r.firestore,Dh),n=u0(t),s=new l2(t);return r2(r._query),GC(n,r._query).then(o=>new Ga(t,s,r,o))}function c2(r){return v0(xl(r.firestore,Dh),[new Hm(r._key,oi.none())])}function h2(r,t){const n=xl(r.firestore,Dh),s=l0(r),o=a2(r.converter,t);return v0(n,[WC(JC(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then(()=>s)}function v0(r,t){return function(s,o){const u=new Ur;return s.asyncQueue.enqueueAndForget(async()=>OC(await HC(s),o,u)),u.promise}(u0(r),t)}(function(t,n=!0){(function(o){ao=o})(so),Xa(new Vs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Dh(new YR(s.getProvider("auth-internal")),new ZR(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),kr(ev,nv,t),kr(ev,nv,"esm2020")})();function E0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f2=E0,T0=new Gl("auth","Firebase",E0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Om("@firebase/auth");function d2(r,...t){ah.logLevel<=Ot.WARN&&ah.warn(`Auth (${so}): ${r}`,...t)}function jc(r,...t){ah.logLevel<=Ot.ERROR&&ah.error(`Auth (${so}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,...t){throw lp(r,...t)}function hi(r,...t){return lp(r,...t)}function S0(r,t,n){const s={...f2(),[t]:n};return new Gl("auth","Firebase",s).create(t,{appName:r.name})}function Os(r){return S0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return T0.create(r,...t)}function Et(r,t,...n){if(!r)throw lp(t,...n)}function Hi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function Zi(r,t){r||Hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){return typeof self<"u"&&self.location?.href||""}function m2(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m2()||Ab()||"connection"in navigator)?navigator.onLine:!0}function g2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zi(n>t,"Short delay should be less than long delay!"),this.isMobile=Eb()||bb()}get(){return p2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r,t){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v2=new Jl(3e4,6e4);function cp(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function co(r,t,n,s,o={}){return b0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Ql({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:y,...u};return Sb()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ro(r.emulatorConfig.host)&&(g.credentials="include"),A0.fetch()(await R0(r,r.config.apiHost,n,p),g)})}async function b0(r,t,n){r._canInitEmulator=!1;const s={...y2,...t};try{const o=new T2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Mc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Mc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw S0(r,E,g);$i(r,E)}}catch(o){if(o instanceof Ji)throw o;$i(r,"network-request-failed",{message:String(o)})}}async function E2(r,t,n,s,o={}){const u=await co(r,t,n,s,o);return"mfaPendingCredential"in u&&$i(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function R0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?up(r.config,o):`${r.config.apiScheme}://${o}`;return _2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class T2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),v2.get())})}}function Mc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(r,t){return co(r,"POST","/v1/accounts:delete",t)}async function oh(r,t){return co(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function A2(r,t=!1){const n=Bn(r),s=await n.getIdToken(t),o=hp(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ol(Zd(o.auth_time)),issuedAtTime:Ol(Zd(o.iat)),expirationTime:Ol(Zd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zd(r){return Number(r)*1e3}function hp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=OE(n);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Zv(r){const t=hp(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ji&&b2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function b2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(r){const t=r.auth,n=await r.getIdToken(),s=await jl(r,oh(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?w0(o.providerUserInfo):[],f=I2(r.providerData,u),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function w2(r){const t=Bn(r);await lh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function I2(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function w0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,t){const n=await b0(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await R0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&ro(r.emulatorConfig.host)&&(y.credentials="include"),A0.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D2(r,t){return co(r,"POST","/v2/accounts:revokeToken",cp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Zv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=Zv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await C2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Qa;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Un{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new R2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Am(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await jl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return A2(this,t)}reload(){return w2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Un({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Os(this.auth));const t=await this.getIdToken();return await jl(this,S2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:j,providerData:F,stsTokenManager:Z}=n;Et(A&&Z,t,"internal-error");const H=Qa.fromJSON(this.name,Z);Et(typeof A=="string",t,"internal-error"),Cr(s,t.name),Cr(o,t.name),Et(typeof I=="boolean",t,"internal-error"),Et(typeof j=="boolean",t,"internal-error"),Cr(u,t.name),Cr(f,t.name),Cr(p,t.name),Cr(y,t.name),Cr(g,t.name),Cr(E,t.name);const J=new Un({uid:A,auth:t,email:o,emailVerified:I,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(J.providerData=F.map(ot=>({...ot}))),y&&(J._redirectEventId=y),J}static async _fromIdTokenResponse(t,n,s=!1){const o=new Qa;o.updateFromServerResponse(n);const u=new Un({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await lh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?w0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new Qa;p.updateFromIdToken(s);const y=new Un({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;function Fi(r){Zi(r instanceof Function,"Expected a class definition");let t=Jv.get(r);return t?(Zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Jv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}I0.type="NONE";const Wv=I0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r,t,n){return`firebase:${r}:${t}:${n}`}class Ka{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await oh(this.auth,{idToken:t}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ka(Fi(Wv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Fi(Wv);const f=qc(s,t.config.apiKey,t.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const I=await oh(t,{idToken:E}).catch(()=>{});if(!I)break;A=await Un._fromGetAccountInfoResponse(t,I,E)}else A=Un._fromJSON(t,E);g!==u&&(p=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ka(u,t,s):(u=y[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ka(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(O0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(C0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(V0(t))return"Blackberry";if(x0(t))return"Webos";if(D0(t))return"Safari";if((t.includes("chrome/")||N0(t))&&!t.includes("edge/"))return"Chrome";if(M0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function C0(r=Ze()){return/firefox\//i.test(r)}function D0(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function N0(r=Ze()){return/crios\//i.test(r)}function O0(r=Ze()){return/iemobile/i.test(r)}function M0(r=Ze()){return/android/i.test(r)}function V0(r=Ze()){return/blackberry/i.test(r)}function x0(r=Ze()){return/webos/i.test(r)}function fp(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function N2(r=Ze()){return fp(r)&&!!window.navigator?.standalone}function O2(){return Rb()&&document.documentMode===10}function P0(r=Ze()){return fp(r)||M0(r)||x0(r)||V0(r)||/windows phone/i.test(r)||O0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,t=[]){let n;switch(r){case"Browser":n=tE(Ze());break;case"Worker":n=`${tE(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${so}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const y=t(u);f(y)}catch(y){p(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(r,t={}){return co(r,"GET","/v2/passwordPolicy",cp(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=6;class P2{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??x2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new M2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await oh(this,{idToken:t}),s=await Un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(si(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await lh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=g2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(Os(this));const n=t?Bn(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await V2(this),n=new P2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await D2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&d2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function dp(r){return Bn(r)}class eE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Vb(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L2(r){mp=r}function U2(r){return mp.loadJS(r)}function z2(){return mp.gapiScript}function B2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r,t){const n=Vm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ms(u,t??{}))return o;$i(o,"already-initialized")}return n.initialize({options:t})}function q2(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Fi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function H2(r,t,n){const s=dp(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=L0(t),{host:f,port:p}=F2(t),y=p===null?"":`:${p}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Ms(g,s.config.emulator)&&Ms(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ro(f)?(PE(`${u}//${f}${y}`),kE("Auth",!0)):G2()}function L0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function F2(r){const t=L0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:nE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:nE(f)}}}function nE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function G2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(t){return Hi("not implemented")}_linkToIdToken(t,n){return Hi("not implemented")}_getReauthenticationResolver(t){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(r,t){return E2(r,"POST","/v1/accounts:signInWithIdp",cp(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="http://localhost";class ks extends U0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):$i("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ya(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ya(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ya(t,n)}buildRequest(){const t={requestUri:Q2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ql(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends z0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Wl{constructor(){super("facebook.com")}static credential(t){return ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dr.credentialFromTaggedObject(t)}static credentialFromError(t){return Dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dr.credential(t.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ks._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Wl{constructor(){super("github.com")}static credential(t){return ks._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Or.credential(t.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Wl{constructor(){super("twitter.com")}static credential(t,n){return ks._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Mr.credential(n,s)}catch{return null}}}Mr.TWITTER_SIGN_IN_METHOD="twitter.com";Mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Un._fromIdTokenResponse(t,s,o),f=iE(s);return new no({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=iE(s);return new no({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function iE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Ji{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new uh(t,n,s,o)}}function B0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(r,u,t,s):u})}async function K2(r,t,n=!1){const s=await jl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return no._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(r,t,n=!1){const{auth:s}=r;if(si(s.app))return Promise.reject(Os(s));const o="reauthenticate";try{const u=await jl(r,B0(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=hp(u.idToken);Et(f,s,"internal-error");const{sub:p}=f;return Et(r.uid===p,s,"user-mismatch"),no._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$i(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(r,t,n=!1){if(si(r.app))return Promise.reject(Os(r));const s="signIn",o=await B0(r,s,t),u=await no._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function $2(r,t,n,s){return Bn(r).onIdTokenChanged(t,n,s)}function Z2(r,t,n){return Bn(r).beforeAuthStateChanged(t,n)}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1e3,W2=10;class q0 extends j0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);O2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,W2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}q0.type="LOCAL";const tD=q0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends j0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}H0.type="SESSION";const F0=H0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),y=await eD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,y)=>{const g=pp("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function iD(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function rD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sD(){return navigator?.serviceWorker?.controller||null}function aD(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",oD=1,hh="firebaseLocalStorage",K0="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(r,t){return r.transaction([hh],t?"readwrite":"readonly").objectStore(hh)}function lD(){const r=indexedDB.deleteDatabase(Q0);return new tu(r).toPromise()}function bm(){const r=indexedDB.open(Q0,oD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hh,{keyPath:K0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hh)?t(s):(s.close(),await lD(),t(await bm()))})})}async function rE(r,t,n){const s=Oh(r,!0).put({[K0]:t,value:n});return new tu(s).toPromise()}async function uD(r,t){const n=Oh(r,!1).get(t),s=await new tu(n).toPromise();return s===void 0?null:s.value}function sE(r,t){const n=Oh(r,!0).delete(t);return new tu(n).toPromise()}const cD=800,hD=3;class Y0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>hD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(aD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rD(),!this.activeServiceWorker)return;this.sender=new nD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bm();return await rE(t,ch,"1"),await sE(t,ch),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>uD(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Oh(o,!1).getAll();return new tu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y0.type="LOCAL";const fD=Y0;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(r,t){return t?Fi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends U0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ya(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function mD(r){return X2(r.auth,new gp(r),r.bypassAuthState)}function pD(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),Y2(n,new gp(r),r.bypassAuthState)}async function gD(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),K2(n,new gp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mD;case"linkViaPopup":case"linkViaRedirect":return gD;case"reauthViaPopup":case"reauthViaRedirect":return pD;default:$i(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new Jl(2e3,1e4);class qa extends X0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yD.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="pendingRedirect",Hc=new Map;class vD extends X0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const s=await ED(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ED(r,t){const n=AD(t),s=SD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TD(r,t){Hc.set(r._key(),t)}function SD(r){return Fi(r._redirectPersistence)}function AD(r){return qc(_D,r.config.apiKey,r.name)}async function bD(r,t,n=!1){if(si(r.app))return Promise.reject(Os(r));const s=dp(r),o=dD(s,t),f=await new vD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=600*1e3;class wD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ID(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!$0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(hi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RD&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(t))}saveEventToCache(t){this.cachedEventUids.add(aE(t)),this.lastProcessedEventTime=Date.now()}}function aE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function $0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function ID(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(r,t={}){return co(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ND=/^https?/;async function OD(r){if(r.config.emulator)return;const{authorizedDomains:t}=await CD(r);for(const n of t)try{if(MD(n))return}catch{}$i(r,"unauthorized-domain")}function MD(r){const t=Sm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!ND.test(n))return!1;if(DD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Jl(3e4,6e4);function oE(){const r=fi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xD(r){return new Promise((t,n)=>{function s(){oE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(hi(r,"network-request-failed"))},timeout:VD.get()})}if(fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(fi().gapi?.load)s();else{const o=B2("iframefcb");return fi()[o]=()=>{gapi.load?s():n(hi(r,"network-request-failed"))},U2(`${z2()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function PD(r){return Fc=Fc||xD(r),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Jl(5e3,15e3),LD="__/auth/iframe",UD="emulator/auth/iframe",zD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jD(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?up(t,UD):`https://${r.config.authDomain}/${LD}`,s={apiKey:t.apiKey,appName:r.name,v:so},o=BD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function qD(r){const t=await PD(r),n=fi().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:jD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),p=fi().setTimeout(()=>{u(f)},kD.get());function y(){fi().clearTimeout(p),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FD=500,GD=600,QD="_blank",KD="http://localhost";class lE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YD(r,t,n,s=FD,o=GD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...HD,width:s.toString(),height:o.toString(),top:u,left:f},g=Ze().toLowerCase();n&&(p=N0(g)?QD:n),C0(g)&&(t=t||KD,y.scrollbars="yes");const E=Object.entries(y).reduce((I,[j,F])=>`${I}${j}=${F},`,"");if(N2(g)&&p!=="_self")return XD(t||"",p),new lE(null);const A=window.open(t||"",p,E);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new lE(A)}function XD(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="__/auth/handler",ZD="emulator/auth/handler",JD=encodeURIComponent("fac");async function uE(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:so,eventId:o};if(t instanceof z0){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",Mb(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Wl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),g=y?`#${JD}=${encodeURIComponent(y)}`:"";return`${WD(r)}?${Ql(p).slice(1)}${g}`}function WD({config:r}){return r.emulator?up(r,ZD):`https://${r.authDomain}/${$D}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F0,this._completeRedirectFn=bD,this._overrideRedirectResult=TD}async _openPopup(t,n,s,o){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await uE(t,n,s,Sm(),o);return YD(t,u,pp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await uE(t,n,s,Sm(),o);return iD(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await qD(t),s=new wD(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Jd,{type:Jd},o=>{const u=o?.[0]?.[Jd];u!==void 0&&n(!!u),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OD(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return P0()||D0()||fp()}}const eN=tN;var cE="@firebase/auth",hE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rN(r){Xa(new Vs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(r)},g=new k2(s,o,u,y);return q2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Xa(new Vs("auth-internal",t=>{const n=dp(t.getProvider("auth").getImmediate());return(s=>new nN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(cE,hE,iN(r)),kr(cE,hE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=300,aN=xE("authIdTokenMaxAge")||sN;let fE=null;const oN=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aN)return;const o=n?.token;fE!==o&&(fE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lN(r=BE()){const t=Vm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=j2(r,{popupRedirectResolver:eN,persistence:[fD,tD,F0]}),s=xE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=oN(u.toString());Z2(n,f,()=>f(n.currentUser)),$2(n,p=>f(p))}}const o=ME("auth");return o&&H2(n,`http://${o}`),n}function uN(){return document.getElementsByTagName("head")?.[0]??document}L2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rN("Browser");const cN={apiKey:"AIzaSyDCZtDHtJbGDHY4Dy2TXTh-Cd9TB6Ouz5M",authDomain:"calculadora-deleite.firebaseapp.com",projectId:"calculadora-deleite",storageBucket:"calculadora-deleite.firebasestorage.app",messagingSenderId:"499021770511",appId:"1:499021770511:web:dd150600ceebee0364587a",measurementId:"G-H1NYDH4PM8"},Z0=zE(cN),yp=KC(Z0);lN(Z0);async function hN(r){const t=o0(yp,r);return(await u2(t)).docs.map(s=>({id:s.id,...s.data()}))}async function fN(r,t){const n=o0(yp,r),s=await h2(n,t);return console.log(`Document written with name: ${t.name}`),s.id}async function dN(r,t){const n=l0(yp,r,t);await c2(n),console.log(`Document with ID ${t} deleted`)}function mN(){const[r,t]=Y.useState([]);Y.useEffect(()=>{(async()=>{const f=(await hN("ingredients")).map(p=>({name:p.name??"",price:p.price??0,quantity:p.quantity??0,unit:p.unit??"",used_in_frame_15:p.used_in_frame_15??0,used_in_frame_25:p.used_in_frame_25??0,used_in_frame_35:p.used_in_frame_35??0}));t(f)})()},[]);async function n(){const o={name:"",price:0,quantity:0,unit:"",used_in_frame_15:0,used_in_frame_25:0,used_in_frame_35:0};await fN("ingredients",o);const u=r.concat(o);t(u)}async function s(){for(const o of r)await dN("ingredients",o.id);t([])}return it.jsxs("div",{children:[it.jsx("h1",{children:"Lista de Ingredientes"}),it.jsx("p",{children:"Aqui você pode ver e adicionar novos ingredientes."}),it.jsx("span",{children:it.jsx("input",{type:"text",placeholder:"Nome do Ingrediente"})}),it.jsx("span",{children:it.jsx("input",{type:"number",placeholder:"Preço"})}),it.jsx("span",{children:it.jsx("input",{type:"number",placeholder:"Quantidade"})}),it.jsx("span",{children:it.jsx("input",{type:"text",placeholder:"Unidade"})}),it.jsx("span",{children:it.jsx("input",{type:"number",placeholder:"Qnt usada no aro 15"})}),it.jsx("span",{children:it.jsx("input",{type:"number",placeholder:"Qnt usada no aro 25"})}),it.jsx("span",{children:it.jsx("input",{type:"number",placeholder:"Qnt usada no aro 35"})}),it.jsx(ja,{label:"Adicionar Ingrediente",onClick:()=>n()}),it.jsx(ja,{label:"Deletar Ingredientes",onClick:()=>s()}),it.jsx("ul",{children:it.jsxs("table",{children:[it.jsx("thead",{children:it.jsxs("tr",{children:[it.jsx("th",{children:"Nome"}),it.jsx("th",{children:"Preço"}),it.jsx("th",{children:"Quantidade"}),it.jsx("th",{children:"Unidade"}),it.jsx("th",{children:"Qnt usada no aro 15"}),it.jsx("th",{children:"Qnt usada no aro 25"}),it.jsx("th",{children:"Qnt usada no aro 35"})]})}),it.jsx("tbody",{children:r.map(o=>it.jsxs("tr",{children:[it.jsx("td",{children:o.name}),it.jsx("td",{children:o.price}),it.jsx("td",{children:o.quantity}),it.jsx("td",{children:o.unit}),it.jsx("td",{children:o.used_in_frame_15}),it.jsx("td",{children:o.used_in_frame_25}),it.jsx("td",{children:o.used_in_frame_35})]},o.id))})]})})]})}function pN(){return it.jsxs("div",{children:[it.jsx("h1",{children:"Lista de Conjuntos"}),it.jsx("p",{children:"Aqui você pode ver e adicionar novos conjuntos de ingredientes."})]})}function gN(){return it.jsxs("div",{children:[it.jsx("h1",{children:"Lista de Bolos"}),it.jsx("p",{children:"Aqui você pode ver e adicionar novos bolos."})]})}function yN(){return it.jsx(Y1,{children:it.jsx(R1,{children:it.jsxs(Pa,{element:it.jsx(sb,{}),children:[it.jsx(Pa,{path:"/",element:it.jsx(ab,{})}),it.jsx(Pa,{path:"/ingredientes",element:it.jsx(mN,{})}),it.jsx(Pa,{path:"/conjuntos",element:it.jsx(pN,{})}),it.jsx(Pa,{path:"/bolos",element:it.jsx(gN,{})})]})})})}OA.createRoot(document.getElementById("root")).render(it.jsx(Y.StrictMode,{children:it.jsx(yN,{})}));
