function qA(i,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in i)){const l=Object.getOwnPropertyDescriptor(a,s);l&&Object.defineProperty(i,s,l.get?l:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function GA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function $A(){if(y0)return Xl;y0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,s,l){var f=null;if(l!==void 0&&(f=""+l),s.key!==void 0&&(f=""+s.key),"key"in s){l={};for(var m in s)m!=="key"&&(l[m]=s[m])}else l=s;return s=l.ref,{$$typeof:i,type:a,key:f,ref:s!==void 0?s:null,props:l}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var _0;function QA(){return _0||(_0=1,Gm.exports=$A()),Gm.exports}var O=QA(),$m={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function YA(){if(E0)return xe;E0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,P={};function A(L,re,le){this.props=L,this.context=re,this.refs=P,this.updater=le||x}A.prototype.isReactComponent={},A.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},A.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function M(){}M.prototype=A.prototype;function Y(L,re,le){this.props=L,this.context=re,this.refs=P,this.updater=le||x}var q=Y.prototype=new M;q.constructor=Y,C(q,A.prototype),q.isPureReactComponent=!0;var ae=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function I(L,re,le,se,me,Re){return le=Re.ref,{$$typeof:i,type:L,key:re,ref:le!==void 0?le:null,props:Re}}function R(L,re){return I(L.type,re,void 0,void 0,void 0,L.props)}function D(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function U(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return re[le]})}var z=/\/+/g;function H(L,re){return typeof L=="object"&&L!==null&&L.key!=null?U(""+L.key):re.toString(36)}function k(){}function at(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function De(L,re,le,se,me){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var ge=!1;if(L===null)ge=!0;else switch(Re){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(L.$$typeof){case i:case e:ge=!0;break;case y:return ge=L._init,De(ge(L._payload),re,le,se,me)}}if(ge)return me=me(L),ge=se===""?"."+H(L,0):se,ae(me)?(le="",ge!=null&&(le=ge.replace(z,"$&/")+"/"),De(me,re,le,"",function(dn){return dn})):me!=null&&(D(me)&&(me=R(me,le+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(z,"$&/")+"/")+ge)),re.push(me)),1;ge=0;var st=se===""?".":se+":";if(ae(L))for(var Le=0;Le<L.length;Le++)se=L[Le],Re=st+H(se,Le),ge+=De(se,re,le,Re,me);else if(Le=T(L),typeof Le=="function")for(L=Le.call(L),Le=0;!(se=L.next()).done;)se=se.value,Re=st+H(se,Le++),ge+=De(se,re,le,Re,me);else if(Re==="object"){if(typeof L.then=="function")return De(at(L),re,le,se,me);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(L,re,le){if(L==null)return L;var se=[],me=0;return De(L,se,"","",function(Re){return re.call(le,Re,me++)}),se}function ue(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Me(){}return xe.Children={map:W,forEach:function(L,re,le){W(L,function(){re.apply(this,arguments)},le)},count:function(L){var re=0;return W(L,function(){re++}),re},toArray:function(L){return W(L,function(re){return re})||[]},only:function(L){if(!D(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},xe.Component=A,xe.Fragment=t,xe.Profiler=s,xe.PureComponent=Y,xe.StrictMode=a,xe.Suspense=d,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return j.H.useMemoCache(L)}},xe.cache=function(L){return function(){return L.apply(null,arguments)}},xe.cloneElement=function(L,re,le){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var se=C({},L.props),me=L.key,Re=void 0;if(re!=null)for(ge in re.ref!==void 0&&(Re=void 0),re.key!==void 0&&(me=""+re.key),re)!te.call(re,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&re.ref===void 0||(se[ge]=re[ge]);var ge=arguments.length-2;if(ge===1)se.children=le;else if(1<ge){for(var st=Array(ge),Le=0;Le<ge;Le++)st[Le]=arguments[Le+2];se.children=st}return I(L.type,me,void 0,void 0,Re,se)},xe.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},xe.createElement=function(L,re,le){var se,me={},Re=null;if(re!=null)for(se in re.key!==void 0&&(Re=""+re.key),re)te.call(re,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=re[se]);var ge=arguments.length-2;if(ge===1)me.children=le;else if(1<ge){for(var st=Array(ge),Le=0;Le<ge;Le++)st[Le]=arguments[Le+2];me.children=st}if(L&&L.defaultProps)for(se in ge=L.defaultProps,ge)me[se]===void 0&&(me[se]=ge[se]);return I(L,Re,void 0,void 0,null,me)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:m,render:L}},xe.isValidElement=D,xe.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ue}},xe.memo=function(L,re){return{$$typeof:g,type:L,compare:re===void 0?null:re}},xe.startTransition=function(L){var re=j.T,le={};j.T=le;try{var se=L(),me=j.S;me!==null&&me(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Me,fe)}catch(Re){fe(Re)}finally{j.T=re}},xe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},xe.use=function(L){return j.H.use(L)},xe.useActionState=function(L,re,le){return j.H.useActionState(L,re,le)},xe.useCallback=function(L,re){return j.H.useCallback(L,re)},xe.useContext=function(L){return j.H.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L,re){return j.H.useDeferredValue(L,re)},xe.useEffect=function(L,re,le){var se=j.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(L,re)},xe.useId=function(){return j.H.useId()},xe.useImperativeHandle=function(L,re,le){return j.H.useImperativeHandle(L,re,le)},xe.useInsertionEffect=function(L,re){return j.H.useInsertionEffect(L,re)},xe.useLayoutEffect=function(L,re){return j.H.useLayoutEffect(L,re)},xe.useMemo=function(L,re){return j.H.useMemo(L,re)},xe.useOptimistic=function(L,re){return j.H.useOptimistic(L,re)},xe.useReducer=function(L,re,le){return j.H.useReducer(L,re,le)},xe.useRef=function(L){return j.H.useRef(L)},xe.useState=function(L){return j.H.useState(L)},xe.useSyncExternalStore=function(L,re,le){return j.H.useSyncExternalStore(L,re,le)},xe.useTransition=function(){return j.H.useTransition()},xe.version="19.1.1",xe}var b0;function tg(){return b0||(b0=1,$m.exports=YA()),$m.exports}var V=tg();const ua=GA(V),S0=qA({__proto__:null,default:ua},[V]);var Qm={exports:{}},Wl={},Ym={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function KA(){return T0||(T0=1,function(i){function e(W,ue){var fe=W.length;W.push(ue);e:for(;0<fe;){var Me=fe-1>>>1,L=W[Me];if(0<s(L,ue))W[Me]=ue,W[fe]=L,fe=Me;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ue=W[0],fe=W.pop();if(fe!==ue){W[0]=fe;e:for(var Me=0,L=W.length,re=L>>>1;Me<re;){var le=2*(Me+1)-1,se=W[le],me=le+1,Re=W[me];if(0>s(se,fe))me<L&&0>s(Re,se)?(W[Me]=Re,W[me]=fe,Me=me):(W[Me]=se,W[le]=fe,Me=le);else if(me<L&&0>s(Re,fe))W[Me]=Re,W[me]=fe,Me=me;else break e}}return ue}function s(W,ue){var fe=W.sortIndex-ue.sortIndex;return fe!==0?fe:W.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var d=[],g=[],y=1,b=null,T=3,x=!1,C=!1,P=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var ue=t(g);ue!==null;){if(ue.callback===null)a(g);else if(ue.startTime<=W)a(g),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=t(g)}}function j(W){if(P=!1,ae(W),!C)if(t(d)!==null)C=!0,te||(te=!0,H());else{var ue=t(g);ue!==null&&De(j,ue.startTime-W)}}var te=!1,I=-1,R=5,D=-1;function U(){return A?!0:!(i.unstable_now()-D<R)}function z(){if(A=!1,te){var W=i.unstable_now();D=W;var ue=!0;try{e:{C=!1,P&&(P=!1,Y(I),I=-1),x=!0;var fe=T;try{t:{for(ae(W),b=t(d);b!==null&&!(b.expirationTime>W&&U());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,T=b.priorityLevel;var L=Me(b.expirationTime<=W);if(W=i.unstable_now(),typeof L=="function"){b.callback=L,ae(W),ue=!0;break t}b===t(d)&&a(d),ae(W)}else a(d);b=t(d)}if(b!==null)ue=!0;else{var re=t(g);re!==null&&De(j,re.startTime-W),ue=!1}}break e}finally{b=null,T=fe,x=!1}ue=void 0}}finally{ue?H():te=!1}}}var H;if(typeof q=="function")H=function(){q(z)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,at=k.port2;k.port1.onmessage=z,H=function(){at.postMessage(null)}}else H=function(){M(z,0)};function De(W,ue){I=M(function(){W(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(W){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var fe=T;T=ue;try{return W()}finally{T=fe}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var fe=T;T=W;try{return ue()}finally{T=fe}},i.unstable_scheduleCallback=function(W,ue,fe){var Me=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Me+fe:Me):fe=Me,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,W={id:y++,callback:ue,priorityLevel:W,startTime:fe,expirationTime:L,sortIndex:-1},fe>Me?(W.sortIndex=fe,e(g,W),t(d)===null&&W===t(g)&&(P?(Y(I),I=-1):P=!0,De(j,fe-Me))):(W.sortIndex=L,e(d,W),C||x||(C=!0,te||(te=!0,H()))),W},i.unstable_shouldYield=U,i.unstable_wrapCallback=function(W){var ue=T;return function(){var fe=T;T=ue;try{return W.apply(this,arguments)}finally{T=fe}}}}(Km)),Km}var w0;function XA(){return w0||(w0=1,Ym.exports=KA()),Ym.exports}var Xm={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function WA(){if(A0)return on;A0=1;var i=tg();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:d,containerInfo:g,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(d,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(d,g,null,y)},on.flushSync=function(d){var g=f.T,y=a.p;try{if(f.T=null,a.p=2,d)return d()}finally{f.T=g,a.p=y,a.d.f()}},on.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(d,g))},on.prefetchDNS=function(d){typeof d=="string"&&a.d.D(d)},on.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:x}):y==="script"&&a.d.X(d,{crossOrigin:b,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);a.d.M(d,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(d)},on.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=m(y,g.crossOrigin);a.d.L(d,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(d,g){if(typeof d=="string")if(g){var y=m(g.as,g.crossOrigin);a.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(d)},on.requestFormReset=function(d){a.d.r(d)},on.unstable_batchedUpdates=function(d,g){return d(g)},on.useFormState=function(d,g,y){return f.H.useFormState(d,g,y)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.1.1",on}var R0;function Ub(){if(R0)return Xm.exports;R0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xm.exports=WA(),Xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function ZA(){if(C0)return Wl;C0=1;var i=XA(),e=tg(),t=Ub();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(a(188))}function d(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(a(188));return r!==n?null:n}for(var o=n,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return m(h),n;if(p===u)return m(h),r;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=h,u=p;else{for(var E=!1,S=h.child;S;){if(S===o){E=!0,o=h,u=p;break}if(S===u){E=!0,u=h,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,u=h;break}if(S===u){E=!0,u=p,o=h;break}S=S.sibling}if(!E)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(n){return n===null||typeof n!="object"?null:(n=z&&n[z]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function at(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case A:return"Profiler";case P:return"StrictMode";case j:return"Suspense";case te:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case q:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case ae:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return r=n.displayName||null,r!==null?r:at(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return at(n(r))}catch{}}return null}var De=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Me=[],L=-1;function re(n){return{current:n}}function le(n){0>L||(n.current=Me[L],Me[L]=null,L--)}function se(n,r){L++,Me[L]=n.current,n.current=r}var me=re(null),Re=re(null),ge=re(null),st=re(null);function Le(n,r){switch(se(ge,r),se(Re,n),se(me,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?$_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=$_(r),n=Q_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(me),se(me,n)}function dn(){le(me),le(Re),le(ge)}function li(n){n.memoizedState!==null&&se(st,n);var r=me.current,o=Q_(r,n.type);r!==o&&(se(Re,n),se(me,o))}function Nn(n){Re.current===n&&(le(me),le(Re)),st.current===n&&(le(st),Gl._currentValue=fe)}var ui=Object.prototype.hasOwnProperty,Hi=i.unstable_scheduleCallback,ci=i.unstable_cancelCallback,Sa=i.unstable_shouldYield,Uu=i.unstable_requestPaint,Vn=i.unstable_now,Gh=i.unstable_getCurrentPriorityLevel,Fo=i.unstable_ImmediatePriority,Es=i.unstable_UserBlockingPriority,Ta=i.unstable_NormalPriority,$h=i.unstable_LowPriority,bs=i.unstable_IdlePriority,qo=i.log,ju=i.unstable_setDisableYieldValue,yt=null,Ze=null;function wn(n){if(typeof qo=="function"&&ju(n),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(yt,n)}catch{}}var an=Math.clz32?Math.clz32:wa,zu=Math.log,Qh=Math.LN2;function wa(n){return n>>>=0,n===0?32:31-(zu(n)/Qh|0)|0}var Aa=256,Ra=4194304;function Xn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ss(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var h=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?h=Xn(u):(E&=S,E!==0?h=Xn(E):o||(o=S&~n,o!==0&&(h=Xn(o))))):(S=u&~p,S!==0?h=Xn(S):E!==0?h=Xn(E):o||(o=u&~n,o!==0&&(h=Xn(o)))),h===0?0:r!==0&&r!==h&&(r&p)===0&&(p=h&-h,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:h}function Ca(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Go(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var n=Aa;return Aa<<=1,(Aa&4194048)===0&&(Aa=256),n}function Qo(){var n=Ra;return Ra<<=1,(Ra&62914560)===0&&(Ra=4194304),n}function Fi(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function qi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yo(n,r,o,u,h,p){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,Q=n.hiddenUpdates;for(o=E&~o;0<o;){var J=31-an(o),ne=1<<J;S[J]=0,N[J]=-1;var K=Q[J];if(K!==null)for(Q[J]=null,J=0;J<K.length;J++){var X=K[J];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&fi(n,u,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~r))}function fi(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-an(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Ko(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-an(o),h=1<<u;h&r|n[u]&r&&(n[u]|=r),o&=~h}}function Or(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ts(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dr(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:h0(n.type))}function Bu(n,r){var o=ue.p;try{return ue.p=n,r()}finally{ue.p=o}}var dt=Math.random().toString(36).slice(2),Pt="__reactFiber$"+dt,Rt="__reactProps$"+dt,kn="__reactContainer$"+dt,Xo="__reactEvents$"+dt,Yh="__reactListeners$"+dt,xr="__reactHandles$"+dt,Hu="__reactResources$"+dt,Ia="__reactMarker$"+dt;function Mr(n){delete n[Pt],delete n[Rt],delete n[Xo],delete n[Yh],delete n[xr]}function Gi(n){var r=n[Pt];if(r)return r;for(var o=n.parentNode;o;){if(r=o[kn]||o[Pt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=W_(n);n!==null;){if(o=n[Pt])return o;n=W_(n)}return r}n=o,o=n.parentNode}return null}function hi(n){if(n=n[Pt]||n[kn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function di(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function mn(n){var r=n[Hu];return r||(r=n[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(n){n[Ia]=!0}var Wo=new Set,ws={};function Wn(n,r){$i(n,r),$i(n+"Capture",r)}function $i(n,r){for(ws[n]=r,n=0;n<r.length;n++)Wo.add(r[n])}var Fu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},Oa={};function Gu(n){return ui.call(Oa,n)?!0:ui.call(qu,n)?!1:Fu.test(n)?Oa[n]=!0:(qu[n]=!0,!1)}function Pr(n,r,o){if(Gu(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function mi(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Kt(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}var Da,$u;function Qi(n){if(Da===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Da=r&&r[1]||"",$u=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+n+$u}var As=!1;function Rs(n,r){if(!n||As)return"";As=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var K=X}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(X){K=X}n.call(ne.prototype)}}else{try{throw Error()}catch(X){K=X}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var N=E.split(`
`),Q=S.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===Q.length)for(u=N.length-1,h=Q.length-1;1<=u&&0<=h&&N[u]!==Q[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==Q[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==Q[h]){var J=`
`+N[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=h);break}}}finally{As=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Qi(o):""}function Zo(n){switch(n.tag){case 26:case 27:case 5:return Qi(n.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Rs(n.type,!1);case 11:return Rs(n.type.render,!1);case 1:return Rs(n.type,!0);case 31:return Qi("Activity");default:return""}}function Cs(n){try{var r="";do r+=Zo(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Kh(n){var r=Jo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Is(n){n._valueTracker||(n._valueTracker=Kh(n))}function el(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Jo(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function xa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Xh=/[\n"\\]/g;function Ct(n){return n.replace(Xh,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function An(n,r,o,u,h,p,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+pn(r)):n.value!==""+pn(r)&&(n.value=""+pn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Nr(n,E,pn(r)):o!=null?Nr(n,E,pn(o)):u!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+pn(S):n.removeAttribute("name")}function Ma(n,r,o,u,h,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;o=o!=null?""+pn(o):"",r=r!=null?""+pn(r):o,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Nr(n,r,o){r==="number"&&xa(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Yi(n,r,o,u){if(n=n.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=r.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&u&&(n[o].defaultSelected=!0)}else{for(o=""+pn(o),r=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function tt(n,r,o){if(r!=null&&(r=""+pn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+pn(o):""}function Pa(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(a(92));if(De(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=pn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Ln(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||Na.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function tl(n,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&o[h]!==u&&Qu(n,h,u)}else for(var p in r)r.hasOwnProperty(p)&&Qu(n,p,r[p])}function nl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Os(n){return Zh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ki=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xi=null,Wi=null;function il(n){var r=hi(n);if(r&&(n=r.stateNode)){var o=n[Rt]||null;e:switch(n=r.stateNode,r.type){case"input":if(An(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ct(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var h=u[Rt]||null;if(!h)throw Error(a(90));An(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&el(u)}break e;case"textarea":tt(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Yi(n,!!o.multiple,r,!1)}}}var pi=!1;function Yu(n,r,o){if(pi)return n(r,o);pi=!0;try{var u=n(r);return u}finally{if(pi=!1,(Xi!==null||Wi!==null)&&(Bc(),Xi&&(r=Xi,n=Wi,Wi=Xi=null,il(r),n)))for(r=0;r<n.length;r++)il(n[r])}}function Va(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(Zn)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){jn=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{jn=!1}var gi=null,Vr=null,Zi=null;function rl(){if(Zi)return Zi;var n,r=Vr,o=r.length,u,h="value"in gi?gi.value:gi.textContent,p=h.length;for(n=0;n<o&&r[n]===h[n];n++);var E=o-n;for(u=1;u<=E&&r[o-u]===h[p-u];u++);return Zi=h.slice(n,1<u?1-u:void 0)}function vi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function yi(){return!0}function al(){return!1}function zt(n){function r(o,u,h,p,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?yi:al,this.isPropagationStopped=al,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),r}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=zt(Ke),La=y({},Ke,{view:0,detail:0}),Ku=zt(La),xs,Ms,_i,Ua=y({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_i&&(_i&&n.type==="mousemove"?(xs=n.screenX-_i.screenX,Ms=n.screenY-_i.screenY):Ms=xs=0,_i=n),xs)},movementY:function(n){return"movementY"in n?n.movementY:Ms}}),zn=zt(Ua),Xu=y({},Ua,{dataTransfer:0}),Jh=zt(Xu),ja=y({},La,{relatedTarget:0}),Ps=zt(ja),sl=y({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ns=zt(sl),Wu=y({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vs=zt(Wu),ed=y({},Ke,{data:0}),ol=zt(ed),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ju[n])?!!r[n]:!1}function Ba(){return ll}var ec=y({},La,{key:function(n){if(n.key){var r=za[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=vi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(n){return n.type==="keypress"?vi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ks=zt(ec),tc=y({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=zt(tc),Ji=y({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),nc=zt(Ji),ic=y({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),rc=zt(ic),ac=y({},Ua,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ls=zt(ac),gn=y({},Ke,{newState:0,oldState:0}),sc=zt(gn),oc=[9,13,27,32],Ei=Zn&&"CompositionEvent"in window,c=null;Zn&&"documentMode"in document&&(c=document.documentMode);var v=Zn&&"TextEvent"in window&&!c,_=Zn&&(!Ei||c&&8<c&&11>=c),w=" ",G=!1;function Z(n,r){switch(n){case"keyup":return oc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Be=!1;function Nt(n,r){switch(n){case"compositionend":return ce(r);case"keypress":return r.which!==32?null:(G=!0,w);case"textInput":return n=r.data,n===w&&G?null:n;default:return null}}function He(n,r){if(Be)return n==="compositionend"||!Ei&&Z(n,r)?(n=rl(),Zi=Vr=gi=null,Be=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Bt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Bt[n.type]:r==="textarea"}function er(n,r,o,u){Xi?Wi?Wi.push(u):Wi=[u]:Xi=u,r=Qc(r,"onChange"),0<r.length&&(o=new Ds("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Xt=null,bi=null;function cl(n){B_(n,0)}function lc(n){var r=di(n);if(el(r))return n}function lv(n,r){if(n==="change")return r}var uv=!1;if(Zn){var td;if(Zn){var nd="oninput"in document;if(!nd){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),nd=typeof cv.oninput=="function"}td=nd}else td=!1;uv=td&&(!document.documentMode||9<document.documentMode)}function fv(){Xt&&(Xt.detachEvent("onpropertychange",hv),bi=Xt=null)}function hv(n){if(n.propertyName==="value"&&lc(bi)){var r=[];er(r,bi,n,Un(n)),Yu(cl,r)}}function Ew(n,r,o){n==="focusin"?(fv(),Xt=r,bi=o,Xt.attachEvent("onpropertychange",hv)):n==="focusout"&&fv()}function bw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lc(bi)}function Sw(n,r){if(n==="click")return lc(r)}function Tw(n,r){if(n==="input"||n==="change")return lc(r)}function ww(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:ww;function fl(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!ui.call(r,h)||!Rn(n[h],r[h]))return!1}return!0}function dv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mv(n,r){var o=dv(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dv(o)}}function pv(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?pv(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function gv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=xa(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=xa(n.document)}return r}function id(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Aw=Zn&&"documentMode"in document&&11>=document.documentMode,Us=null,rd=null,hl=null,ad=!1;function vv(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ad||Us==null||Us!==xa(u)||(u=Us,"selectionStart"in u&&id(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hl&&fl(hl,u)||(hl=u,u=Qc(rd,"onSelect"),0<u.length&&(r=new Ds("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Us)))}function Ha(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var js={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},sd={},yv={};Zn&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Fa(n){if(sd[n])return sd[n];if(!js[n])return n;var r=js[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in yv)return sd[n]=r[o];return n}var _v=Fa("animationend"),Ev=Fa("animationiteration"),bv=Fa("animationstart"),Rw=Fa("transitionrun"),Cw=Fa("transitionstart"),Iw=Fa("transitioncancel"),Sv=Fa("transitionend"),Tv=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function Jn(n,r){Tv.set(n,r),Wn(r,[n])}var wv=new WeakMap;function Bn(n,r){if(typeof n=="object"&&n!==null){var o=wv.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Cs(r)},wv.set(n,r),r)}return{value:n,source:r,stack:Cs(r)}}var Hn=[],zs=0,ld=0;function uc(){for(var n=zs,r=ld=zs=0;r<n;){var o=Hn[r];Hn[r++]=null;var u=Hn[r];Hn[r++]=null;var h=Hn[r];Hn[r++]=null;var p=Hn[r];if(Hn[r++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&Av(o,h,p)}}function cc(n,r,o,u){Hn[zs++]=n,Hn[zs++]=r,Hn[zs++]=o,Hn[zs++]=u,ld|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ud(n,r,o,u){return cc(n,r,o,u),fc(n)}function Bs(n,r){return cc(n,null,null,r),fc(n)}function Av(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&r!==null&&(h=31-an(o),n=p.hiddenUpdates,u=n[h],u===null?n[h]=[r]:u.push(r),r.lane=o|536870912),p):null}function fc(n){if(50<Ll)throw Ll=0,pm=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Hs={};function Ow(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,r,o,u){return new Ow(n,r,o,u)}function cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function tr(n,r){var o=n.alternate;return o===null?(o=Cn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Rv(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function hc(n,r,o,u,h,p){var E=0;if(u=n,typeof n=="function")cd(n)&&(E=1);else if(typeof n=="string")E=xA(n,o,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=Cn(31,o,r,h),n.elementType=D,n.lanes=p,n;case C:return qa(o.children,h,p,r);case P:E=8,h|=24;break;case A:return n=Cn(12,o,r,h|2),n.elementType=A,n.lanes=p,n;case j:return n=Cn(13,o,r,h),n.elementType=j,n.lanes=p,n;case te:return n=Cn(19,o,r,h),n.elementType=te,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case M:case q:E=10;break e;case Y:E=9;break e;case ae:E=11;break e;case I:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return r=Cn(E,o,r,h),r.elementType=n,r.type=u,r.lanes=p,r}function qa(n,r,o,u){return n=Cn(7,n,u,r),n.lanes=o,n}function fd(n,r,o){return n=Cn(6,n,null,r),n.lanes=o,n}function hd(n,r,o){return r=Cn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Fs=[],qs=0,dc=null,mc=0,Fn=[],qn=0,Ga=null,nr=1,ir="";function $a(n,r){Fs[qs++]=mc,Fs[qs++]=dc,dc=n,mc=r}function Cv(n,r,o){Fn[qn++]=nr,Fn[qn++]=ir,Fn[qn++]=Ga,Ga=n;var u=nr;n=ir;var h=32-an(u)-1;u&=~(1<<h),o+=1;var p=32-an(r)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,nr=1<<32-an(r)+h|o<<h|u,ir=p+n}else nr=1<<p|o<<h|u,ir=n}function dd(n){n.return!==null&&($a(n,1),Cv(n,1,0))}function md(n){for(;n===dc;)dc=Fs[--qs],Fs[qs]=null,mc=Fs[--qs],Fs[qs]=null;for(;n===Ga;)Ga=Fn[--qn],Fn[qn]=null,ir=Fn[--qn],Fn[qn]=null,nr=Fn[--qn],Fn[qn]=null}var vn=null,_t=null,$e=!1,Qa=null,Si=!1,pd=Error(a(519));function Ya(n){var r=Error(a(418,""));throw pl(Bn(r,n)),pd}function Iv(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[Pt]=n,r[Rt]=u,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<jl.length;o++)ke(jl[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Ma(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Is(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Pa(r,u.value,u.defaultValue,u.children),Is(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||G_(r.textContent,o)?(u.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),u.onScroll!=null&&ke("scroll",r),u.onScrollEnd!=null&&ke("scrollend",r),u.onClick!=null&&(r.onclick=Yc),r=!0):r=!1,r||Ya(n)}function Ov(n){for(vn=n.return;vn;)switch(vn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:vn=vn.return}}function dl(n){if(n!==vn)return!1;if(!$e)return Ov(n),$e=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||xm(n.type,n.memoizedProps)),o=!o),o&&_t&&Ya(n),Ov(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){_t=ti(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}_t=null}}else r===27?(r=_t,Wr(n.type)?(n=Vm,Vm=null,_t=n):_t=r):_t=vn?ti(n.stateNode.nextSibling):null;return!0}function ml(){_t=vn=null,$e=!1}function Dv(){var n=Qa;return n!==null&&(En===null?En=n:En.push.apply(En,n),Qa=null),n}function pl(n){Qa===null?Qa=[n]:Qa.push(n)}var gd=re(null),Ka=null,rr=null;function kr(n,r,o){se(gd,r._currentValue),r._currentValue=o}function ar(n){n._currentValue=gd.current,le(gd)}function vd(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function yd(n,r,o,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=h;for(var N=0;N<r.length;N++)if(S.context===r[N]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),vd(p.return,o,n),u||(E=null);break e}p=S.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),vd(E,o,n),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===n){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function gl(n,r,o,u){n=null;for(var h=r,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var S=h.type;Rn(h.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(h===st.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}h=h.return}n!==null&&yd(r,n,o,u),r.flags|=262144}function pc(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xa(n){Ka=n,rr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return xv(Ka,n)}function gc(n,r){return Ka===null&&Xa(n),xv(n,r)}function xv(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},rr===null){if(n===null)throw Error(a(308));rr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else rr=rr.next=r;return o}var Dw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},xw=i.unstable_scheduleCallback,Mw=i.unstable_NormalPriority,kt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new Dw,data:new Map,refCount:0}}function vl(n){n.refCount--,n.refCount===0&&xw(Mw,function(){n.controller.abort()})}var yl=null,Ed=0,Gs=0,$s=null;function Pw(n,r){if(yl===null){var o=yl=[];Ed=0,Gs=Sm(),$s={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ed++,r.then(Mv,Mv),r}function Mv(){if(--Ed===0&&yl!==null){$s!==null&&($s.status="fulfilled");var n=yl;yl=null,Gs=0,$s=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Nw(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<o.length;h++)(0,o[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Pv=W.S;W.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Pw(n,r),Pv!==null&&Pv(n,r)};var Wa=re(null);function bd(){var n=Wa.current;return n!==null?n:ut.pooledCache}function vc(n,r){r===null?se(Wa,Wa.current):se(Wa,r.pool)}function Nv(){var n=bd();return n===null?null:{parent:kt._currentValue,pool:n}}var _l=Error(a(460)),Vv=Error(a(474)),yc=Error(a(542)),Sd={then:function(){}};function kv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function _c(){}function Lv(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(_c,_c),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,jv(n),n;default:if(typeof r.status=="string")r.then(_c,_c);else{if(n=ut,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,jv(n),n}throw El=r,_l}}var El=null;function Uv(){if(El===null)throw Error(a(459));var n=El;return El=null,n}function jv(n){if(n===_l||n===yc)throw Error(a(483))}var Lr=!1;function Td(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ur(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function jr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=fc(n),Av(n,null,o),r}return cc(n,u,r,o),fc(n)}function bl(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Ko(n,o)}}function Ad(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var Rd=!1;function Sl(){if(Rd){var n=$s;if(n!==null)throw n}}function Tl(n,r,o,u){Rd=!1;var h=n.updateQueue;Lr=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,Q=N.next;N.next=null,E===null?p=Q:E.next=Q,E=N;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=Q:S.next=Q,J.lastBaseUpdate=N))}if(p!==null){var ne=h.baseState;E=0,J=Q=N=null,S=p;do{var K=S.lane&-536870913,X=K!==S.lane;if(X?(Fe&K)===K:(u&K)===K){K!==0&&K===Gs&&(Rd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=n,be=S;K=r;var rt=o;switch(be.tag){case 1:if(Ae=be.payload,typeof Ae=="function"){ne=Ae.call(rt,ne,K);break e}ne=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=be.payload,K=typeof Ae=="function"?Ae.call(rt,ne,K):Ae,K==null)break e;ne=y({},ne,K);break e;case 2:Lr=!0}}K=S.callback,K!==null&&(n.flags|=64,X&&(n.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Q=J=X,N=ne):J=J.next=X,E|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;X=S,S=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);J===null&&(N=ne),h.baseState=N,h.firstBaseUpdate=Q,h.lastBaseUpdate=J,p===null&&(h.shared.lanes=0),Qr|=E,n.lanes=E,n.memoizedState=ne}}function zv(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function Bv(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)zv(o[n],r)}var Qs=re(null),Ec=re(0);function Hv(n,r){n=hr,se(Ec,n),se(Qs,r),hr=n|r.baseLanes}function Cd(){se(Ec,hr),se(Qs,Qs.current)}function Id(){hr=Ec.current,le(Qs),le(Ec)}var zr=0,Pe=null,nt=null,It=null,bc=!1,Ys=!1,Za=!1,Sc=0,wl=0,Ks=null,Vw=0;function Tt(){throw Error(a(321))}function Od(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Rn(n[o],r[o]))return!1;return!0}function Dd(n,r,o,u,h,p){return zr=p,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?Ay:Ry,Za=!1,p=o(u,h),Za=!1,Ys&&(p=qv(r,o,u,h)),Fv(n),p}function Fv(n){W.H=Ic;var r=nt!==null&&nt.next!==null;if(zr=0,It=nt=Pe=null,bc=!1,wl=0,Ks=null,r)throw Error(a(300));n===null||Ht||(n=n.dependencies,n!==null&&pc(n)&&(Ht=!0))}function qv(n,r,o,u){Pe=n;var h=0;do{if(Ys&&(Ks=null),wl=0,Ys=!1,25<=h)throw Error(a(301));if(h+=1,It=nt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=Hw,p=r(o,u)}while(Ys);return p}function kw(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?Al(r):r,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Pe.flags|=1024),r}function xd(){var n=Sc!==0;return Sc=0,n}function Md(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function Pd(n){if(bc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}bc=!1}zr=0,It=nt=Pe=null,Ys=!1,wl=Sc=0,Ks=null}function yn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Pe.memoizedState=It=n:It=It.next=n,It}function Ot(){if(nt===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var r=It===null?Pe.memoizedState:It.next;if(r!==null)It=r,nt=n;else{if(n===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?Pe.memoizedState=It=n:It=It.next=n}return It}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(n){var r=wl;return wl+=1,Ks===null&&(Ks=[]),n=Lv(Ks,n,r),r=Pe,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Ay:Ry),n}function Tc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===q)return sn(n)}throw Error(a(438,String(n)))}function Vd(n){var r=null,o=Pe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Nd(),Pe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=U;return r.index++,o}function sr(n,r){return typeof r=="function"?r(n):r}function wc(n){var r=Ot();return kd(r,nt,n)}function kd(n,r,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var h=n.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}r.baseQueue=h=p,u.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{r=h.next;var S=E=null,N=null,Q=r,J=!1;do{var ne=Q.lane&-536870913;if(ne!==Q.lane?(Fe&ne)===ne:(zr&ne)===ne){var K=Q.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ne===Gs&&(J=!0);else if((zr&K)===K){Q=Q.next,K===Gs&&(J=!0);continue}else ne={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(S=N=ne,E=p):N=N.next=ne,Pe.lanes|=K,Qr|=K;ne=Q.action,Za&&o(p,ne),p=Q.hasEagerState?Q.eagerState:o(p,ne)}else K={lane:ne,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(S=N=K,E=p):N=N.next=K,Pe.lanes|=ne,Qr|=ne;Q=Q.next}while(Q!==null&&Q!==r);if(N===null?E=p:N.next=S,!Rn(p,n.memoizedState)&&(Ht=!0,J&&(o=$s,o!==null)))throw o;n.memoizedState=p,n.baseState=E,n.baseQueue=N,u.lastRenderedState=p}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Ld(n){var r=Ot(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=n(p,E.action),E=E.next;while(E!==h);Rn(p,r.memoizedState)||(Ht=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Gv(n,r,o){var u=Pe,h=Ot(),p=$e;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=r();var E=!Rn((nt||h).memoizedState,o);E&&(h.memoizedState=o,Ht=!0),h=h.queue;var S=Yv.bind(null,u,h,n);if(Rl(2048,8,S,[n]),h.getSnapshot!==r||E||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,Xs(9,Ac(),Qv.bind(null,u,h,o,r),null),ut===null)throw Error(a(349));p||(zr&124)!==0||$v(u,r,o)}return o}function $v(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r=Nd(),Pe.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function Qv(n,r,o,u){r.value=o,r.getSnapshot=u,Kv(r)&&Xv(n)}function Yv(n,r,o){return o(function(){Kv(r)&&Xv(n)})}function Kv(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Rn(n,o)}catch{return!0}}function Xv(n){var r=Bs(n,2);r!==null&&Mn(r,n,2)}function Ud(n){var r=yn();if(typeof n=="function"){var o=n;if(n=o(),Za){wn(!0);try{o()}finally{wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},r}function Wv(n,r,o,u){return n.baseState=o,kd(n,nt,typeof u=="function"?u:sr)}function Lw(n,r,o,u,h){if(Cc(n))throw Error(a(485));if(n=r.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};W.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,Zv(r,p)):(p.next=o.next,r.pending=o.next=p)}}function Zv(n,r){var o=r.action,u=r.payload,h=n.state;if(r.isTransition){var p=W.T,E={};W.T=E;try{var S=o(h,u),N=W.S;N!==null&&N(E,S),Jv(n,r,S)}catch(Q){jd(n,r,Q)}finally{W.T=p}}else try{p=o(h,u),Jv(n,r,p)}catch(Q){jd(n,r,Q)}}function Jv(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ey(n,r,u)},function(u){return jd(n,r,u)}):ey(n,r,o)}function ey(n,r,o){r.status="fulfilled",r.value=o,ty(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Zv(n,o)))}function jd(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,ty(r),r=r.next;while(r!==u)}n.action=null}function ty(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function ny(n,r){return r}function iy(n,r){if($e){var o=ut.formState;if(o!==null){e:{var u=Pe;if($e){if(_t){t:{for(var h=_t,p=Si;h.nodeType!==8;){if(!p){h=null;break t}if(h=ti(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){_t=ti(h.nextSibling),u=h.data==="F!";break e}}Ya(u)}u=!1}u&&(r=o[0])}}return o=yn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:r},o.queue=u,o=Sy.bind(null,Pe,u),u.dispatch=o,u=Ud(!1),p=qd.bind(null,Pe,!1,u.queue),u=yn(),h={state:r,dispatch:null,action:n,pending:null},u.queue=h,o=Lw.bind(null,Pe,h,p,o),h.dispatch=o,u.memoizedState=n,[r,o,!1]}function ry(n){var r=Ot();return ay(r,nt,n)}function ay(n,r,o){if(r=kd(n,r,ny)[0],n=wc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Al(r)}catch(E){throw E===_l?yc:E}else u=r;r=Ot();var h=r.queue,p=h.dispatch;return o!==r.memoizedState&&(Pe.flags|=2048,Xs(9,Ac(),Uw.bind(null,h,o),null)),[u,p,n]}function Uw(n,r){n.action=r}function sy(n){var r=Ot(),o=nt;if(o!==null)return ay(r,o,n);Ot(),r=r.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function Xs(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Nd(),Pe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function Ac(){return{destroy:void 0,resource:void 0}}function oy(){return Ot().memoizedState}function Rc(n,r,o,u){var h=yn();u=u===void 0?null:u,Pe.flags|=n,h.memoizedState=Xs(1|r,Ac(),o,u)}function Rl(n,r,o,u){var h=Ot();u=u===void 0?null:u;var p=h.memoizedState.inst;nt!==null&&u!==null&&Od(u,nt.memoizedState.deps)?h.memoizedState=Xs(r,p,o,u):(Pe.flags|=n,h.memoizedState=Xs(1|r,p,o,u))}function ly(n,r){Rc(8390656,8,n,r)}function uy(n,r){Rl(2048,8,n,r)}function cy(n,r){return Rl(4,2,n,r)}function fy(n,r){return Rl(4,4,n,r)}function hy(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function dy(n,r,o){o=o!=null?o.concat([n]):null,Rl(4,4,hy.bind(null,r,n),o)}function zd(){}function my(n,r){var o=Ot();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Od(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function py(n,r){var o=Ot();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Od(r,u[1]))return u[0];if(u=n(),Za){wn(!0);try{n()}finally{wn(!1)}}return o.memoizedState=[u,r],u}function Bd(n,r,o){return o===void 0||(zr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=y_(),Pe.lanes|=n,Qr|=n,o)}function gy(n,r,o,u){return Rn(o,r)?o:Qs.current!==null?(n=Bd(n,o,u),Rn(n,r)||(Ht=!0),n):(zr&42)===0?(Ht=!0,n.memoizedState=o):(n=y_(),Pe.lanes|=n,Qr|=n,r)}function vy(n,r,o,u,h){var p=ue.p;ue.p=p!==0&&8>p?p:8;var E=W.T,S={};W.T=S,qd(n,!1,r,o);try{var N=h(),Q=W.S;if(Q!==null&&Q(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=Nw(N,u);Cl(n,r,J,xn(n))}else Cl(n,r,u,xn(n))}catch(ne){Cl(n,r,{then:function(){},status:"rejected",reason:ne},xn())}finally{ue.p=p,W.T=E}}function jw(){}function Hd(n,r,o,u){if(n.tag!==5)throw Error(a(476));var h=yy(n).queue;vy(n,h,r,fe,o===null?jw:function(){return _y(n),o(u)})}function yy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function _y(n){var r=yy(n).next.queue;Cl(n,r,{},xn())}function Fd(){return sn(Gl)}function Ey(){return Ot().memoizedState}function by(){return Ot().memoizedState}function zw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=xn();n=Ur(o);var u=jr(r,n,o);u!==null&&(Mn(u,r,o),bl(u,r,o)),r={cache:_d()},n.payload=r;return}r=r.return}}function Bw(n,r,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Cc(n)?Ty(r,o):(o=ud(n,r,o,u),o!==null&&(Mn(o,n,u),wy(o,r,u)))}function Sy(n,r,o){var u=xn();Cl(n,r,o,u)}function Cl(n,r,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Cc(n))Ty(r,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var E=r.lastRenderedState,S=p(E,o);if(h.hasEagerState=!0,h.eagerState=S,Rn(S,E))return cc(n,r,h,0),ut===null&&uc(),!1}catch{}finally{}if(o=ud(n,r,h,u),o!==null)return Mn(o,n,u),wy(o,r,u),!0}return!1}function qd(n,r,o,u){if(u={lane:2,revertLane:Sm(),action:u,hasEagerState:!1,eagerState:null,next:null},Cc(n)){if(r)throw Error(a(479))}else r=ud(n,o,u,2),r!==null&&Mn(r,n,2)}function Cc(n){var r=n.alternate;return n===Pe||r!==null&&r===Pe}function Ty(n,r){Ys=bc=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function wy(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Ko(n,o)}}var Ic={readContext:sn,use:Tc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Ay={readContext:sn,use:Tc,useCallback:function(n,r){return yn().memoizedState=[n,r===void 0?null:r],n},useContext:sn,useEffect:ly,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Rc(4194308,4,hy.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Rc(4194308,4,n,r)},useInsertionEffect:function(n,r){Rc(4,2,n,r)},useMemo:function(n,r){var o=yn();r=r===void 0?null:r;var u=n();if(Za){wn(!0);try{n()}finally{wn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=yn();if(o!==void 0){var h=o(r);if(Za){wn(!0);try{o(r)}finally{wn(!1)}}}else h=r;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=Bw.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var r=yn();return n={current:n},r.memoizedState=n},useState:function(n){n=Ud(n);var r=n.queue,o=Sy.bind(null,Pe,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:zd,useDeferredValue:function(n,r){var o=yn();return Bd(o,n,r)},useTransition:function(){var n=Ud(!1);return n=vy.bind(null,Pe,n.queue,!0,!1),yn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Pe,h=yn();if($e){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),ut===null)throw Error(a(349));(Fe&124)!==0||$v(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,ly(Yv.bind(null,u,p,n),[n]),u.flags|=2048,Xs(9,Ac(),Qv.bind(null,u,p,o,r),null),o},useId:function(){var n=yn(),r=ut.identifierPrefix;if($e){var o=ir,u=nr;o=(u&~(1<<32-an(u)-1)).toString(32)+o,r=""+r+"R"+o,o=Sc++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=Vw++,r=""+r+"r"+o.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Fd,useFormState:iy,useActionState:iy,useOptimistic:function(n){var r=yn();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=qd.bind(null,Pe,!0,o),o.dispatch=r,[n,r]},useMemoCache:Vd,useCacheRefresh:function(){return yn().memoizedState=zw.bind(null,Pe)}},Ry={readContext:sn,use:Tc,useCallback:my,useContext:sn,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:py,useReducer:wc,useRef:oy,useState:function(){return wc(sr)},useDebugValue:zd,useDeferredValue:function(n,r){var o=Ot();return gy(o,nt.memoizedState,n,r)},useTransition:function(){var n=wc(sr)[0],r=Ot().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:Gv,useId:Ey,useHostTransitionStatus:Fd,useFormState:ry,useActionState:ry,useOptimistic:function(n,r){var o=Ot();return Wv(o,nt,n,r)},useMemoCache:Vd,useCacheRefresh:by},Hw={readContext:sn,use:Tc,useCallback:my,useContext:sn,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:fy,useMemo:py,useReducer:Ld,useRef:oy,useState:function(){return Ld(sr)},useDebugValue:zd,useDeferredValue:function(n,r){var o=Ot();return nt===null?Bd(o,n,r):gy(o,nt.memoizedState,n,r)},useTransition:function(){var n=Ld(sr)[0],r=Ot().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:Gv,useId:Ey,useHostTransitionStatus:Fd,useFormState:sy,useActionState:sy,useOptimistic:function(n,r){var o=Ot();return nt!==null?Wv(o,nt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:by},Ws=null,Il=0;function Oc(n){var r=Il;return Il+=1,Ws===null&&(Ws=[]),Lv(Ws,n,r)}function Ol(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Dc(n,r){throw r.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Cy(n){var r=n._init;return r(n._payload)}function Iy(n){function r(F,B){if(n){var $=F.deletions;$===null?(F.deletions=[B],F.flags|=16):$.push(B)}}function o(F,B){if(!n)return null;for(;B!==null;)r(F,B),B=B.sibling;return null}function u(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function h(F,B){return F=tr(F,B),F.index=0,F.sibling=null,F}function p(F,B,$){return F.index=$,n?($=F.alternate,$!==null?($=$.index,$<B?(F.flags|=67108866,B):$):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function E(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function S(F,B,$,ee){return B===null||B.tag!==6?(B=fd($,F.mode,ee),B.return=F,B):(B=h(B,$),B.return=F,B)}function N(F,B,$,ee){var de=$.type;return de===C?J(F,B,$.props.children,ee,$.key):B!==null&&(B.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Cy(de)===B.type)?(B=h(B,$.props),Ol(B,$),B.return=F,B):(B=hc($.type,$.key,$.props,null,F.mode,ee),Ol(B,$),B.return=F,B)}function Q(F,B,$,ee){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=hd($,F.mode,ee),B.return=F,B):(B=h(B,$.children||[]),B.return=F,B)}function J(F,B,$,ee,de){return B===null||B.tag!==7?(B=qa($,F.mode,ee,de),B.return=F,B):(B=h(B,$),B.return=F,B)}function ne(F,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=fd(""+B,F.mode,$),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return $=hc(B.type,B.key,B.props,null,F.mode,$),Ol($,B),$.return=F,$;case x:return B=hd(B,F.mode,$),B.return=F,B;case R:var ee=B._init;return B=ee(B._payload),ne(F,B,$)}if(De(B)||H(B))return B=qa(B,F.mode,$,null),B.return=F,B;if(typeof B.then=="function")return ne(F,Oc(B),$);if(B.$$typeof===q)return ne(F,gc(F,B),$);Dc(F,B)}return null}function K(F,B,$,ee){var de=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return de!==null?null:S(F,B,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===de?N(F,B,$,ee):null;case x:return $.key===de?Q(F,B,$,ee):null;case R:return de=$._init,$=de($._payload),K(F,B,$,ee)}if(De($)||H($))return de!==null?null:J(F,B,$,ee,null);if(typeof $.then=="function")return K(F,B,Oc($),ee);if($.$$typeof===q)return K(F,B,gc(F,$),ee);Dc(F,$)}return null}function X(F,B,$,ee,de){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get($)||null,S(B,F,""+ee,de);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return F=F.get(ee.key===null?$:ee.key)||null,N(B,F,ee,de);case x:return F=F.get(ee.key===null?$:ee.key)||null,Q(B,F,ee,de);case R:var Ne=ee._init;return ee=Ne(ee._payload),X(F,B,$,ee,de)}if(De(ee)||H(ee))return F=F.get($)||null,J(B,F,ee,de,null);if(typeof ee.then=="function")return X(F,B,$,Oc(ee),de);if(ee.$$typeof===q)return X(F,B,$,gc(B,ee),de);Dc(B,ee)}return null}function Ae(F,B,$,ee){for(var de=null,Ne=null,ve=B,Se=B=0,qt=null;ve!==null&&Se<$.length;Se++){ve.index>Se?(qt=ve,ve=null):qt=ve.sibling;var Ge=K(F,ve,$[Se],ee);if(Ge===null){ve===null&&(ve=qt);break}n&&ve&&Ge.alternate===null&&r(F,ve),B=p(Ge,B,Se),Ne===null?de=Ge:Ne.sibling=Ge,Ne=Ge,ve=qt}if(Se===$.length)return o(F,ve),$e&&$a(F,Se),de;if(ve===null){for(;Se<$.length;Se++)ve=ne(F,$[Se],ee),ve!==null&&(B=p(ve,B,Se),Ne===null?de=ve:Ne.sibling=ve,Ne=ve);return $e&&$a(F,Se),de}for(ve=u(ve);Se<$.length;Se++)qt=X(ve,F,Se,$[Se],ee),qt!==null&&(n&&qt.alternate!==null&&ve.delete(qt.key===null?Se:qt.key),B=p(qt,B,Se),Ne===null?de=qt:Ne.sibling=qt,Ne=qt);return n&&ve.forEach(function(na){return r(F,na)}),$e&&$a(F,Se),de}function be(F,B,$,ee){if($==null)throw Error(a(151));for(var de=null,Ne=null,ve=B,Se=B=0,qt=null,Ge=$.next();ve!==null&&!Ge.done;Se++,Ge=$.next()){ve.index>Se?(qt=ve,ve=null):qt=ve.sibling;var na=K(F,ve,Ge.value,ee);if(na===null){ve===null&&(ve=qt);break}n&&ve&&na.alternate===null&&r(F,ve),B=p(na,B,Se),Ne===null?de=na:Ne.sibling=na,Ne=na,ve=qt}if(Ge.done)return o(F,ve),$e&&$a(F,Se),de;if(ve===null){for(;!Ge.done;Se++,Ge=$.next())Ge=ne(F,Ge.value,ee),Ge!==null&&(B=p(Ge,B,Se),Ne===null?de=Ge:Ne.sibling=Ge,Ne=Ge);return $e&&$a(F,Se),de}for(ve=u(ve);!Ge.done;Se++,Ge=$.next())Ge=X(ve,F,Se,Ge.value,ee),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?Se:Ge.key),B=p(Ge,B,Se),Ne===null?de=Ge:Ne.sibling=Ge,Ne=Ge);return n&&ve.forEach(function(FA){return r(F,FA)}),$e&&$a(F,Se),de}function rt(F,B,$,ee){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:e:{for(var de=$.key;B!==null;){if(B.key===de){if(de=$.type,de===C){if(B.tag===7){o(F,B.sibling),ee=h(B,$.props.children),ee.return=F,F=ee;break e}}else if(B.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Cy(de)===B.type){o(F,B.sibling),ee=h(B,$.props),Ol(ee,$),ee.return=F,F=ee;break e}o(F,B);break}else r(F,B);B=B.sibling}$.type===C?(ee=qa($.props.children,F.mode,ee,$.key),ee.return=F,F=ee):(ee=hc($.type,$.key,$.props,null,F.mode,ee),Ol(ee,$),ee.return=F,F=ee)}return E(F);case x:e:{for(de=$.key;B!==null;){if(B.key===de)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){o(F,B.sibling),ee=h(B,$.children||[]),ee.return=F,F=ee;break e}else{o(F,B);break}else r(F,B);B=B.sibling}ee=hd($,F.mode,ee),ee.return=F,F=ee}return E(F);case R:return de=$._init,$=de($._payload),rt(F,B,$,ee)}if(De($))return Ae(F,B,$,ee);if(H($)){if(de=H($),typeof de!="function")throw Error(a(150));return $=de.call($),be(F,B,$,ee)}if(typeof $.then=="function")return rt(F,B,Oc($),ee);if($.$$typeof===q)return rt(F,B,gc(F,$),ee);Dc(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(o(F,B.sibling),ee=h(B,$),ee.return=F,F=ee):(o(F,B),ee=fd($,F.mode,ee),ee.return=F,F=ee),E(F)):o(F,B)}return function(F,B,$,ee){try{Il=0;var de=rt(F,B,$,ee);return Ws=null,de}catch(ve){if(ve===_l||ve===yc)throw ve;var Ne=Cn(29,ve,null,F.mode);return Ne.lanes=ee,Ne.return=F,Ne}finally{}}}var Zs=Iy(!0),Oy=Iy(!1),Gn=re(null),Ti=null;function Br(n){var r=n.alternate;se(Lt,Lt.current&1),se(Gn,n),Ti===null&&(r===null||Qs.current!==null||r.memoizedState!==null)&&(Ti=n)}function Dy(n){if(n.tag===22){if(se(Lt,Lt.current),se(Gn,n),Ti===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ti=n)}}else Hr()}function Hr(){se(Lt,Lt.current),se(Gn,Gn.current)}function or(n){le(Gn),Ti===n&&(Ti=null),le(Lt)}var Lt=re(0);function xc(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Nm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Gd(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var $d={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=xn(),h=Ur(u);h.payload=r,o!=null&&(h.callback=o),r=jr(n,h,u),r!==null&&(Mn(r,n,u),bl(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=xn(),h=Ur(u);h.tag=1,h.payload=r,o!=null&&(h.callback=o),r=jr(n,h,u),r!==null&&(Mn(r,n,u),bl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=xn(),u=Ur(o);u.tag=2,r!=null&&(u.callback=r),r=jr(n,u,o),r!==null&&(Mn(r,n,o),bl(r,n,o))}};function xy(n,r,o,u,h,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):r.prototype&&r.prototype.isPureReactComponent?!fl(o,u)||!fl(h,p):!0}function My(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&$d.enqueueReplaceState(r,r.state,null)}function Ja(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=y({},o));for(var h in n)o[h]===void 0&&(o[h]=n[h])}return o}var Mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Py(n){Mc(n)}function Ny(n){console.error(n)}function Vy(n){Mc(n)}function Pc(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function ky(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qd(n,r,o){return o=Ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Pc(n,r)},o}function Ly(n){return n=Ur(n),n.tag=3,n}function Uy(n,r,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;n.payload=function(){return h(p)},n.callback=function(){ky(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){ky(r,o,u),typeof h!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Fw(n,r,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&gl(r,o,h,!0),o=Gn.current,o!==null){switch(o.tag){case 13:return Ti===null?vm():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Sd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),_m(n,u,h)),!1;case 22:return o.flags|=65536,u===Sd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),_m(n,u,h)),!1}throw Error(a(435,o.tag))}return _m(n,u,h),vm(),!1}if($e)return r=Gn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==pd&&(n=Error(a(422),{cause:u}),pl(Bn(n,o)))):(u!==pd&&(r=Error(a(423),{cause:u}),pl(Bn(r,o))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=Bn(u,o),h=Qd(n.stateNode,u,h),Ad(n,h),Et!==4&&(Et=2)),!1;var p=Error(a(520),{cause:u});if(p=Bn(p,o),kl===null?kl=[p]:kl.push(p),Et!==4&&(Et=2),r===null)return!0;u=Bn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=h&-h,o.lanes|=n,n=Qd(o.stateNode,u,n),Ad(o,n),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yr===null||!Yr.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Ly(h),Uy(h,n,o,u),Ad(o,h),!1}o=o.return}while(o!==null);return!1}var jy=Error(a(461)),Ht=!1;function Wt(n,r,o,u){r.child=n===null?Oy(r,null,o,u):Zs(r,n.child,o,u)}function zy(n,r,o,u,h){o=o.render;var p=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Xa(r),u=Dd(n,r,o,E,p,h),S=xd(),n!==null&&!Ht?(Md(n,r,h),lr(n,r,h)):($e&&S&&dd(r),r.flags|=1,Wt(n,r,u,h),r.child)}function By(n,r,o,u,h){if(n===null){var p=o.type;return typeof p=="function"&&!cd(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,Hy(n,r,p,u,h)):(n=hc(o.type,null,u,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!tm(n,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:fl,o(E,u)&&n.ref===r.ref)return lr(n,r,h)}return r.flags|=1,n=tr(p,u),n.ref=r.ref,n.return=r,r.child=n}function Hy(n,r,o,u,h){if(n!==null){var p=n.memoizedProps;if(fl(p,u)&&n.ref===r.ref)if(Ht=!1,r.pendingProps=u=p,tm(n,h))(n.flags&131072)!==0&&(Ht=!0);else return r.lanes=n.lanes,lr(n,r,h)}return Yd(n,r,o,u,h)}function Fy(n,r,o){var u=r.pendingProps,h=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,n!==null){for(h=r.child=n.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;r.childLanes=p&~u}else r.childLanes=0,r.child=null;return qy(n,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&vc(r,p!==null?p.cachePool:null),p!==null?Hv(r,p):Cd(),Dy(r);else return r.lanes=r.childLanes=536870912,qy(n,r,p!==null?p.baseLanes|o:o,o)}else p!==null?(vc(r,p.cachePool),Hv(r,p),Hr(),r.memoizedState=null):(n!==null&&vc(r,null),Cd(),Hr());return Wt(n,r,h,o),r.child}function qy(n,r,o,u){var h=bd();return h=h===null?null:{parent:kt._currentValue,pool:h},r.memoizedState={baseLanes:o,cachePool:h},n!==null&&vc(r,null),Cd(),Dy(r),n!==null&&gl(n,r,u,!0),null}function Nc(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Yd(n,r,o,u,h){return Xa(r),o=Dd(n,r,o,u,void 0,h),u=xd(),n!==null&&!Ht?(Md(n,r,h),lr(n,r,h)):($e&&u&&dd(r),r.flags|=1,Wt(n,r,o,h),r.child)}function Gy(n,r,o,u,h,p){return Xa(r),r.updateQueue=null,o=qv(r,u,o,h),Fv(n),u=xd(),n!==null&&!Ht?(Md(n,r,p),lr(n,r,p)):($e&&u&&dd(r),r.flags|=1,Wt(n,r,o,p),r.child)}function $y(n,r,o,u,h){if(Xa(r),r.stateNode===null){var p=Hs,E=o.contextType;typeof E=="object"&&E!==null&&(p=sn(E)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=$d,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},Td(r),E=o.contextType,p.context=typeof E=="object"&&E!==null?sn(E):Hs,p.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Gd(r,o,E,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&$d.enqueueReplaceState(p,p.state,null),Tl(r,u,p,h),Sl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){p=r.stateNode;var S=r.memoizedProps,N=Ja(o,S);p.props=N;var Q=p.context,J=o.contextType;E=Hs,typeof J=="object"&&J!==null&&(E=sn(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Q!==E)&&My(r,p,u,E),Lr=!1;var K=r.memoizedState;p.state=K,Tl(r,u,p,h),Sl(),Q=r.memoizedState,S||K!==Q||Lr?(typeof ne=="function"&&(Gd(r,o,ne,u),Q=r.memoizedState),(N=Lr||xy(r,o,N,u,K,Q,E))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Q),p.props=u,p.state=Q,p.context=E,u=N):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,wd(n,r),E=r.memoizedProps,J=Ja(o,E),p.props=J,ne=r.pendingProps,K=p.context,Q=o.contextType,N=Hs,typeof Q=="object"&&Q!==null&&(N=sn(Q)),S=o.getDerivedStateFromProps,(Q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ne||K!==N)&&My(r,p,u,N),Lr=!1,K=r.memoizedState,p.state=K,Tl(r,u,p,h),Sl();var X=r.memoizedState;E!==ne||K!==X||Lr||n!==null&&n.dependencies!==null&&pc(n.dependencies)?(typeof S=="function"&&(Gd(r,o,S,u),X=r.memoizedState),(J=Lr||xy(r,o,J,u,K,X,N)||n!==null&&n.dependencies!==null&&pc(n.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,N)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),p.props=u,p.state=X,p.context=N,u=J):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),u=!1)}return p=u,Nc(n,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&u?(r.child=Zs(r,n.child,null,h),r.child=Zs(r,null,o,h)):Wt(n,r,o,h),r.memoizedState=p.state,n=r.child):n=lr(n,r,h),n}function Qy(n,r,o,u){return ml(),r.flags|=256,Wt(n,r,o,u),r.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(n){return{baseLanes:n,cachePool:Nv()}}function Wd(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=$n),n}function Yy(n,r,o){var u=r.pendingProps,h=!1,p=(r.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if($e){if(h?Br(r):Hr(),$e){var S=_t,N;if(N=S){e:{for(N=S,S=Si;N.nodeType!==8;){if(!S){S=null;break e}if(N=ti(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(r.memoizedState={dehydrated:S,treeContext:Ga!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},N=Cn(18,null,null,0),N.stateNode=S,N.return=r,r.child=N,vn=r,_t=null,N=!0):N=!1}N||Ya(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Nm(S)?r.lanes=32:r.lanes=536870912,null;or(r)}return S=u.children,u=u.fallback,h?(Hr(),h=r.mode,S=Vc({mode:"hidden",children:S},h),u=qa(u,h,o,null),S.return=r,u.return=r,S.sibling=u,r.child=S,h=r.child,h.memoizedState=Xd(o),h.childLanes=Wd(n,E,o),r.memoizedState=Kd,u):(Br(r),Zd(r,S))}if(N=n.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(p)r.flags&256?(Br(r),r.flags&=-257,r=Jd(n,r,o)):r.memoizedState!==null?(Hr(),r.child=n.child,r.flags|=128,r=null):(Hr(),h=u.fallback,S=r.mode,u=Vc({mode:"visible",children:u.children},S),h=qa(h,S,o,null),h.flags|=2,u.return=r,h.return=r,u.sibling=h,r.child=u,Zs(r,n.child,null,o),u=r.child,u.memoizedState=Xd(o),u.childLanes=Wd(n,E,o),r.memoizedState=Kd,r=h);else if(Br(r),Nm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var Q=E.dgst;E=Q,u=Error(a(419)),u.stack="",u.digest=E,pl({value:u,source:null,stack:null}),r=Jd(n,r,o)}else if(Ht||gl(n,r,o,!1),E=(o&n.childLanes)!==0,Ht||E){if(E=ut,E!==null&&(u=o&-o,u=(u&42)!==0?1:Or(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Bs(n,u),Mn(E,n,u),jy;S.data==="$?"||vm(),r=Jd(n,r,o)}else S.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,_t=ti(S.nextSibling),vn=r,$e=!0,Qa=null,Si=!1,n!==null&&(Fn[qn++]=nr,Fn[qn++]=ir,Fn[qn++]=Ga,nr=n.id,ir=n.overflow,Ga=r),r=Zd(r,u.children),r.flags|=4096);return r}return h?(Hr(),h=u.fallback,S=r.mode,N=n.child,Q=N.sibling,u=tr(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,Q!==null?h=tr(Q,h):(h=qa(h,S,o,null),h.flags|=2),h.return=r,u.return=r,u.sibling=h,r.child=u,u=h,h=r.child,S=n.child.memoizedState,S===null?S=Xd(o):(N=S.cachePool,N!==null?(Q=kt._currentValue,N=N.parent!==Q?{parent:Q,pool:Q}:N):N=Nv(),S={baseLanes:S.baseLanes|o,cachePool:N}),h.memoizedState=S,h.childLanes=Wd(n,E,o),r.memoizedState=Kd,u):(Br(r),o=n.child,n=o.sibling,o=tr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=o,r.memoizedState=null,o)}function Zd(n,r){return r=Vc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Vc(n,r){return n=Cn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Jd(n,r,o){return Zs(r,n.child,null,o),n=Zd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ky(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),vd(n.return,r,o)}function em(n,r,o,u,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Xy(n,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Wt(n,r,u.children,o),u=Lt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ky(n,o,r);else if(n.tag===19)Ky(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(se(Lt,u),h){case"forwards":for(o=r.child,h=null;o!==null;)n=o.alternate,n!==null&&xc(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),em(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&xc(n)===null){r.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}em(r,!0,o,null,p);break;case"together":em(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function lr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Qr|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(gl(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,o=tr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=tr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function tm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&pc(n)))}function qw(n,r,o){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),kr(r,kt,n.memoizedState.cache),ml();break;case 27:case 5:li(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:kr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Br(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Yy(n,r,o):(Br(r),n=lr(n,r,o),n!==null?n.sibling:null);Br(r);break;case 19:var h=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(gl(n,r,o,!1),u=(o&r.childLanes)!==0),h){if(u)return Xy(n,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Lt,Lt.current),u)break;return null;case 22:case 23:return r.lanes=0,Fy(n,r,o);case 24:kr(r,kt,n.memoizedState.cache)}return lr(n,r,o)}function Wy(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ht=!0;else{if(!tm(n,o)&&(r.flags&128)===0)return Ht=!1,qw(n,r,o);Ht=(n.flags&131072)!==0}else Ht=!1,$e&&(r.flags&1048576)!==0&&Cv(r,mc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,h=u._init;if(u=h(u._payload),r.type=u,typeof u=="function")cd(u)?(n=Ja(u,n),r.tag=1,r=$y(null,r,u,n,o)):(r.tag=0,r=Yd(null,r,u,n,o));else{if(u!=null){if(h=u.$$typeof,h===ae){r.tag=11,r=zy(null,r,u,n,o);break e}else if(h===I){r.tag=14,r=By(null,r,u,n,o);break e}}throw r=at(u)||u,Error(a(306,r,""))}}return r;case 0:return Yd(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,h=Ja(u,r.pendingProps),$y(n,r,u,h,o);case 3:e:{if(Le(r,r.stateNode.containerInfo),n===null)throw Error(a(387));u=r.pendingProps;var p=r.memoizedState;h=p.element,wd(n,r),Tl(r,u,null,o);var E=r.memoizedState;if(u=E.cache,kr(r,kt,u),u!==p.cache&&yd(r,[kt],o,!0),Sl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Qy(n,r,u,o);break e}else if(u!==h){h=Bn(Error(a(424)),r),pl(h),r=Qy(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=ti(n.firstChild),vn=r,$e=!0,Qa=null,Si=!0,o=Oy(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ml(),u===h){r=lr(n,r,o);break e}Wt(n,r,u,o)}r=r.child}return r;case 26:return Nc(n,r),n===null?(o=t0(r.type,null,r.pendingProps,null))?r.memoizedState=o:$e||(o=r.type,n=r.pendingProps,u=Kc(ge.current).createElement(o),u[Pt]=r,u[Rt]=n,Jt(u,o,n),St(u),r.stateNode=u):r.memoizedState=t0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return li(r),n===null&&$e&&(u=r.stateNode=Z_(r.type,r.pendingProps,ge.current),vn=r,Si=!0,h=_t,Wr(r.type)?(Vm=h,_t=ti(u.firstChild)):_t=h),Wt(n,r,r.pendingProps.children,o),Nc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&$e&&((h=u=_t)&&(u=yA(u,r.type,r.pendingProps,Si),u!==null?(r.stateNode=u,vn=r,_t=ti(u.firstChild),Si=!1,h=!0):h=!1),h||Ya(r)),li(r),h=r.type,p=r.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,xm(h,p)?u=null:E!==null&&xm(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=Dd(n,r,kw,null,null,o),Gl._currentValue=h),Nc(n,r),Wt(n,r,u,o),r.child;case 6:return n===null&&$e&&((n=o=_t)&&(o=_A(o,r.pendingProps,Si),o!==null?(r.stateNode=o,vn=r,_t=null,n=!0):n=!1),n||Ya(r)),null;case 13:return Yy(n,r,o);case 4:return Le(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Zs(r,null,u,o):Wt(n,r,u,o),r.child;case 11:return zy(n,r,r.type,r.pendingProps,o);case 7:return Wt(n,r,r.pendingProps,o),r.child;case 8:return Wt(n,r,r.pendingProps.children,o),r.child;case 12:return Wt(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,kr(r,r.type,u.value),Wt(n,r,u.children,o),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Xa(r),h=sn(h),u=u(h),r.flags|=1,Wt(n,r,u,o),r.child;case 14:return By(n,r,r.type,r.pendingProps,o);case 15:return Hy(n,r,r.type,r.pendingProps,o);case 19:return Xy(n,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},n===null?(o=Vc(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=tr(n.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return Fy(n,r,o);case 24:return Xa(r),u=sn(kt),n===null?(h=bd(),h===null&&(h=ut,p=_d(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),r.memoizedState={parent:u,cache:h},Td(r),kr(r,kt,h)):((n.lanes&o)!==0&&(wd(n,r),Tl(r,null,null,o),Sl()),h=n.memoizedState,p=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),kr(r,kt,u)):(u=p.cache,kr(r,kt,u),u!==h.cache&&yd(r,[kt],o,!0))),Wt(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ur(n){n.flags|=4}function Zy(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!s0(r)){if(r=Gn.current,r!==null&&((Fe&4194048)===Fe?Ti!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Ti))throw El=Sd,Vv;n.flags|=8192}}function kc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Qo():536870912,n.lanes|=r,no|=r)}function Dl(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function pt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function Gw(n,r,o){var u=r.pendingProps;switch(md(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ar(kt),dn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(dl(r)?ur(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dv())),pt(r),null;case 26:return o=r.memoizedState,n===null?(ur(r),o!==null?(pt(r),Zy(r,o)):(pt(r),r.flags&=-16777217)):o?o!==n.memoizedState?(ur(r),pt(r),Zy(r,o)):(pt(r),r.flags&=-16777217):(n.memoizedProps!==u&&ur(r),pt(r),r.flags&=-16777217),null;case 27:Nn(r),o=ge.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ur(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return pt(r),null}n=me.current,dl(r)?Iv(r):(n=Z_(h,u,o),r.stateNode=n,ur(r))}return pt(r),null;case 5:if(Nn(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ur(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return pt(r),null}if(n=me.current,dl(r))Iv(r);else{switch(h=Kc(ge.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}n[Pt]=r,n[Rt]=u;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Jt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ur(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ur(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(n=ge.current,dl(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,h=vn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[Pt]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||G_(n.nodeValue,o)),n||Ya(r)}else n=Kc(n).createTextNode(u),n[Pt]=r,r.stateNode=n}return pt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=dl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Pt]=r}else ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),h=!1}else h=Dv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(or(r),r):(or(r),null)}if(or(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),kc(r,r.updateQueue),pt(r),null;case 4:return dn(),n===null&&Rm(r.stateNode.containerInfo),pt(r),null;case 10:return ar(r.type),pt(r),null;case 19:if(le(Lt),h=r.memoizedState,h===null)return pt(r),null;if(u=(r.flags&128)!==0,p=h.rendering,p===null)if(u)Dl(h,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=xc(n),p!==null){for(r.flags|=128,Dl(h,!1),n=p.updateQueue,r.updateQueue=n,kc(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Rv(o,n),o=o.sibling;return se(Lt,Lt.current&1|2),r.child}n=n.sibling}h.tail!==null&&Vn()>jc&&(r.flags|=128,u=!0,Dl(h,!1),r.lanes=4194304)}else{if(!u)if(n=xc(p),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,kc(r,n),Dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!$e)return pt(r),null}else 2*Vn()-h.renderingStartTime>jc&&o!==536870912&&(r.flags|=128,u=!0,Dl(h,!1),r.lanes=4194304);h.isBackwards?(p.sibling=r.child,r.child=p):(n=h.last,n!==null?n.sibling=p:r.child=p,h.last=p)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Vn(),r.sibling=null,n=Lt.current,se(Lt,u?n&1|2:n&1),r):(pt(r),null);case 22:case 23:return or(r),Id(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),o=r.updateQueue,o!==null&&kc(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&le(Wa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ar(kt),pt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function $w(n,r){switch(md(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ar(kt),dn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Nn(r),null;case 13:if(or(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ml()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return le(Lt),null;case 4:return dn(),null;case 10:return ar(r.type),null;case 22:case 23:return or(r),Id(),n!==null&&le(Wa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ar(kt),null;case 25:return null;default:return null}}function Jy(n,r){switch(md(r),r.tag){case 3:ar(kt),dn();break;case 26:case 27:case 5:Nn(r);break;case 4:dn();break;case 13:or(r);break;case 19:le(Lt);break;case 10:ar(r.type);break;case 22:case 23:or(r),Id(),n!==null&&le(Wa);break;case 24:ar(kt)}}function xl(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&n)===n){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==h)}}catch(S){ot(r,r.return,S)}}function Fr(n,r,o){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&n)===n){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,h=r;var N=o,Q=S;try{Q()}catch(J){ot(h,N,J)}}}u=u.next}while(u!==p)}}catch(J){ot(r,r.return,J)}}function e_(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Bv(r,o)}catch(u){ot(n,n.return,u)}}}function t_(n,r,o){o.props=Ja(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ot(n,r,u)}}function Ml(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(h){ot(n,r,h)}}function wi(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){ot(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ot(n,r,h)}else o.current=null}function n_(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){ot(n,n.return,h)}}function nm(n,r,o){try{var u=n.stateNode;dA(u,n.type,o,r),u[Rt]=r}catch(h){ot(n,n.return,h)}}function i_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Wr(n.type)||n.tag===4}function im(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||i_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Wr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Yc));else if(u!==4&&(u===27&&Wr(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(rm(n,r,o),n=n.sibling;n!==null;)rm(n,r,o),n=n.sibling}function Lc(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&Wr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Lc(n,r,o),n=n.sibling;n!==null;)Lc(n,r,o),n=n.sibling}function r_(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Jt(r,u,o),r[Pt]=n,r[Rt]=o}catch(p){ot(n,n.return,p)}}var cr=!1,wt=!1,am=!1,a_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Qw(n,r){if(n=n.containerInfo,Om=tf,n=gv(n),id(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,S=-1,N=-1,Q=0,J=0,ne=n,K=null;t:for(;;){for(var X;ne!==o||h!==0&&ne.nodeType!==3||(S=E+h),ne!==p||u!==0&&ne.nodeType!==3||(N=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)K=ne,ne=X;for(;;){if(ne===n)break t;if(K===o&&++Q===h&&(S=E),K===p&&++J===u&&(N=E),(X=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=X}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dm={focusedElem:n,selectionRange:o},tf=!1,Ft=r;Ft!==null;)if(r=Ft,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ft=n;else for(;Ft!==null;){switch(r=Ft,p=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=r,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Ae=Ja(o.type,h,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ae,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(be){ot(o,o.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)Pm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Pm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,Ft=n;break}Ft=r.return}}function s_(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:qr(n,o),u&4&&xl(5,o);break;case 1:if(qr(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(E){ot(o,o.return,E)}else{var h=Ja(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}u&64&&e_(o),u&512&&Ml(o,o.return);break;case 3:if(qr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Bv(n,r)}catch(E){ot(o,o.return,E)}}break;case 27:r===null&&u&4&&r_(o);case 26:case 5:qr(n,o),r===null&&u&4&&n_(o),u&512&&Ml(o,o.return);break;case 12:qr(n,o);break;case 13:qr(n,o),u&4&&u_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=nA.bind(null,o),EA(n,o))));break;case 22:if(u=o.memoizedState!==null||cr,!u){r=r!==null&&r.memoizedState!==null||wt,h=cr;var p=wt;cr=u,(wt=r)&&!p?Gr(n,o,(o.subtreeFlags&8772)!==0):qr(n,o),cr=h,wt=p}break;case 30:break;default:qr(n,o)}}function o_(n){var r=n.alternate;r!==null&&(n.alternate=null,o_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Mr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,_n=!1;function fr(n,r,o){for(o=o.child;o!==null;)l_(n,r,o),o=o.sibling}function l_(n,r,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:wt||wi(o,r),fr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||wi(o,r);var u=mt,h=_n;Wr(o.type)&&(mt=o.stateNode,_n=!1),fr(n,r,o),Bl(o.stateNode),mt=u,_n=h;break;case 5:wt||wi(o,r);case 6:if(u=mt,h=_n,mt=null,fr(n,r,o),mt=u,_n=h,mt!==null)if(_n)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(p){ot(o,r,p)}else try{mt.removeChild(o.stateNode)}catch(p){ot(o,r,p)}break;case 18:mt!==null&&(_n?(n=mt,X_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Kl(n)):X_(mt,o.stateNode));break;case 4:u=mt,h=_n,mt=o.stateNode.containerInfo,_n=!0,fr(n,r,o),mt=u,_n=h;break;case 0:case 11:case 14:case 15:wt||Fr(2,o,r),wt||Fr(4,o,r),fr(n,r,o);break;case 1:wt||(wi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&t_(o,r,u)),fr(n,r,o);break;case 21:fr(n,r,o);break;case 22:wt=(u=wt)||o.memoizedState!==null,fr(n,r,o),wt=u;break;default:fr(n,r,o)}}function u_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Kl(n)}catch(o){ot(r,r.return,o)}}function Yw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new a_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new a_),r;default:throw Error(a(435,n.tag))}}function sm(n,r){var o=Yw(n);r.forEach(function(u){var h=iA.bind(null,n,u);o.has(u)||(o.add(u),u.then(h,h))})}function In(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=n,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Wr(S.type)){mt=S.stateNode,_n=!1;break e}break;case 5:mt=S.stateNode,_n=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,_n=!0;break e}S=S.return}if(mt===null)throw Error(a(160));l_(p,E,h),mt=null,_n=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)c_(r,n),r=r.sibling}var ei=null;function c_(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:In(r,n),On(n),u&4&&(Fr(3,n,n.return),xl(3,n),Fr(5,n,n.return));break;case 1:In(r,n),On(n),u&512&&(wt||o===null||wi(o,o.return)),u&64&&cr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=ei;if(In(r,n),On(n),u&512&&(wt||o===null||wi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ia]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),Jt(p,u,o),p[Pt]=n,St(p),u=p;break e;case"link":var E=r0("link","href",h).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}p=h.createElement(u),Jt(p,u,o),h.head.appendChild(p);break;case"meta":if(E=r0("meta","content",h).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}p=h.createElement(u),Jt(p,u,o),h.head.appendChild(p);break;default:throw Error(a(468,u))}p[Pt]=n,St(p),u=p}n.stateNode=u}else a0(h,n.type,n.stateNode);else n.stateNode=i0(h,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?a0(h,n.type,n.stateNode):i0(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&nm(n,n.memoizedProps,o.memoizedProps)}break;case 27:In(r,n),On(n),u&512&&(wt||o===null||wi(o,o.return)),o!==null&&u&4&&nm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(In(r,n),On(n),u&512&&(wt||o===null||wi(o,o.return)),n.flags&32){h=n.stateNode;try{Ln(h,"")}catch(X){ot(n,n.return,X)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,nm(n,h,o!==null?o.memoizedProps:h)),u&1024&&(am=!0);break;case 6:if(In(r,n),On(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(X){ot(n,n.return,X)}}break;case 3:if(Zc=null,h=ei,ei=Xc(r.containerInfo),In(r,n),ei=h,On(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Kl(r.containerInfo)}catch(X){ot(n,n.return,X)}am&&(am=!1,f_(n));break;case 4:u=ei,ei=Xc(n.stateNode.containerInfo),In(r,n),On(n),ei=u;break;case 12:In(r,n),On(n);break;case 13:In(r,n),On(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hm=Vn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,sm(n,u)));break;case 22:h=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,Q=cr,J=wt;if(cr=Q||h,wt=J||N,In(r,n),wt=J,cr=Q,On(n),u&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(o===null||N||cr||wt||es(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){N=o=r;try{if(p=N.stateNode,h)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=N.stateNode;var ne=N.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){ot(N,N.return,X)}}}else if(r.tag===6){if(o===null){N=r;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(X){ot(N,N.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,sm(n,o))));break;case 19:In(r,n),On(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,sm(n,u)));break;case 30:break;case 21:break;default:In(r,n),On(n)}}function On(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(i_(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,p=im(n);Lc(n,p,h);break;case 5:var E=o.stateNode;o.flags&32&&(Ln(E,""),o.flags&=-33);var S=im(n);Lc(n,S,E);break;case 3:case 4:var N=o.stateNode.containerInfo,Q=im(n);rm(n,Q,N);break;default:throw Error(a(161))}}catch(J){ot(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function f_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;f_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function qr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)s_(n,r.alternate,r),r=r.sibling}function es(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Fr(4,r,r.return),es(r);break;case 1:wi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&t_(r,r.return,o),es(r);break;case 27:Bl(r.stateNode);case 26:case 5:wi(r,r.return),es(r);break;case 22:r.memoizedState===null&&es(r);break;case 30:es(r);break;default:es(r)}n=n.sibling}}function Gr(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=n,p=r,E=p.flags;switch(p.tag){case 0:case 11:case 15:Gr(h,p,o),xl(4,p);break;case 1:if(Gr(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){ot(u,u.return,Q)}if(u=p,h=u.updateQueue,h!==null){var S=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)zv(N[h],S)}catch(Q){ot(u,u.return,Q)}}o&&E&64&&e_(p),Ml(p,p.return);break;case 27:r_(p);case 26:case 5:Gr(h,p,o),o&&u===null&&E&4&&n_(p),Ml(p,p.return);break;case 12:Gr(h,p,o);break;case 13:Gr(h,p,o),o&&E&4&&u_(h,p);break;case 22:p.memoizedState===null&&Gr(h,p,o),Ml(p,p.return);break;case 30:break;default:Gr(h,p,o)}r=r.sibling}}function om(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&vl(o))}function lm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vl(n))}function Ai(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)h_(n,r,o,u),r=r.sibling}function h_(n,r,o,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ai(n,r,o,u),h&2048&&xl(9,r);break;case 1:Ai(n,r,o,u);break;case 3:Ai(n,r,o,u),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vl(n)));break;case 12:if(h&2048){Ai(n,r,o,u),n=r.stateNode;try{var p=r.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){ot(r,r.return,N)}}else Ai(n,r,o,u);break;case 13:Ai(n,r,o,u);break;case 23:break;case 22:p=r.stateNode,E=r.alternate,r.memoizedState!==null?p._visibility&2?Ai(n,r,o,u):Pl(n,r):p._visibility&2?Ai(n,r,o,u):(p._visibility|=2,Js(n,r,o,u,(r.subtreeFlags&10256)!==0)),h&2048&&om(E,r);break;case 24:Ai(n,r,o,u),h&2048&&lm(r.alternate,r);break;default:Ai(n,r,o,u)}}function Js(n,r,o,u,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=n,E=r,S=o,N=u,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Js(p,E,S,N,h),xl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Js(p,E,S,N,h):Pl(p,E):(J._visibility|=2,Js(p,E,S,N,h)),h&&Q&2048&&om(E.alternate,E);break;case 24:Js(p,E,S,N,h),h&&Q&2048&&lm(E.alternate,E);break;default:Js(p,E,S,N,h)}r=r.sibling}}function Pl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,h=u.flags;switch(u.tag){case 22:Pl(o,u),h&2048&&om(u.alternate,u);break;case 24:Pl(o,u),h&2048&&lm(u.alternate,u);break;default:Pl(o,u)}r=r.sibling}}var Nl=8192;function eo(n){if(n.subtreeFlags&Nl)for(n=n.child;n!==null;)d_(n),n=n.sibling}function d_(n){switch(n.tag){case 26:eo(n),n.flags&Nl&&n.memoizedState!==null&&PA(ei,n.memoizedState,n.memoizedProps);break;case 5:eo(n);break;case 3:case 4:var r=ei;ei=Xc(n.stateNode.containerInfo),eo(n),ei=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Nl,Nl=16777216,eo(n),Nl=r):eo(n));break;default:eo(n)}}function m_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Vl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ft=u,g_(u,n)}m_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)p_(n),n=n.sibling}function p_(n){switch(n.tag){case 0:case 11:case 15:Vl(n),n.flags&2048&&Fr(9,n,n.return);break;case 3:Vl(n);break;case 12:Vl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Uc(n)):Vl(n);break;default:Vl(n)}}function Uc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ft=u,g_(u,n)}m_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Fr(8,r,r.return),Uc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Uc(r));break;default:Uc(r)}n=n.sibling}}function g_(n,r){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Fr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ft=u;else e:for(o=n;Ft!==null;){u=Ft;var h=u.sibling,p=u.return;if(o_(u),u===o){Ft=null;break e}if(h!==null){h.return=p,Ft=h;break e}Ft=p}}}var Kw={getCacheForType:function(n){var r=sn(kt),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},Xw=typeof WeakMap=="function"?WeakMap:Map,Je=0,ut=null,Ve=null,Fe=0,et=0,Dn=null,$r=!1,to=!1,um=!1,hr=0,Et=0,Qr=0,ts=0,cm=0,$n=0,no=0,kl=null,En=null,fm=!1,hm=0,jc=1/0,zc=null,Yr=null,Zt=0,Kr=null,io=null,ro=0,dm=0,mm=null,v_=null,Ll=0,pm=null;function xn(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(W.T!==null){var n=Gs;return n!==0?n:Sm()}return Dr()}function y_(){$n===0&&($n=(Fe&536870912)===0||$e?$o():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),$n}function Mn(n,r,o){(n===ut&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(ao(n,0),Xr(n,Fe,$n,!1)),qi(n,o),((Je&2)===0||n!==ut)&&(n===ut&&((Je&2)===0&&(ts|=o),Et===4&&Xr(n,Fe,$n,!1)),Ri(n))}function __(n,r,o){if((Je&6)!==0)throw Error(a(327));var u=!o&&(r&124)===0&&(r&n.expiredLanes)===0||Ca(n,r),h=u?Jw(n,r):ym(n,r,!0),p=u;do{if(h===0){to&&!u&&Xr(n,r,0,!1);break}else{if(o=n.current.alternate,p&&!Ww(o)){h=ym(n,r,!1),p=!1;continue}if(h===2){if(p=r,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=n;h=kl;var N=S.current.memoizedState.isDehydrated;if(N&&(ao(S,E).flags|=256),E=ym(S,E,!1),E!==2){if(um&&!N){S.errorRecoveryDisabledLanes|=p,ts|=p,h=4;break e}p=En,En=h,p!==null&&(En===null?En=p:En.push.apply(En,p))}h=E}if(p=!1,h!==2)continue}}if(h===1){ao(n,0),Xr(n,r,0,!0);break}e:{switch(u=n,p=h,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Xr(u,r,$n,!$r);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(h=hm+300-Vn(),10<h)){if(Xr(u,r,$n,!$r),Ss(u,0,!0)!==0)break e;u.timeoutHandle=Y_(E_.bind(null,u,o,En,zc,fm,r,$n,ts,no,$r,p,2,-0,0),h);break e}E_(u,o,En,zc,fm,r,$n,ts,no,$r,p,0,-0,0)}}break}while(!0);Ri(n)}function E_(n,r,o,u,h,p,E,S,N,Q,J,ne,K,X){if(n.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:MA},d_(r),ne=NA(),ne!==null)){n.cancelPendingCommit=ne(C_.bind(null,n,r,p,o,u,h,E,S,N,J,1,K,X)),Xr(n,p,E,!Q);return}C_(n,r,p,o,u,h,E,S,N)}function Ww(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Rn(p(),h))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xr(n,r,o,u){r&=~cm,r&=~ts,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var h=r;0<h;){var p=31-an(h),E=1<<p;u[p]=-1,h&=~E}o!==0&&fi(n,o,r)}function Bc(){return(Je&6)===0?(Ul(0),!1):!0}function gm(){if(Ve!==null){if(et===0)var n=Ve.return;else n=Ve,rr=Ka=null,Pd(n),Ws=null,Il=0,n=Ve;for(;n!==null;)Jy(n.alternate,n),n=n.return;Ve=null}}function ao(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,pA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),gm(),ut=n,Ve=o=tr(n.current,null),Fe=r,et=0,Dn=null,$r=!1,to=Ca(n,r),um=!1,no=$n=cm=ts=Qr=Et=0,En=kl=null,fm=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var h=31-an(u),p=1<<h;r|=n[h],u&=~p}return hr=r,uc(),o}function b_(n,r){Pe=null,W.H=Ic,r===_l||r===yc?(r=Uv(),et=3):r===Vv?(r=Uv(),et=4):et=r===jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Ve===null&&(Et=1,Pc(n,Bn(r,n.current)))}function S_(){var n=W.H;return W.H=Ic,n===null?Ic:n}function T_(){var n=W.A;return W.A=Kw,n}function vm(){Et=4,$r||(Fe&4194048)!==Fe&&Gn.current!==null||(to=!0),(Qr&134217727)===0&&(ts&134217727)===0||ut===null||Xr(ut,Fe,$n,!1)}function ym(n,r,o){var u=Je;Je|=2;var h=S_(),p=T_();(ut!==n||Fe!==r)&&(zc=null,ao(n,r)),r=!1;var E=Et;e:do try{if(et!==0&&Ve!==null){var S=Ve,N=Dn;switch(et){case 8:gm(),E=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(r=!0);var Q=et;if(et=0,Dn=null,so(n,S,N,Q),o&&to){E=0;break e}break;default:Q=et,et=0,Dn=null,so(n,S,N,Q)}}Zw(),E=Et;break}catch(J){b_(n,J)}while(!0);return r&&n.shellSuspendCounter++,rr=Ka=null,Je=u,W.H=h,W.A=p,Ve===null&&(ut=null,Fe=0,uc()),E}function Zw(){for(;Ve!==null;)w_(Ve)}function Jw(n,r){var o=Je;Je|=2;var u=S_(),h=T_();ut!==n||Fe!==r?(zc=null,jc=Vn()+500,ao(n,r)):to=Ca(n,r);e:do try{if(et!==0&&Ve!==null){r=Ve;var p=Dn;t:switch(et){case 1:et=0,Dn=null,so(n,r,p,1);break;case 2:case 9:if(kv(p)){et=0,Dn=null,A_(r);break}r=function(){et!==2&&et!==9||ut!==n||(et=7),Ri(n)},p.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:kv(p)?(et=0,Dn=null,A_(r)):(et=0,Dn=null,so(n,r,p,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var S=Ve;if(!E||s0(E)){et=0,Dn=null;var N=S.sibling;if(N!==null)Ve=N;else{var Q=S.return;Q!==null?(Ve=Q,Hc(Q)):Ve=null}break t}}et=0,Dn=null,so(n,r,p,5);break;case 6:et=0,Dn=null,so(n,r,p,6);break;case 8:gm(),Et=6;break e;default:throw Error(a(462))}}eA();break}catch(J){b_(n,J)}while(!0);return rr=Ka=null,W.H=u,W.A=h,Je=o,Ve!==null?0:(ut=null,Fe=0,uc(),Et)}function eA(){for(;Ve!==null&&!Sa();)w_(Ve)}function w_(n){var r=Wy(n.alternate,n,hr);n.memoizedProps=n.pendingProps,r===null?Hc(n):Ve=r}function A_(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=Gy(o,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=Gy(o,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:Pd(r);default:Jy(o,r),r=Ve=Rv(r,hr),r=Wy(o,r,hr)}n.memoizedProps=n.pendingProps,r===null?Hc(n):Ve=r}function so(n,r,o,u){rr=Ka=null,Pd(r),Ws=null,Il=0;var h=r.return;try{if(Fw(n,h,r,o,Fe)){Et=1,Pc(n,Bn(o,n.current)),Ve=null;return}}catch(p){if(h!==null)throw Ve=h,p;Et=1,Pc(n,Bn(o,n.current)),Ve=null;return}r.flags&32768?($e||u===1?n=!0:to||(Fe&536870912)!==0?n=!1:($r=n=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),R_(r,n)):Hc(r)}function Hc(n){var r=n;do{if((r.flags&32768)!==0){R_(r,$r);return}n=r.return;var o=Gw(r.alternate,r,hr);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);Et===0&&(Et=5)}function R_(n,r){do{var o=$w(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);Et=6,Ve=null}function C_(n,r,o,u,h,p,E,S,N){n.cancelPendingCommit=null;do Fc();while(Zt!==0);if((Je&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=ld,Yo(n,o,p,E,S,N),n===ut&&(Ve=ut=null,Fe=0),io=r,Kr=n,ro=o,dm=p,mm=h,v_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rA(Ta,function(){return M_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=ue.p,ue.p=2,E=Je,Je|=4;try{Qw(n,r,o)}finally{Je=E,ue.p=h,W.T=u}}Zt=1,I_(),O_(),D_()}}function I_(){if(Zt===1){Zt=0;var n=Kr,r=io,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ue.p;ue.p=2;var h=Je;Je|=4;try{c_(r,n);var p=Dm,E=gv(n.containerInfo),S=p.focusedElem,N=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&pv(S.ownerDocument.documentElement,S)){if(N!==null&&id(S)){var Q=N.start,J=N.end;if(J===void 0&&(J=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(J,S.value.length);else{var ne=S.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var X=K.getSelection(),Ae=S.textContent.length,be=Math.min(N.start,Ae),rt=N.end===void 0?be:Math.min(N.end,Ae);!X.extend&&be>rt&&(E=rt,rt=be,be=E);var F=mv(S,be),B=mv(S,rt);if(F&&B&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var $=ne.createRange();$.setStart(F.node,F.offset),X.removeAllRanges(),be>rt?(X.addRange($),X.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),X.addRange($))}}}}for(ne=[],X=S;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var ee=ne[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}tf=!!Om,Dm=Om=null}finally{Je=h,ue.p=u,W.T=o}}n.current=r,Zt=2}}function O_(){if(Zt===2){Zt=0;var n=Kr,r=io,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ue.p;ue.p=2;var h=Je;Je|=4;try{s_(n,r.alternate,r)}finally{Je=h,ue.p=u,W.T=o}}Zt=3}}function D_(){if(Zt===4||Zt===3){Zt=0,Uu();var n=Kr,r=io,o=ro,u=v_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Zt=5:(Zt=0,io=Kr=null,x_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Yr=null),Ts(o),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(yt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,h=ue.p,ue.p=2,W.T=null;try{for(var p=n.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{W.T=r,ue.p=h}}(ro&3)!==0&&Fc(),Ri(n),h=n.pendingLanes,(o&4194090)!==0&&(h&42)!==0?n===pm?Ll++:(Ll=0,pm=n):Ll=0,Ul(0)}}function x_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,vl(r)))}function Fc(n){return I_(),O_(),D_(),M_()}function M_(){if(Zt!==5)return!1;var n=Kr,r=dm;dm=0;var o=Ts(ro),u=W.T,h=ue.p;try{ue.p=32>o?32:o,W.T=null,o=mm,mm=null;var p=Kr,E=ro;if(Zt=0,io=Kr=null,ro=0,(Je&6)!==0)throw Error(a(331));var S=Je;if(Je|=4,p_(p.current),h_(p,p.current,E,o),Je=S,Ul(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(yt,p)}catch{}return!0}finally{ue.p=h,W.T=u,x_(n,r)}}function P_(n,r,o){r=Bn(o,r),r=Qd(n.stateNode,r,2),n=jr(n,r,2),n!==null&&(qi(n,2),Ri(n))}function ot(n,r,o){if(n.tag===3)P_(n,n,o);else for(;r!==null;){if(r.tag===3){P_(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yr===null||!Yr.has(u))){n=Bn(o,n),o=Ly(2),u=jr(r,o,2),u!==null&&(Uy(o,u,r,n),qi(u,2),Ri(u));break}}r=r.return}}function _m(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new Xw;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(um=!0,h.add(o),n=tA.bind(null,n,r,o),r.then(n,n))}function tA(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ut===n&&(Fe&o)===o&&(Et===4||Et===3&&(Fe&62914560)===Fe&&300>Vn()-hm?(Je&2)===0&&ao(n,0):cm|=o,no===Fe&&(no=0)),Ri(n)}function N_(n,r){r===0&&(r=Qo()),n=Bs(n,r),n!==null&&(qi(n,r),Ri(n))}function nA(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),N_(n,o)}function iA(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),N_(n,o)}function rA(n,r){return Hi(n,r)}var qc=null,oo=null,Em=!1,Gc=!1,bm=!1,ns=0;function Ri(n){n!==oo&&n.next===null&&(oo===null?qc=oo=n:oo=oo.next=n),Gc=!0,Em||(Em=!0,sA())}function Ul(n,r){if(!bm&&Gc){bm=!0;do for(var o=!1,u=qc;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-an(42|n)+1)-1,p&=h&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,U_(u,p))}else p=Fe,p=Ss(u,u===ut?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ca(u,p)||(o=!0,U_(u,p));u=u.next}while(o);bm=!1}}function aA(){V_()}function V_(){Gc=Em=!1;var n=0;ns!==0&&(mA()&&(n=ns),ns=0);for(var r=Vn(),o=null,u=qc;u!==null;){var h=u.next,p=k_(u,r);p===0?(u.next=null,o===null?qc=h:o.next=h,h===null&&(oo=o)):(o=u,(n!==0||(p&3)!==0)&&(Gc=!0)),u=h}Ul(n)}function k_(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-an(p),S=1<<E,N=h[E];N===-1?((S&o)===0||(S&u)!==0)&&(h[E]=Go(S,r)):N<=r&&(n.expiredLanes|=S),p&=~S}if(r=ut,o=Fe,o=Ss(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ci(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ca(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&ci(u),Ts(o)){case 2:case 8:o=Es;break;case 32:o=Ta;break;case 268435456:o=bs;break;default:o=Ta}return u=L_.bind(null,n),o=Hi(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&ci(u),n.callbackPriority=2,n.callbackNode=null,2}function L_(n,r){if(Zt!==0&&Zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Fc()&&n.callbackNode!==o)return null;var u=Fe;return u=Ss(n,n===ut?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(__(n,u,r),k_(n,Vn()),n.callbackNode!=null&&n.callbackNode===o?L_.bind(null,n):null)}function U_(n,r){if(Fc())return null;__(n,r,!0)}function sA(){gA(function(){(Je&6)!==0?Hi(Fo,aA):V_()})}function Sm(){return ns===0&&(ns=$o()),ns}function j_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Os(""+n)}function z_(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function oA(n,r,o,u,h){if(r==="submit"&&o&&o.stateNode===h){var p=j_((h[Rt]||null).action),E=u.submitter;E&&(r=(r=E[Rt]||null)?j_(r.formAction):E.getAttribute("formAction"),r!==null&&(p=r,E=null));var S=new Ds("action","action",null,u,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ns!==0){var N=E?z_(h,E):new FormData(h);Hd(o,{pending:!0,data:N,method:h.method,action:p},null,N)}}else typeof p=="function"&&(S.preventDefault(),N=E?z_(h,E):new FormData(h),Hd(o,{pending:!0,data:N,method:h.method,action:p},p,N))},currentTarget:h}]})}}for(var Tm=0;Tm<od.length;Tm++){var wm=od[Tm],lA=wm.toLowerCase(),uA=wm[0].toUpperCase()+wm.slice(1);Jn(lA,"on"+uA)}Jn(_v,"onAnimationEnd"),Jn(Ev,"onAnimationIteration"),Jn(bv,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Rw,"onTransitionRun"),Jn(Cw,"onTransitionStart"),Jn(Iw,"onTransitionCancel"),Jn(Sv,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function B_(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],N=S.instance,Q=S.currentTarget;if(S=S.listener,N!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=Q;try{p(h)}catch(J){Mc(J)}h.currentTarget=null,p=N}else for(E=0;E<u.length;E++){if(S=u[E],N=S.instance,Q=S.currentTarget,S=S.listener,N!==p&&h.isPropagationStopped())break e;p=S,h.currentTarget=Q;try{p(h)}catch(J){Mc(J)}h.currentTarget=null,p=N}}}}function ke(n,r){var o=r[Xo];o===void 0&&(o=r[Xo]=new Set);var u=n+"__bubble";o.has(u)||(H_(r,n,2,!1),o.add(u))}function Am(n,r,o){var u=0;r&&(u|=4),H_(o,n,u,r)}var $c="_reactListening"+Math.random().toString(36).slice(2);function Rm(n){if(!n[$c]){n[$c]=!0,Wo.forEach(function(o){o!=="selectionchange"&&(cA.has(o)||Am(o,!1,n),Am(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[$c]||(r[$c]=!0,Am("selectionchange",!1,r))}}function H_(n,r,o,u){switch(h0(r)){case 2:var h=LA;break;case 8:h=UA;break;default:h=zm}o=h.bind(null,r,o,n),h=void 0,!jn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(r,o,{capture:!0,passive:h}):n.addEventListener(r,o,!0):h!==void 0?n.addEventListener(r,o,{passive:h}):n.addEventListener(r,o,!1)}function Cm(n,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===h)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;S!==null;){if(E=Gi(S),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=p=E;continue e}S=S.parentNode}}u=u.return}Yu(function(){var Q=p,J=Un(o),ne=[];e:{var K=Tv.get(n);if(K!==void 0){var X=Ds,Ae=n;switch(n){case"keypress":if(vi(o)===0)break e;case"keydown":case"keyup":X=ks;break;case"focusin":Ae="focus",X=Ps;break;case"focusout":Ae="blur",X=Ps;break;case"beforeblur":case"afterblur":X=Ps;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=nc;break;case _v:case Ev:case bv:X=Ns;break;case Sv:X=rc;break;case"scroll":case"scrollend":X=Ku;break;case"wheel":X=Ls;break;case"copy":case"cut":case"paste":X=Vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ul;break;case"toggle":case"beforetoggle":X=sc}var be=(r&4)!==0,rt=!be&&(n==="scroll"||n==="scrollend"),F=be?K!==null?K+"Capture":null:K;be=[];for(var B=Q,$;B!==null;){var ee=B;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||F===null||(ee=Va(B,F),ee!=null&&be.push(zl(B,ee,$))),rt)break;B=B.return}0<be.length&&(K=new X(K,Ae,null,o,J),ne.push({event:K,listeners:be}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",K&&o!==Ki&&(Ae=o.relatedTarget||o.fromElement)&&(Gi(Ae)||Ae[kn]))break e;if((X||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Ae=o.relatedTarget||o.toElement,X=Q,Ae=Ae?Gi(Ae):null,Ae!==null&&(rt=l(Ae),be=Ae.tag,Ae!==rt||be!==5&&be!==27&&be!==6)&&(Ae=null)):(X=null,Ae=Q),X!==Ae)){if(be=zn,ee="onMouseLeave",F="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(be=ul,ee="onPointerLeave",F="onPointerEnter",B="pointer"),rt=X==null?K:di(X),$=Ae==null?K:di(Ae),K=new be(ee,B+"leave",X,o,J),K.target=rt,K.relatedTarget=$,ee=null,Gi(J)===Q&&(be=new be(F,B+"enter",Ae,o,J),be.target=$,be.relatedTarget=rt,ee=be),rt=ee,X&&Ae)t:{for(be=X,F=Ae,B=0,$=be;$;$=lo($))B++;for($=0,ee=F;ee;ee=lo(ee))$++;for(;0<B-$;)be=lo(be),B--;for(;0<$-B;)F=lo(F),$--;for(;B--;){if(be===F||F!==null&&be===F.alternate)break t;be=lo(be),F=lo(F)}be=null}else be=null;X!==null&&F_(ne,K,X,be,!1),Ae!==null&&rt!==null&&F_(ne,rt,Ae,be,!0)}}e:{if(K=Q?di(Q):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var de=lv;else if(Vt(K))if(uv)de=Tw;else{de=bw;var Ne=Ew}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&nl(Q.elementType)&&(de=lv):de=Sw;if(de&&(de=de(n,Q))){er(ne,de,o,J);break e}Ne&&Ne(n,K,Q),n==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&Nr(K,"number",K.value)}switch(Ne=Q?di(Q):window,n){case"focusin":(Vt(Ne)||Ne.contentEditable==="true")&&(Us=Ne,rd=Q,hl=null);break;case"focusout":hl=rd=Us=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,vv(ne,o,J);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":vv(ne,o,J)}var ve;if(Ei)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Be?Z(n,o)&&(Se="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(_&&o.locale!=="ko"&&(Be||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Be&&(ve=rl()):(gi=J,Vr="value"in gi?gi.value:gi.textContent,Be=!0)),Ne=Qc(Q,Se),0<Ne.length&&(Se=new ol(Se,n,null,o,J),ne.push({event:Se,listeners:Ne}),ve?Se.data=ve:(ve=ce(o),ve!==null&&(Se.data=ve)))),(ve=v?Nt(n,o):He(n,o))&&(Se=Qc(Q,"onBeforeInput"),0<Se.length&&(Ne=new ol("onBeforeInput","beforeinput",null,o,J),ne.push({event:Ne,listeners:Se}),Ne.data=ve)),oA(ne,n,Q,o,J)}B_(ne,r)})}function zl(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Qc(n,r){for(var o=r+"Capture",u=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Va(n,o),h!=null&&u.unshift(zl(n,h,p)),h=Va(n,r),h!=null&&u.push(zl(n,h,p))),n.tag===3)return u;n=n.return}return[]}function lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function F_(n,r,o,u,h){for(var p=r._reactName,E=[];o!==null&&o!==u;){var S=o,N=S.alternate,Q=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||Q===null||(N=Q,h?(Q=Va(o,p),Q!=null&&E.unshift(zl(o,Q,N))):h||(Q=Va(o,p),Q!=null&&E.push(zl(o,Q,N)))),o=o.return}E.length!==0&&n.push({event:r,listeners:E})}var fA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function q_(n){return(typeof n=="string"?n:""+n).replace(fA,`
`).replace(hA,"")}function G_(n,r){return r=q_(r),q_(n)===r}function Yc(){}function it(n,r,o,u,h,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Ln(n,""+u);break;case"className":mi(n,"class",u);break;case"tabIndex":mi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(n,o,u);break;case"style":tl(n,u,p);break;case"data":if(r!=="object"){mi(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Os(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&it(n,r,"name",h.name,h,null),it(n,r,"formEncType",h.formEncType,h,null),it(n,r,"formMethod",h.formMethod,h,null),it(n,r,"formTarget",h.formTarget,h,null)):(it(n,r,"encType",h.encType,h,null),it(n,r,"method",h.method,h,null),it(n,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Os(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Yc);break;case"onScroll":u!=null&&ke("scroll",n);break;case"onScrollEnd":u!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Os(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Pr(n,"popover",u);break;case"xlinkActuate":Kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Pr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wh.get(o)||o,Pr(n,o,u))}}function Im(n,r,o,u,h,p){switch(o){case"style":tl(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Ln(n,u):(typeof u=="number"||typeof u=="bigint")&&Ln(n,""+u);break;case"onScroll":u!=null&&ke("scroll",n);break;case"onScrollEnd":u!=null&&ke("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ws.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),r=o.slice(2,h?o.length-7:void 0),p=n[Rt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(r,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,h);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Pr(n,o,u)}}}function Jt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:it(n,r,p,E,o,null)}}h&&it(n,r,"srcSet",o.srcSet,o,null),u&&it(n,r,"src",o.src,o,null);return;case"input":ke("invalid",n);var S=p=E=h=null,N=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":h=J;break;case"type":E=J;break;case"checked":N=J;break;case"defaultChecked":Q=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:it(n,r,u,J,o,null)}}Ma(n,p,S,N,Q,E,h,!1),Is(n);return;case"select":ke("invalid",n),u=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(S=o[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:it(n,r,h,S,o,null)}r=p,o=E,n.multiple=!!u,r!=null?Yi(n,!!u,r,!1):o!=null&&Yi(n,!!u,o,!0);return;case"textarea":ke("invalid",n),p=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:it(n,r,E,S,o,null)}Pa(n,u,h,p),Is(n);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(n,r,N,u,o,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(u=0;u<jl.length;u++)ke(jl[u],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:it(n,r,Q,u,o,null)}return;default:if(nl(r)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&Im(n,r,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&it(n,r,S,u,o,null))}function dA(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,S=null,N=null,Q=null,J=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(X)||it(n,r,X,null,u,ne)}}for(var K in u){var X=u[K];if(ne=o[K],u.hasOwnProperty(K)&&(X!=null||ne!=null))switch(K){case"type":p=X;break;case"name":h=X;break;case"checked":Q=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,r));break;default:X!==ne&&it(n,r,K,X,u,ne)}}An(n,E,S,N,Q,J,p,h);return;case"select":X=E=S=K=null;for(p in o)if(N=o[p],o.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":X=N;default:u.hasOwnProperty(p)||it(n,r,p,null,u,N)}for(h in u)if(p=u[h],N=o[h],u.hasOwnProperty(h)&&(p!=null||N!=null))switch(h){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==N&&it(n,r,h,p,u,N)}r=S,o=E,u=X,K!=null?Yi(n,!!o,K,!1):!!u!=!!o&&(r!=null?Yi(n,!!o,r,!0):Yi(n,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(S in o)if(h=o[S],o.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(n,r,S,null,u,h)}for(E in u)if(h=u[E],p=o[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==p&&it(n,r,E,h,u,p)}tt(n,K,X);return;case"option":for(var Ae in o)if(K=o[Ae],o.hasOwnProperty(Ae)&&K!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:it(n,r,Ae,null,u,K)}for(N in u)if(K=u[N],X=o[N],u.hasOwnProperty(N)&&K!==X&&(K!=null||X!=null))switch(N){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:it(n,r,N,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)K=o[be],o.hasOwnProperty(be)&&K!=null&&!u.hasOwnProperty(be)&&it(n,r,be,null,u,K);for(Q in u)if(K=u[Q],X=o[Q],u.hasOwnProperty(Q)&&K!==X&&(K!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:it(n,r,Q,K,u,X)}return;default:if(nl(r)){for(var rt in o)K=o[rt],o.hasOwnProperty(rt)&&K!==void 0&&!u.hasOwnProperty(rt)&&Im(n,r,rt,void 0,u,K);for(J in u)K=u[J],X=o[J],!u.hasOwnProperty(J)||K===X||K===void 0&&X===void 0||Im(n,r,J,K,u,X);return}}for(var F in o)K=o[F],o.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&it(n,r,F,null,u,K);for(ne in u)K=u[ne],X=o[ne],!u.hasOwnProperty(ne)||K===X||K==null&&X==null||it(n,r,ne,K,u,X)}var Om=null,Dm=null;function Kc(n){return n.nodeType===9?n:n.ownerDocument}function $_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function xm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Mm=null;function mA(){var n=window.event;return n&&n.type==="popstate"?n===Mm?!1:(Mm=n,!0):(Mm=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,pA=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(n){return K_.resolve(null).then(n).catch(vA)}:Y_;function vA(n){setTimeout(function(){throw n})}function Wr(n){return n==="head"}function X_(n,r){var o=r,u=0,h=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Bl(E.documentElement),o&2&&Bl(E.body),o&4)for(o=E.head,Bl(o),E=o.firstChild;E;){var S=E.nextSibling,N=E.nodeName;E[Ia]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(h===0){n.removeChild(p),Kl(r);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Kl(r)}function Pm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Pm(o),Mr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function yA(n,r,o,u){for(;n.nodeType===1;){var h=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ia])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ti(n.nextSibling),n===null)break}return null}function _A(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ti(n.nextSibling),n===null))return null;return n}function Nm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function EA(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ti(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Vm=null;function W_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function Z_(n,r,o){switch(r=Kc(o),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Bl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Mr(n)}var Qn=new Map,J_=new Set;function Xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var dr=ue.d;ue.d={f:bA,r:SA,D:TA,C:wA,L:AA,m:RA,X:IA,S:CA,M:OA};function bA(){var n=dr.f(),r=Bc();return n||r}function SA(n){var r=hi(n);r!==null&&r.tag===5&&r.type==="form"?_y(r):dr.r(n)}var uo=typeof document>"u"?null:document;function e0(n,r,o){var u=uo;if(u&&typeof r=="string"&&r){var h=Ct(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),J_.has(h)||(J_.add(h),n={rel:n,crossOrigin:o,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),Jt(r,"link",n),St(r),u.head.appendChild(r)))}}function TA(n){dr.D(n),e0("dns-prefetch",n,null)}function wA(n,r){dr.C(n,r),e0("preconnect",n,r)}function AA(n,r,o){dr.L(n,r,o);var u=uo;if(u&&n&&r){var h='link[rel="preload"][as="'+Ct(r)+'"]';r==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Ct(o.imageSizes)+'"]')):h+='[href="'+Ct(n)+'"]';var p=h;switch(r){case"style":p=co(n);break;case"script":p=fo(n)}Qn.has(p)||(n=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Qn.set(p,n),u.querySelector(h)!==null||r==="style"&&u.querySelector(Hl(p))||r==="script"&&u.querySelector(Fl(p))||(r=u.createElement("link"),Jt(r,"link",n),St(r),u.head.appendChild(r)))}}function RA(n,r){dr.m(n,r);var o=uo;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Ct(u)+'"][href="'+Ct(n)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=fo(n)}if(!Qn.has(p)&&(n=y({rel:"modulepreload",href:n},r),Qn.set(p,n),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fl(p)))return}u=o.createElement("link"),Jt(u,"link",n),St(u),o.head.appendChild(u)}}}function CA(n,r,o){dr.S(n,r,o);var u=uo;if(u&&n){var h=mn(u).hoistableStyles,p=co(n);r=r||"default";var E=h.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Hl(p)))S.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Qn.get(p))&&km(n,o);var N=E=u.createElement("link");St(N),Jt(N,"link",n),N._p=new Promise(function(Q,J){N.onload=Q,N.onerror=J}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Wc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},h.set(p,E)}}}function IA(n,r){dr.X(n,r);var o=uo;if(o&&n){var u=mn(o).hoistableScripts,h=fo(n),p=u.get(h);p||(p=o.querySelector(Fl(h)),p||(n=y({src:n,async:!0},r),(r=Qn.get(h))&&Lm(n,r),p=o.createElement("script"),St(p),Jt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function OA(n,r){dr.M(n,r);var o=uo;if(o&&n){var u=mn(o).hoistableScripts,h=fo(n),p=u.get(h);p||(p=o.querySelector(Fl(h)),p||(n=y({src:n,async:!0,type:"module"},r),(r=Qn.get(h))&&Lm(n,r),p=o.createElement("script"),St(p),Jt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function t0(n,r,o,u){var h=(h=ge.current)?Xc(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=co(o.href),o=mn(h).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=co(o.href);var p=mn(h).hoistableStyles,E=p.get(n);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=h.querySelector(Hl(n)))&&!p._p&&(E.instance=p,E.state.loading=5),Qn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Qn.set(n,o),p||DA(h,n,o,E.state))),r&&u===null)throw Error(a(528,""));return E}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fo(o),o=mn(h).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function co(n){return'href="'+Ct(n)+'"'}function Hl(n){return'link[rel="stylesheet"]['+n+"]"}function n0(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function DA(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Jt(r,"link",o),St(r),n.head.appendChild(r))}function fo(n){return'[src="'+Ct(n)+'"]'}function Fl(n){return"script[async]"+n}function i0(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Ct(o.href)+'"]');if(u)return r.instance=u,St(u),u;var h=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),St(u),Jt(u,"style",h),Wc(u,o.precedence,n),r.instance=u;case"stylesheet":h=co(o.href);var p=n.querySelector(Hl(h));if(p)return r.state.loading|=4,r.instance=p,St(p),p;u=n0(o),(h=Qn.get(h))&&km(u,h),p=(n.ownerDocument||n).createElement("link"),St(p);var E=p;return E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),Jt(p,"link",u),r.state.loading|=4,Wc(p,o.precedence,n),r.instance=p;case"script":return p=fo(o.src),(h=n.querySelector(Fl(p)))?(r.instance=h,St(h),h):(u=o,(h=Qn.get(p))&&(u=y({},o),Lm(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),St(h),Jt(h,"link",u),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Wc(u,o.precedence,n));return r.instance}function Wc(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function km(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Lm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Zc=null;function r0(n,r,o){if(Zc===null){var u=new Map,h=Zc=new Map;h.set(o,u)}else h=Zc,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),h=0;h<o.length;h++){var p=o[h];if(!(p[Ia]||p[Pt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(r)||"";E=n+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function a0(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function xA(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function s0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ql=null;function MA(){}function PA(n,r,o){if(ql===null)throw Error(a(475));var u=ql;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=co(o.href),p=n.querySelector(Hl(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Jc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=p,St(p);return}p=n.ownerDocument||n,o=n0(o),(h=Qn.get(h))&&km(o,h),p=p.createElement("link"),St(p);var E=p;E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),Jt(p,"link",o),r.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Jc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function NA(){if(ql===null)throw Error(a(475));var n=ql;return n.stylesheets&&n.count===0&&Um(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Um(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)Um(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ef=null;function Um(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ef=new Map,r.forEach(VA,n),ef=null,Jc.call(n))}function VA(n,r){if(!(r.state.loading&4)){var o=ef.get(n);if(o)var u=o.get(null);else{o=new Map,ef.set(n,o);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=r.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,h),o.set(E,h),this.count++,u=Jc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Gl={$$typeof:q,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function kA(n,r,o,u,h,p,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function o0(n,r,o,u,h,p,E,S,N,Q,J,ne){return n=new kA(n,r,o,E,S,N,Q,ne),r=1,p===!0&&(r|=24),p=Cn(3,null,null,r),n.current=p,p.stateNode=n,r=_d(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},Td(p),n}function l0(n){return n?(n=Hs,n):Hs}function u0(n,r,o,u,h,p){h=l0(h),u.context===null?u.context=h:u.pendingContext=h,u=Ur(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=jr(n,u,r),o!==null&&(Mn(o,n,r),bl(o,n,r))}function c0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function jm(n,r){c0(n,r),(n=n.alternate)&&c0(n,r)}function f0(n){if(n.tag===13){var r=Bs(n,67108864);r!==null&&Mn(r,n,67108864),jm(n,67108864)}}var tf=!0;function LA(n,r,o,u){var h=W.T;W.T=null;var p=ue.p;try{ue.p=2,zm(n,r,o,u)}finally{ue.p=p,W.T=h}}function UA(n,r,o,u){var h=W.T;W.T=null;var p=ue.p;try{ue.p=8,zm(n,r,o,u)}finally{ue.p=p,W.T=h}}function zm(n,r,o,u){if(tf){var h=Bm(u);if(h===null)Cm(n,r,u,nf,o),d0(n,u);else if(zA(h,n,r,o,u))u.stopPropagation();else if(d0(n,u),r&4&&-1<jA.indexOf(n)){for(;h!==null;){var p=hi(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Xn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var N=1<<31-an(E);S.entanglements[1]|=N,E&=~N}Ri(p),(Je&6)===0&&(jc=Vn()+500,Ul(0))}}break;case 13:S=Bs(p,2),S!==null&&Mn(S,p,2),Bc(),jm(p,2)}if(p=Bm(u),p===null&&Cm(n,r,u,nf,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Cm(n,r,u,null,o)}}function Bm(n){return n=Un(n),Hm(n)}var nf=null;function Hm(n){if(nf=null,n=Gi(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=f(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return nf=n,null}function h0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gh()){case Fo:return 2;case Es:return 8;case Ta:case $h:return 32;case bs:return 268435456;default:return 32}default:return 32}}var Fm=!1,Zr=null,Jr=null,ea=null,$l=new Map,Ql=new Map,ta=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d0(n,r){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":$l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(r.pointerId)}}function Yl(n,r,o,u,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=hi(r),r!==null&&f0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function zA(n,r,o,u,h){switch(r){case"focusin":return Zr=Yl(Zr,n,r,o,u,h),!0;case"dragenter":return Jr=Yl(Jr,n,r,o,u,h),!0;case"mouseover":return ea=Yl(ea,n,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return $l.set(p,Yl($l.get(p)||null,n,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Ql.set(p,Yl(Ql.get(p)||null,n,r,o,u,h)),!0}return!1}function m0(n){var r=Gi(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=f(o),r!==null){n.blockedOn=r,Bu(n.priority,function(){if(o.tag===13){var u=xn();u=Or(u);var h=Bs(o,u);h!==null&&Mn(h,o,u),jm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rf(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Bm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ki=u,o.target.dispatchEvent(u),Ki=null}else return r=hi(o),r!==null&&f0(r),n.blockedOn=o,!1;r.shift()}return!0}function p0(n,r,o){rf(n)&&o.delete(r)}function BA(){Fm=!1,Zr!==null&&rf(Zr)&&(Zr=null),Jr!==null&&rf(Jr)&&(Jr=null),ea!==null&&rf(ea)&&(ea=null),$l.forEach(p0),Ql.forEach(p0)}function af(n,r){n.blockedOn===r&&(n.blockedOn=null,Fm||(Fm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,BA)))}var sf=null;function g0(n){sf!==n&&(sf=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){sf===n&&(sf=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],h=n[r+2];if(typeof u!="function"){if(Hm(u||o)===null)continue;break}var p=hi(o);p!==null&&(n.splice(r,3),r-=3,Hd(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Kl(n){function r(N){return af(N,n)}Zr!==null&&af(Zr,n),Jr!==null&&af(Jr,n),ea!==null&&af(ea,n),$l.forEach(r),Ql.forEach(r);for(var o=0;o<ta.length;o++){var u=ta[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ta.length&&(o=ta[0],o.blockedOn===null);)m0(o),o.blockedOn===null&&ta.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],E=h[Rt]||null;if(typeof p=="function")E||g0(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[Rt]||null)S=E.formAction;else if(Hm(h)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),g0(o)}}}function qm(n){this._internalRoot=n}of.prototype.render=qm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,u=xn();u0(o,u,n,r,null,null)},of.prototype.unmount=qm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;u0(n.current,2,null,n,null,null),Bc(),r[kn]=null}};function of(n){this._internalRoot=n}of.prototype.unstable_scheduleHydration=function(n){if(n){var r=Dr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<ta.length&&r!==0&&r<ta[o].priority;o++);ta.splice(o,0,n),o===0&&m0(n)}};var v0=e.version;if(v0!=="19.1.1")throw Error(a(527,v0,"19.1.1"));ue.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=d(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var HA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{yt=lf.inject(HA),Ze=lf}catch{}}return Wl.createRoot=function(n,r){if(!s(n))throw Error(a(299));var o=!1,u="",h=Py,p=Ny,E=Vy,S=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=o0(n,1,!1,null,null,o,u,h,p,E,S,null),n[kn]=r.current,Rm(n),new qm(r)},Wl.hydrateRoot=function(n,r,o){if(!s(n))throw Error(a(299));var u=!1,h="",p=Py,E=Ny,S=Vy,N=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),r=o0(n,1,!0,r,o??null,u,h,p,E,S,N,Q),r.context=l0(null),o=r.current,u=xn(),u=Or(u),h=Ur(u),h.callback=null,jr(o,h,u),o=u,r.current.lanes=o,qi(r,o),Ri(r),n[kn]=r.current,Rm(n),new of(r)},Wl.version="19.1.1",Wl}var I0;function JA(){if(I0)return Qm.exports;I0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Qm.exports=ZA(),Qm.exports}var eR=JA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O0="popstate";function tR(i={}){function e(s,l){let{pathname:f="/",search:m="",hash:d=""}=ms(s.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ep("",{pathname:f,search:m,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let f=s.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let d=s.location.href,g=d.indexOf("#");m=g===-1?d:d.slice(0,g)}return m+"#"+(typeof l=="string"?l:fu(l))}function a(s,l){oi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return iR(e,t,a,i)}function gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nR(){return Math.random().toString(36).substring(2,10)}function D0(i,e){return{usr:i.state,key:i.key,idx:e}}function Ep(i,e,t=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ms(e):e,state:t,key:e&&e.key||a||nR()}}function fu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ms(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function iR(i,e,t,a={}){let{window:s=document.defaultView,v5Compat:l=!1}=a,f=s.history,m="POP",d=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function b(){m="POP";let A=y(),M=A==null?null:A-g;g=A,d&&d({action:m,location:P.location,delta:M})}function T(A,M){m="PUSH";let Y=Ep(P.location,A,M);t&&t(Y,A),g=y()+1;let q=D0(Y,g),ae=P.createHref(Y);try{f.pushState(q,"",ae)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(ae)}l&&d&&d({action:m,location:P.location,delta:1})}function x(A,M){m="REPLACE";let Y=Ep(P.location,A,M);t&&t(Y,A),g=y();let q=D0(Y,g),ae=P.createHref(Y);f.replaceState(q,"",ae),l&&d&&d({action:m,location:P.location,delta:0})}function C(A){return rR(A)}let P={get action(){return m},get location(){return i(s,f)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(O0,b),d=A,()=>{s.removeEventListener(O0,b),d=null}},createHref(A){return e(s,A)},createURL:C,encodeLocation(A){let M=C(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:T,replace:x,go(A){return f.go(A)}};return P}function rR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:fu(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function jb(i,e,t="/"){return aR(i,e,t,!1)}function aR(i,e,t,a){let s=typeof e=="string"?ms(e):e,l=br(s.pathname||"/",t);if(l==null)return null;let f=zb(i);sR(f);let m=null;for(let d=0;m==null&&d<f.length;++d){let g=vR(l);m=pR(f[d],g,a)}return m}function zb(i,e=[],t=[],a=""){let s=(l,f,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};d.relativePath.startsWith("/")&&(gt(d.relativePath.startsWith(a),`Absolute route path "${d.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(a.length));let g=_r([a,d.relativePath]),y=t.concat(d);l.children&&l.children.length>0&&(gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),zb(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:dR(g,l.index),routesMeta:y})};return i.forEach((l,f)=>{if(l.path===""||!l.path?.includes("?"))s(l,f);else for(let m of Bb(l.path))s(l,f,m)}),e}function Bb(i){let e=i.split("/");if(e.length===0)return[];let[t,...a]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return s?[l,""]:[l];let f=Bb(a.join("/")),m=[];return m.push(...f.map(d=>d===""?l:[l,d].join("/"))),s&&m.push(...f),m.map(d=>i.startsWith("/")&&d===""?"/":d)}function sR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:mR(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var oR=/^:[\w-]+$/,lR=3,uR=2,cR=1,fR=10,hR=-2,x0=i=>i==="*";function dR(i,e){let t=i.split("/"),a=t.length;return t.some(x0)&&(a+=hR),e&&(a+=uR),t.filter(s=>!x0(s)).reduce((s,l)=>s+(oR.test(l)?lR:l===""?cR:fR),a)}function mR(i,e){return i.length===e.length&&i.slice(0,-1).every((a,s)=>a===e[s])?i[i.length-1]-e[e.length-1]:0}function pR(i,e,t=!1){let{routesMeta:a}=i,s={},l="/",f=[];for(let m=0;m<a.length;++m){let d=a[m],g=m===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=Uf({path:d.relativePath,caseSensitive:d.caseSensitive,end:g},y),T=d.route;if(!b&&g&&t&&!a[a.length-1].route.index&&(b=Uf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!b)return null;Object.assign(s,b.params),f.push({params:s,pathname:_r([l,b.pathname]),pathnameBase:bR(_r([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=_r([l,b.pathnameBase]))}return f}function Uf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,a]=gR(i.path,i.caseSensitive,i.end),s=e.match(t);if(!s)return null;let l=s[0],f=l.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:b},T)=>{if(y==="*"){let C=m[T]||"";f=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const x=m[T];return b&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:f,pattern:i}}function gR(i,e=!1,t=!0){oi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,d)=>(a.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function vR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=i.charAt(t);return a&&a!=="/"?null:i.slice(t)||"/"}function yR(i,e="/"){let{pathname:t,search:a="",hash:s=""}=typeof i=="string"?ms(i):i;return{pathname:t?t.startsWith("/")?t:_R(t,e):e,search:SR(a),hash:TR(s)}}function _R(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Wm(i,e,t,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ER(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hb(i){let e=ER(i);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Fb(i,e,t,a=!1){let s;typeof i=="string"?s=ms(i):(s={...i},gt(!s.pathname||!s.pathname.includes("?"),Wm("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Wm("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Wm("#","search","hash",s)));let l=i===""||s.pathname==="",f=l?"/":s.pathname,m;if(f==null)m=t;else{let b=e.length-1;if(!a&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),b-=1;s.pathname=T.join("/")}m=b>=0?e[b]:"/"}let d=yR(s,m),g=f&&f!=="/"&&f.endsWith("/"),y=(l||f===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(g||y)&&(d.pathname+="/"),d}var _r=i=>i.join("/").replace(/\/\/+/g,"/"),bR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),SR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,TR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function wR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qb=["POST","PUT","PATCH","DELETE"];new Set(qb);var AR=["GET",...qb];new Set(AR);var No=V.createContext(null);No.displayName="DataRouter";var gh=V.createContext(null);gh.displayName="DataRouterState";V.createContext(!1);var Gb=V.createContext({isTransitioning:!1});Gb.displayName="ViewTransition";var RR=V.createContext(new Map);RR.displayName="Fetchers";var CR=V.createContext(null);CR.displayName="Await";var zi=V.createContext(null);zi.displayName="Navigation";var Tu=V.createContext(null);Tu.displayName="Location";var Bi=V.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var ng=V.createContext(null);ng.displayName="RouteError";function IR(i,{relative:e}={}){gt(wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=V.useContext(zi),{hash:s,pathname:l,search:f}=Au(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:_r([t,l])),a.createHref({pathname:m,search:f,hash:s})}function wu(){return V.useContext(Tu)!=null}function ps(){return gt(wu(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Tu).location}var $b="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qb(i){V.useContext(zi).static||V.useLayoutEffect(i)}function OR(){let{isDataRoute:i}=V.useContext(Bi);return i?qR():DR()}function DR(){gt(wu(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(No),{basename:e,navigator:t}=V.useContext(zi),{matches:a}=V.useContext(Bi),{pathname:s}=ps(),l=JSON.stringify(Hb(a)),f=V.useRef(!1);return Qb(()=>{f.current=!0}),V.useCallback((d,g={})=>{if(oi(f.current,$b),!f.current)return;if(typeof d=="number"){t.go(d);return}let y=Fb(d,JSON.parse(l),s,g.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:_r([e,y.pathname])),(g.replace?t.replace:t.push)(y,g.state,g)},[e,t,l,s,i])}var xR=V.createContext(null);function MR(i){let e=V.useContext(Bi).outlet;return e&&V.createElement(xR.Provider,{value:i},e)}function Au(i,{relative:e}={}){let{matches:t}=V.useContext(Bi),{pathname:a}=ps(),s=JSON.stringify(Hb(t));return V.useMemo(()=>Fb(i,JSON.parse(s),a,e==="path"),[i,s,a,e])}function PR(i,e){return Yb(i,e)}function Yb(i,e,t,a){gt(wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=V.useContext(zi),{matches:l}=V.useContext(Bi),f=l[l.length-1],m=f?f.params:{},d=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let M=y&&y.path||"";Kb(d,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let b=ps(),T;if(e){let M=typeof e=="string"?ms(e):e;gt(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=b;let x=T.pathname||"/",C=x;if(g!=="/"){let M=g.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=jb(i,{pathname:C});oi(y||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),oi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=UR(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},m,M.params),pathname:_r([g,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:_r([g,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,a);return e&&A?V.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},A):A}function NR(){let i=FR(),e=wR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,f)}var VR=V.createElement(NR,null),kR=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?V.createElement(Bi.Provider,{value:this.props.routeContext},V.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LR({routeContext:i,match:e,children:t}){let a=V.useContext(No);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Bi.Provider,{value:i},t)}function UR(i,e=[],t=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let s=i,l=t?.errors;if(l!=null){let d=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);gt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let f=!1,m=-1;if(t)for(let d=0;d<s.length;d++){let g=s[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=d),g.route.id){let{loaderData:y,errors:b}=t,T=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){f=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((d,g,y)=>{let b,T=!1,x=null,C=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||VR,f&&(m<0&&y===0?(Kb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):m===y&&(T=!0,C=g.route.hydrateFallbackElement||null)));let P=e.concat(s.slice(0,y+1)),A=()=>{let M;return b?M=x:T?M=C:g.route.Component?M=V.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=d,V.createElement(LR,{match:g,routeContext:{outlet:d,matches:P,isDataRoute:t!=null},children:M})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?V.createElement(kR,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:A(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):A()},null)}function ig(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jR(i){let e=V.useContext(No);return gt(e,ig(i)),e}function zR(i){let e=V.useContext(gh);return gt(e,ig(i)),e}function BR(i){let e=V.useContext(Bi);return gt(e,ig(i)),e}function rg(i){let e=BR(i),t=e.matches[e.matches.length-1];return gt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function HR(){return rg("useRouteId")}function FR(){let i=V.useContext(ng),e=zR("useRouteError"),t=rg("useRouteError");return i!==void 0?i:e.errors?.[t]}function qR(){let{router:i}=jR("useNavigate"),e=rg("useNavigate"),t=V.useRef(!1);return Qb(()=>{t.current=!0}),V.useCallback(async(s,l={})=>{oi(t.current,$b),t.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:e,...l}))},[i,e])}var M0={};function Kb(i,e,t){!e&&!M0[i]&&(M0[i]=!0,oi(!1,t))}V.memo(GR);function GR({routes:i,future:e,state:t}){return Yb(i,void 0,t,e)}function Xb(i){return MR(i.context)}function mr(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $R({basename:i="/",children:e=null,location:t,navigationType:a="POP",navigator:s,static:l=!1}){gt(!wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=V.useMemo(()=>({basename:f,navigator:s,static:l,future:{}}),[f,s,l]);typeof t=="string"&&(t=ms(t));let{pathname:d="/",search:g="",hash:y="",state:b=null,key:T="default"}=t,x=V.useMemo(()=>{let C=br(d,f);return C==null?null:{location:{pathname:C,search:g,hash:y,state:b,key:T},navigationType:a}},[f,d,g,y,b,T,a]);return oi(x!=null,`<Router basename="${f}"> is not able to match the URL "${d}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:V.createElement(zi.Provider,{value:m},V.createElement(Tu.Provider,{children:e,value:x}))}function QR({children:i,location:e}){return PR(bp(i),e)}function bp(i,e=[]){let t=[];return V.Children.forEach(i,(a,s)=>{if(!V.isValidElement(a))return;let l=[...e,s];if(a.type===V.Fragment){t.push.apply(t,bp(a.props.children,l));return}gt(a.type===mr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=bp(a.props.children,l)),t.push(f)}),t}var Sf="get",Tf="application/x-www-form-urlencoded";function vh(i){return i!=null&&typeof i.tagName=="string"}function YR(i){return vh(i)&&i.tagName.toLowerCase()==="button"}function KR(i){return vh(i)&&i.tagName.toLowerCase()==="form"}function XR(i){return vh(i)&&i.tagName.toLowerCase()==="input"}function WR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function ZR(i,e){return i.button===0&&(!e||e==="_self")&&!WR(i)}var uf=null;function JR(){if(uf===null)try{new FormData(document.createElement("form"),0),uf=!1}catch{uf=!0}return uf}var eC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zm(i){return i!=null&&!eC.has(i)?(oi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):i}function tC(i,e){let t,a,s,l,f;if(KR(i)){let m=i.getAttribute("action");a=m?br(m,e):null,t=i.getAttribute("method")||Sf,s=Zm(i.getAttribute("enctype"))||Tf,l=new FormData(i)}else if(YR(i)||XR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=i.getAttribute("formaction")||m.getAttribute("action");if(a=d?br(d,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Sf,s=Zm(i.getAttribute("formenctype"))||Zm(m.getAttribute("enctype"))||Tf,l=new FormData(m,i),!JR()){let{name:g,type:y,value:b}=i;if(y==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sf,a=null,s=Tf,f=i}return l&&s==="text/plain"&&(f=l,l=void 0),{action:a,method:t.toLowerCase(),encType:s,formData:l,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ag(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function nC(i,e,t){let a=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&br(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function iC(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function aC(i,e,t){let a=await Promise.all(i.map(async s=>{let l=e.routes[s.route.id];if(l){let f=await iC(l,t);return f.links?f.links():[]}return[]}));return uC(a.flat(1).filter(rC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function P0(i,e,t,a,s,l){let f=(d,g)=>t[g]?d.route.id!==t[g].route.id:!0,m=(d,g)=>t[g].pathname!==d.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,g)=>f(d,g)||m(d,g)):l==="data"?e.filter((d,g)=>{let y=a.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(f(d,g)||m(d,g))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function sC(i,e,{includeHydrateFallback:t}={}){return oC(i.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function oC(i){return[...new Set(i)]}function lC(i){let e={},t=Object.keys(i).sort();for(let a of t)e[a]=i[a];return e}function uC(i,e){let t=new Set;return new Set(e),i.reduce((a,s)=>{let l=JSON.stringify(lC(s));return t.has(l)||(t.add(l),a.push({key:l,link:s})),a},[])}function Wb(){let i=V.useContext(No);return ag(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function cC(){let i=V.useContext(gh);return ag(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var sg=V.createContext(void 0);sg.displayName="FrameworkContext";function Zb(){let i=V.useContext(sg);return ag(i,"You must render this element inside a <HydratedRouter> element"),i}function fC(i,e){let t=V.useContext(sg),[a,s]=V.useState(!1),[l,f]=V.useState(!1),{onFocus:m,onBlur:d,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=e,T=V.useRef(null);V.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let P=M=>{M.forEach(Y=>{f(Y.isIntersecting)})},A=new IntersectionObserver(P,{threshold:.5});return T.current&&A.observe(T.current),()=>{A.disconnect()}}},[i]),V.useEffect(()=>{if(a){let P=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(P)}}},[a]);let x=()=>{s(!0)},C=()=>{s(!1),f(!1)};return t?i!=="intent"?[l,T,{}]:[l,T,{onFocus:Zl(m,x),onBlur:Zl(d,C),onMouseEnter:Zl(g,x),onMouseLeave:Zl(y,C),onTouchStart:Zl(b,x)}]:[!1,T,{}]}function Zl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function hC({page:i,...e}){let{router:t}=Wb(),a=V.useMemo(()=>jb(t.routes,i,t.basename),[t.routes,i,t.basename]);return a?V.createElement(mC,{page:i,matches:a,...e}):null}function dC(i){let{manifest:e,routeModules:t}=Zb(),[a,s]=V.useState([]);return V.useEffect(()=>{let l=!1;return aC(i,e,t).then(f=>{l||s(f)}),()=>{l=!0}},[i,e,t]),a}function mC({page:i,matches:e,...t}){let a=ps(),{manifest:s,routeModules:l}=Zb(),{basename:f}=Wb(),{loaderData:m,matches:d}=cC(),g=V.useMemo(()=>P0(i,e,d,s,a,"data"),[i,e,d,s,a]),y=V.useMemo(()=>P0(i,e,d,s,a,"assets"),[i,e,d,s,a]),b=V.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let C=new Set,P=!1;if(e.forEach(M=>{let Y=s.routes[M.route.id];!Y||!Y.hasLoader||(!g.some(q=>q.route.id===M.route.id)&&M.route.id in m&&l[M.route.id]?.shouldRevalidate||Y.hasClientLoader?P=!0:C.add(M.route.id))}),C.size===0)return[];let A=nC(i,f,"data");return P&&C.size>0&&A.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[f,m,a,s,g,e,i,l]),T=V.useMemo(()=>sC(y,s),[y,s]),x=dC(y);return V.createElement(V.Fragment,null,b.map(C=>V.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>V.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),x.map(({key:C,link:P})=>V.createElement("link",{key:C,...P})))}function pC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Jb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jb&&(window.__reactRouterVersion="7.7.1")}catch{}function gC({basename:i,children:e,window:t}){let a=V.useRef();a.current==null&&(a.current=tR({window:t,v5Compat:!0}));let s=a.current,[l,f]=V.useState({action:s.action,location:s.location}),m=V.useCallback(d=>{V.startTransition(()=>f(d))},[f]);return V.useLayoutEffect(()=>s.listen(m),[s,m]),V.createElement($R,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:s})}var e1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=V.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:s,reloadDocument:l,replace:f,state:m,target:d,to:g,preventScrollReset:y,viewTransition:b,...T},x){let{basename:C}=V.useContext(zi),P=typeof g=="string"&&e1.test(g),A,M=!1;if(typeof g=="string"&&P&&(A=g,Jb))try{let D=new URL(window.location.href),U=g.startsWith("//")?new URL(D.protocol+g):new URL(g),z=br(U.pathname,C);U.origin===D.origin&&z!=null?g=z+U.search+U.hash:M=!0}catch{oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=IR(g,{relative:s}),[q,ae,j]=fC(a,T),te=EC(g,{replace:f,state:m,target:d,preventScrollReset:y,relative:s,viewTransition:b});function I(D){e&&e(D),D.defaultPrevented||te(D)}let R=V.createElement("a",{...T,...j,href:A||Y,onClick:M||l?e:I,ref:pC(x,ae),target:d,"data-discover":!P&&t==="render"?"true":void 0});return q&&!P?V.createElement(V.Fragment,null,R,V.createElement(hC,{page:Y})):R});ra.displayName="Link";var vC=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:s=!1,style:l,to:f,viewTransition:m,children:d,...g},y){let b=Au(f,{relative:g.relative}),T=ps(),x=V.useContext(gh),{navigator:C,basename:P}=V.useContext(zi),A=x!=null&&AC(b)&&m===!0,M=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,Y=T.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),q=q?q.toLowerCase():null,M=M.toLowerCase()),q&&P&&(q=br(q,P)||q);const ae=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let j=Y===M||!s&&Y.startsWith(M)&&Y.charAt(ae)==="/",te=q!=null&&(q===M||!s&&q.startsWith(M)&&q.charAt(M.length)==="/"),I={isActive:j,isPending:te,isTransitioning:A},R=j?e:void 0,D;typeof a=="function"?D=a(I):D=[a,j?"active":null,te?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(I):l;return V.createElement(ra,{...g,"aria-current":R,className:D,ref:y,style:U,to:f,viewTransition:m},typeof d=="function"?d(I):d)});vC.displayName="NavLink";var yC=V.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:s,state:l,method:f=Sf,action:m,onSubmit:d,relative:g,preventScrollReset:y,viewTransition:b,...T},x)=>{let C=TC(),P=wC(m,{relative:g}),A=f.toLowerCase()==="get"?"get":"post",M=typeof m=="string"&&e1.test(m),Y=q=>{if(d&&d(q),q.defaultPrevented)return;q.preventDefault();let ae=q.nativeEvent.submitter,j=ae?.getAttribute("formmethod")||f;C(ae||q.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:s,state:l,relative:g,preventScrollReset:y,viewTransition:b})};return V.createElement("form",{ref:x,method:A,action:P,onSubmit:a?d:Y,...T,"data-discover":!M&&i==="render"?"true":void 0})});yC.displayName="Form";function _C(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t1(i){let e=V.useContext(No);return gt(e,_C(i)),e}function EC(i,{target:e,replace:t,state:a,preventScrollReset:s,relative:l,viewTransition:f}={}){let m=OR(),d=ps(),g=Au(i,{relative:l});return V.useCallback(y=>{if(ZR(y,e)){y.preventDefault();let b=t!==void 0?t:fu(d)===fu(g);m(i,{replace:b,state:a,preventScrollReset:s,relative:l,viewTransition:f})}},[d,m,g,t,a,e,i,s,l,f])}var bC=0,SC=()=>`__${String(++bC)}__`;function TC(){let{router:i}=t1("useSubmit"),{basename:e}=V.useContext(zi),t=HR();return V.useCallback(async(a,s={})=>{let{action:l,method:f,encType:m,formData:d,body:g}=tC(a,e);if(s.navigate===!1){let y=s.fetcherKey||SC();await i.fetch(y,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||f,formEncType:s.encType||m,flushSync:s.flushSync})}else await i.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||f,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,e,t])}function wC(i,{relative:e}={}){let{basename:t}=V.useContext(zi),a=V.useContext(Bi);gt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),l={...Au(i||".",{relative:e})},f=ps();if(i==null){l.search=f.search;let m=new URLSearchParams(l.search),d=m.getAll("index");if(d.some(y=>y==="")){m.delete("index"),d.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:_r([t,l.pathname])),fu(l)}function AC(i,{relative:e}={}){let t=V.useContext(Gb);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=t1("useViewTransitionState"),s=Au(i,{relative:e});if(!t.isTransitioning)return!1;let l=br(t.currentLocation.pathname,a)||t.currentLocation.pathname,f=br(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Uf(s.pathname,f)!=null||Uf(s.pathname,l)!=null}var RC=Ub();function $t(i){let e="custom-button";return i.className&&(e+=` ${i.className}`),O.jsx("button",{className:e,onClick:i.onClick,children:O.jsx("p",{children:i.label||"Click"})})}const n1=V.createContext(void 0),i1=()=>{const i=V.useContext(n1);if(!i)throw new Error("useAuth must be used inside an AuthProvider");return i};function CC(){const{signOut:i}=i1();return O.jsxs("nav",{children:[O.jsxs("div",{className:"dropdown",children:[O.jsx($t,{label:"Dashboard"}),O.jsxs("div",{className:"dropdown-content",children:[O.jsx(ra,{to:"/",children:O.jsx($t,{label:"Viso Geral"})}),O.jsx(ra,{to:"/calculadora",children:O.jsx($t,{label:"Calculadora"})})]})]}),O.jsx(ra,{to:"/ingredientes",children:O.jsx($t,{label:"Ingredientes"})}),O.jsx(ra,{to:"/conjuntos",children:O.jsx($t,{label:"Conjuntos"})}),O.jsx(ra,{to:"/bolos",children:O.jsx($t,{label:"Bolos"})}),O.jsx(ra,{to:"/config",children:O.jsx($t,{label:"Configuraes"})}),O.jsx($t,{label:"Sair",onClick:()=>i(!0)})]})}function IC(i){return O.jsxs("button",{onClick:i.handleClick,className:"gsi-material-button login-button",style:{height:"50"},children:[O.jsx("div",{className:"gsi-material-button-state"}),O.jsxs("div",{className:"gsi-material-button-content-wrapper",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[O.jsx("div",{className:"gsi-material-button-icon",children:O.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:24,height:24,xmlnsXlink:"http://www.w3.org/1999/xlink",style:{marginRight:".5rem"},children:[O.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),O.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),O.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),O.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),O.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),O.jsx("span",{className:"gsi-material-button-contents",children:"Entrar com Google"}),O.jsx("span",{style:{display:"none"},children:"Entrar com Google"})]})]})}function r1(){return O.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:O.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[O.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#fff",strokeWidth:"6",fill:"none"}),O.jsx("circle",{cx:"50",cy:"5",r:"7",fill:"#000",children:O.jsx("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1s",repeatCount:"indefinite"})})]})})}function OC(){return O.jsxs("footer",{style:{fontSize:"0.7rem"},children:[O.jsx("p",{children:" 2025 Calculadora D'Leite. Todos os direitos reservados."}),O.jsx("p",{children:"Verso alfa 0.6"})]})}function DC(){const{user:i,loading:e,signInWithGoogle:t,signOut:a}=i1();if(e)return O.jsx(r1,{});const s="erica.aruantes707@gmail.com,agimenescomercial@gmail.com,alexandre.development@gmail.com".split(","),l=i?.email?s.includes(i.email):!1;return O.jsxs(O.Fragment,{children:[i?l?O.jsxs(O.Fragment,{children:[O.jsx(CC,{}),O.jsx("main",{children:O.jsx(Xb,{})})]}):O.jsxs("div",{children:[O.jsx("h1",{children:"Voc no tem permisso para acessar esta pgina"}),O.jsx($t,{label:"Sair",onClick:async()=>await a()})]}):O.jsxs("div",{children:[O.jsx("h1",{children:"Faa o login para acessar esta pgina"}),O.jsx(IC,{handleClick:async()=>{try{await t()}catch(f){console.error(f)}}})]}),O.jsx(OC,{})]})}class Di{static noTableItemFoundContent="-";static deleteButtonLabel="";static tableItemSeparator=", "}const ct={parseDecimal(i){return parseFloat(i.replace(",","."))},ceilDecimal(i){return Math.ceil(i*100)/100},humanizePrice(i){i=this.ceilDecimal(i);const e=i.toString().split(".");return e[1]?(e[1].length===1&&(e[1]+="0"),e.join(",")):e[0]+",00"},promptEditIngredient(i){i||alert("Ingrediente no encontrado.");const e=prompt("Nome",i.name);if(e===null||e.trim()==="")return alert("Nome invlido."),i;const t=prompt("Preo",i.price.toString()),a=t?ct.parseDecimal(t):NaN;if(isNaN(a)||a<=0)return alert("Preo invlido."),i;const s=prompt("Quantidade",i.quantity.toString()),l=s?ct.parseDecimal(s):NaN;if(isNaN(l)||l<=0)return alert("Quantidade invlida."),i;const f=prompt("Unidade",i.unit);if(f===null||f.trim()==="")return alert("Unidade invlida."),i;const m=prompt("Qnt usada no aro 15",i.used_in_frame_15.toString()),d=m?ct.parseDecimal(m):NaN;if(isNaN(d)||d<0)return alert("Quantidade invlida."),i;const g=prompt("Qnt usada no aro 25",i.used_in_frame_25.toString()),y=g?ct.parseDecimal(g):NaN;if(isNaN(y)||y<0)return alert("Quantidade invlida."),i;const b=prompt("Qnt usada no aro 35",i.used_in_frame_35.toString()),T=b?ct.parseDecimal(b):NaN;return isNaN(T)||T<0?(alert("Quantidade invlida."),i):{...i,name:e??i.name,price:a,quantity:l,unit:f??i.unit,used_in_frame_15:d,used_in_frame_25:y,used_in_frame_35:T}}};class lt{static ingredients="/ingredients/";static bundles="/bundles/";static cakes="/cakes/";static config="/config/"}var a1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N0=ua.createContext&&ua.createContext(a1),xC=["attr","size","title"];function MC(i,e){if(i==null)return{};var t=PC(i,e),a,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(s=0;s<l.length;s++)a=l[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(i,a)&&(t[a]=i[a])}return t}function PC(i,e){if(i==null)return{};var t={};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){if(e.indexOf(a)>=0)continue;t[a]=i[a]}return t}function jf(){return jf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},jf.apply(this,arguments)}function V0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,a)}return t}function zf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?V0(Object(t),!0).forEach(function(a){NC(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):V0(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function NC(i,e,t){return e=VC(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function VC(i){var e=kC(i,"string");return typeof e=="symbol"?e:e+""}function kC(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function s1(i){return i&&i.map((e,t)=>ua.createElement(e.tag,zf({key:t},e.attr),s1(e.child)))}function yh(i){return e=>ua.createElement(LC,jf({attr:zf({},i.attr)},e),s1(i.child))}function LC(i){var e=t=>{var{attr:a,size:s,title:l}=i,f=MC(i,xC),m=s||t.size||"1em",d;return t.className&&(d=t.className),i.className&&(d=(d?d+" ":"")+i.className),ua.createElement("svg",jf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,f,{className:d,style:zf(zf({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&ua.createElement("title",null,l),i.children)};return N0!==void 0?ua.createElement(N0.Consumer,null,t=>e(t)):e(a1)}function UC(i){return yh({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(i)}function jC(i){return yh({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM13.4142 13.9997L15.182 15.7675L13.7678 17.1817L12 15.4139L10.2322 17.1817L8.81802 15.7675L10.5858 13.9997L8.81802 12.232L10.2322 10.8178L12 12.5855L13.7678 10.8178L15.182 12.232L13.4142 13.9997ZM9 4V6H15V4H9Z"},child:[]}]})(i)}function zC(i){return yh({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 4H3V6H17V4ZM13 11H3V13H13V11ZM17 18H3V20H17V18ZM15.9896 8.81412L17.4038 7.3999L22 11.9961L17.4038 16.5923L15.9896 15.1781L19.1716 11.9961L15.9896 8.81412Z"},child:[]}]})(i)}function BC({handleEdit:i,handleDelete:e}){return O.jsxs("td",{className:"actions",children:[O.jsx("span",{children:O.jsx(zC,{size:24})}),O.jsxs("div",{className:"actions-menu",children:[O.jsx($t,{label:O.jsx(UC,{}),onClick:i}),O.jsx($t,{label:O.jsx(jC,{}),onClick:e})]})]})}function _h(i){const[e,t]=V.useState(i),[a,s]=V.useState(null),[l,f]=V.useState("asc");V.useEffect(()=>{const g=y=>{if(typeof y=="string"){const b=y.replace(",","."),T=parseFloat(b);return isNaN(T)?y:T}return y};if(a){const y=[...i].sort((b,T)=>{const x=g(b[a]),C=g(T[a]);return x<C?l==="asc"?-1:1:x>C?l==="asc"?1:-1:0});t(y)}else t(i)},[i,a,l]);function m(g){let y="asc";a===g&&(y=l==="asc"?"desc":"asc"),s(g),f(y)}function d(g){t(g)}return{data:e,sortColumn:a,sortDirection:l,handleSort:m,setNewData:d}}function HC(i){return yh({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 0C229.232 0 0 229.232 0 512c0 282.784 229.232 512 512 512 282.784 0 512-229.216 512-512C1024 229.232 794.784 0 512 0zm0 961.008c-247.024 0-448-201.984-448-449.01 0-247.024 200.976-448 448-448s448 200.977 448 448-200.976 449.01-448 449.01zm181.008-630.016c-12.496-12.496-32.752-12.496-45.248 0L512 466.752l-135.76-135.76c-12.496-12.496-32.752-12.496-45.264 0-12.496 12.496-12.496 32.752 0 45.248L466.736 512l-135.76 135.76c-12.496 12.48-12.496 32.769 0 45.249 12.496 12.496 32.752 12.496 45.264 0L512 557.249l135.76 135.76c12.496 12.496 32.752 12.496 45.248 0 12.496-12.48 12.496-32.769 0-45.249L557.248 512l135.76-135.76c12.512-12.512 12.512-32.768 0-45.248z"},child:[]}]})(i)}function FC({handleSubmit:i,handleCloseMenu:e}){return O.jsxs("form",{id:"ingredient-form",children:[O.jsxs("div",{className:"ingredient-form-header",children:[O.jsx("h3",{className:"ingredient-form-title",children:"Adicionar Ingrediente"}),O.jsx($t,{className:"ingredient-form-close-button",label:O.jsx(HC,{size:24}),onClick:e})]}),O.jsxs("div",{className:"ingredient-form-group ingredient-form-name",children:[O.jsx("label",{htmlFor:"ingredient-name",children:"Nome do Ingrediente*: "}),O.jsx("input",{id:"ingredient-name",type:"text"})]}),O.jsxs("div",{className:"ingredient-form-group ingredient-form-price",children:[O.jsx("label",{htmlFor:"ingredient-price",children:"Preo*: "}),O.jsx("input",{id:"ingredient-price",type:"number"})]}),O.jsxs("div",{className:"ingredient-form-group ingredient-form-quantity",children:[O.jsx("label",{htmlFor:"ingredient-quantity",children:"Quantidade*: "}),O.jsx("input",{id:"ingredient-quantity",type:"number"})]}),O.jsxs("div",{className:"ingredient-form-group ingredient-form-unit",children:[O.jsx("label",{htmlFor:"ingredient-unit",children:"Tipo de unidade*: "}),O.jsxs("select",{id:"ingredient-unit",defaultValue:"",children:[O.jsx("option",{value:"",disabled:!0,children:"Selecione"}),O.jsx("option",{value:"kg",children:"kg"}),O.jsx("option",{value:"g",children:"g"}),O.jsx("option",{value:"l",children:"l"}),O.jsx("option",{value:"ml",children:"ml"}),O.jsx("option",{value:"un",children:"un"})]})]}),O.jsxs("div",{className:"ingredient-form-group ingredient-form-frame15",children:[O.jsx("label",{htmlFor:"ingredient-frame15",children:"Qnt usada no aro 15: "}),O.jsx("input",{id:"ingredient-frame15",type:"number"})]}),O.jsxs("div",{className:"ingredient-form-group ingredient-form-frame25",children:[O.jsx("label",{htmlFor:"ingredient-frame25",children:"Qnt usada no aro 25: "}),O.jsx("input",{id:"ingredient-frame25",type:"number"})]}),O.jsxs("div",{className:"ingredient-form-group ingredient-form-frame35",children:[O.jsx("label",{htmlFor:"ingredient-frame35",children:"Qnt usada no aro 35: "}),O.jsx("input",{id:"ingredient-frame35",type:"number"})]}),O.jsx($t,{label:"Adicionar Ingrediente",onClick:i})]})}const qC=()=>{};var k0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(i){const e=[];let t=0;for(let a=0;a<i.length;a++){let s=i.charCodeAt(a);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++a)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},GC=function(i){const e=[];let t=0,a=0;for(;t<i.length;){const s=i[t++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const l=i[t++];e[a++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=i[t++],f=i[t++],m=i[t++],d=((s&7)<<18|(l&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(d>>10)),e[a++]=String.fromCharCode(56320+(d&1023))}else{const l=i[t++],f=i[t++];e[a++]=String.fromCharCode((s&15)<<12|(l&63)<<6|f&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<i.length;s+=3){const l=i[s],f=s+1<i.length,m=f?i[s+1]:0,d=s+2<i.length,g=d?i[s+2]:0,y=l>>2,b=(l&3)<<4|m>>4;let T=(m&15)<<2|g>>6,x=g&63;d||(x=64,f||(T=64)),a.push(t[y],t[b],t[T],t[x])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(o1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):GC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<i.length;){const l=t[i.charAt(s++)],m=s<i.length?t[i.charAt(s)]:0;++s;const g=s<i.length?t[i.charAt(s)]:64;++s;const b=s<i.length?t[i.charAt(s)]:64;if(++s,l==null||m==null||g==null||b==null)throw new $C;const T=l<<2|m>>4;if(a.push(T),g!==64){const x=m<<4&240|g>>2;if(a.push(x),b!==64){const C=g<<6&192|b;a.push(C)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QC=function(i){const e=o1(i);return l1.encodeByteArray(e,!0)},Bf=function(i){return QC(i).replace(/\./g,"")},u1=function(i){try{return l1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=()=>YC().__FIREBASE_DEFAULTS__,XC=()=>{if(typeof process>"u"||typeof k0>"u")return;const i=k0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},WC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&u1(i[1]);return e&&JSON.parse(e)},Eh=()=>{try{return qC()||KC()||XC()||WC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},c1=i=>Eh()?.emulatorHosts?.[i],ZC=i=>{const e=c1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},f1=()=>Eh()?.config,h1=i=>Eh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d1(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",s=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bf(JSON.stringify(t)),Bf(JSON.stringify(f)),""].join(".")}const au={};function tI(){const i={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?i.emulator.push(e):i.prod.push(e);return i}function nI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let L0=!1;function m1(i,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||au[i]===e||au[i]||L0)return;au[i]=e;function t(T){return`__firebase__banner__${T}`}const a="__firebase__banner",l=tI().prod.length>0;function f(){const T=document.getElementById(a);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{L0=!0,f()},T}function y(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=nI(a),x=t("text"),C=document.getElementById(x)||document.createElement("span"),P=t("learnmore"),A=document.getElementById(P)||document.createElement("a"),M=t("preprendIcon"),Y=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;m(q),y(A,P);const ae=g();d(Y,M),q.append(Y,C,A,ae),document.body.appendChild(q)}l?(C.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function rI(){const i=Eh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function oI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lI(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function uI(){return!rI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((i,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(a),i(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="FirebaseError";class Cr extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=hI,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],f=l?dI(l,a):"Error",m=`${this.serviceName}: ${f} (${s}).`;return new Cr(s,m,a)}}function dI(i,e){return i.replace(mI,(t,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const mI=/\{\$([^}]+)}/g;function pI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function os(i,e){if(i===e)return!0;const t=Object.keys(i),a=Object.keys(e);for(const s of t){if(!a.includes(s))return!1;const l=i[s],f=e[s];if(U0(l)&&U0(f)){if(!os(l,f))return!1}else if(l!==f)return!1}for(const s of a)if(!t.includes(s))return!1;return!0}function U0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(i){const e=[];for(const[t,a]of Object.entries(i))Array.isArray(a)?a.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function gI(i,e){const t=new vI(i,e);return t.subscribe.bind(t)}class vI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let s;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");yI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:a},s.next===void 0&&(s.next=Jm),s.error===void 0&&(s.error=Jm),s.complete===void 0&&(s.complete=Jm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(i){return i&&i._delegate?i._delegate:i}class ls{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new JC;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(a)return null;throw s}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bI(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});a.resolve(l)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);a===m&&f.resolve(s)}return s}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(a)??new Set;s.add(e),this.onInitCallbacks.set(a,s);const l=this.instances.get(a);return l&&e(l,a),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const s of a)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:EI(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EI(i){return i===is?void 0:i}function bI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _I(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ue||(Ue={}));const TI={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},wI=Ue.INFO,AI={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},RI=(i,e,...t)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),s=AI[e];if(s)console[s](`[${a}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class og{constructor(e){this.name=e,this._logLevel=wI,this._logHandler=RI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const CI=(i,e)=>e.some(t=>i instanceof t);let j0,z0;function II(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OI(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,Sp=new WeakMap,g1=new WeakMap,ep=new WeakMap,lg=new WeakMap;function DI(i){const e=new Promise((t,a)=>{const s=()=>{i.removeEventListener("success",l),i.removeEventListener("error",f)},l=()=>{t(ca(i.result)),s()},f=()=>{a(i.error),s()};i.addEventListener("success",l),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&p1.set(t,i)}).catch(()=>{}),lg.set(e,i),e}function xI(i){if(Sp.has(i))return;const e=new Promise((t,a)=>{const s=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",f),i.removeEventListener("abort",f)},l=()=>{t(),s()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",l),i.addEventListener("error",f),i.addEventListener("abort",f)});Sp.set(i,e)}let Tp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Sp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||g1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ca(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function MI(i){Tp=i(Tp)}function PI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=i.call(tp(this),e,...t);return g1.set(a,e.sort?e.sort():[e]),ca(a)}:OI().includes(i)?function(...e){return i.apply(tp(this),e),ca(p1.get(this))}:function(...e){return ca(i.apply(tp(this),e))}}function NI(i){return typeof i=="function"?PI(i):(i instanceof IDBTransaction&&xI(i),CI(i,II())?new Proxy(i,Tp):i)}function ca(i){if(i instanceof IDBRequest)return DI(i);if(ep.has(i))return ep.get(i);const e=NI(i);return e!==i&&(ep.set(i,e),lg.set(e,i)),e}const tp=i=>lg.get(i);function VI(i,e,{blocked:t,upgrade:a,blocking:s,terminated:l}={}){const f=indexedDB.open(i,e),m=ca(f);return a&&f.addEventListener("upgradeneeded",d=>{a(ca(f.result),d.oldVersion,d.newVersion,ca(f.transaction),d)}),t&&f.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const kI=["get","getKey","getAll","getAllKeys","count"],LI=["put","add","delete","clear"],np=new Map;function B0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,s=LI.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(s||kI.includes(t)))return;const l=async function(f,...m){const d=this.transaction(f,s?"readwrite":"readonly");let g=d.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),s&&d.done]))[0]};return np.set(e,l),l}MI(i=>({...i,get:(e,t,a)=>B0(e,t)||i.get(e,t,a),has:(e,t)=>!!B0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jI(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function jI(i){return i.getComponent()?.type==="VERSION"}const wp="@firebase/app",H0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new og("@firebase/app"),zI="@firebase/app-compat",BI="@firebase/analytics-compat",HI="@firebase/analytics",FI="@firebase/app-check-compat",qI="@firebase/app-check",GI="@firebase/auth",$I="@firebase/auth-compat",QI="@firebase/database",YI="@firebase/data-connect",KI="@firebase/database-compat",XI="@firebase/functions",WI="@firebase/functions-compat",ZI="@firebase/installations",JI="@firebase/installations-compat",e2="@firebase/messaging",t2="@firebase/messaging-compat",n2="@firebase/performance",i2="@firebase/performance-compat",r2="@firebase/remote-config",a2="@firebase/remote-config-compat",s2="@firebase/storage",o2="@firebase/storage-compat",l2="@firebase/firestore",u2="@firebase/ai",c2="@firebase/firestore-compat",f2="firebase",h2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",d2={[wp]:"fire-core",[zI]:"fire-core-compat",[HI]:"fire-analytics",[BI]:"fire-analytics-compat",[qI]:"fire-app-check",[FI]:"fire-app-check-compat",[GI]:"fire-auth",[$I]:"fire-auth-compat",[QI]:"fire-rtdb",[YI]:"fire-data-connect",[KI]:"fire-rtdb-compat",[XI]:"fire-fn",[WI]:"fire-fn-compat",[ZI]:"fire-iid",[JI]:"fire-iid-compat",[e2]:"fire-fcm",[t2]:"fire-fcm-compat",[n2]:"fire-perf",[i2]:"fire-perf-compat",[r2]:"fire-rc",[a2]:"fire-rc-compat",[s2]:"fire-gcs",[o2]:"fire-gcs-compat",[l2]:"fire-fst",[c2]:"fire-fst-compat",[u2]:"fire-vertex","fire-js":"fire-js",[f2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Map,m2=new Map,Rp=new Map;function F0(i,e){try{i.container.addComponent(e)}catch(t){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ao(i){const e=i.name;if(Rp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,i);for(const t of Hf.values())F0(t,i);for(const t of m2.values())F0(t,i);return!0}function ug(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ni(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new Ru("app","Firebase",p2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=h2;function v1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const a={name:Ap,automaticDataCollectionEnabled:!0,...e},s=a.name;if(typeof s!="string"||!s)throw fa.create("bad-app-name",{appName:String(s)});if(t||(t=f1()),!t)throw fa.create("no-options");const l=Hf.get(s);if(l){if(os(t,l.options)&&os(a,l.config))return l;throw fa.create("duplicate-app",{appName:s})}const f=new SI(s);for(const d of Rp.values())f.addComponent(d);const m=new g2(t,a,f);return Hf.set(s,m),m}function y1(i=Ap){const e=Hf.get(i);if(!e&&i===Ap&&f1())return v1();if(!e)throw fa.create("no-app",{appName:i});return e}function ha(i,e,t){let a=d2[i]??i;t&&(a+=`-${t}`);const s=a.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const f=[`Unable to register library "${a}" with version "${e}":`];s&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),s&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(f.join(" "));return}Ao(new ls(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",y2=1,hu="firebase-heartbeat-store";let ip=null;function _1(){return ip||(ip=VI(v2,y2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(hu)}catch(t){console.warn(t)}}}}).catch(i=>{throw fa.create("idb-open",{originalErrorMessage:i.message})})),ip}async function _2(i){try{const t=(await _1()).transaction(hu),a=await t.objectStore(hu).get(E1(i));return await t.done,a}catch(e){if(e instanceof Cr)Sr.warn(e.message);else{const t=fa.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(t.message)}}}async function q0(i,e){try{const a=(await _1()).transaction(hu,"readwrite");await a.objectStore(hu).put(e,E1(i)),await a.done}catch(t){if(t instanceof Cr)Sr.warn(t.message);else{const a=fa.create("idb-set",{originalErrorMessage:t?.message});Sr.warn(a.message)}}}function E1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1024,b2=30;class S2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w2(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=G0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>b2){const s=A2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G0(),{heartbeatsToSend:t,unsentEntries:a}=T2(this._heartbeatsCache.heartbeats),s=Bf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Sr.warn(e),""}}}function G0(){return new Date().toISOString().substring(0,10)}function T2(i,e=E2){const t=[];let a=i.slice();for(const s of i){const l=t.find(f=>f.agent===s.agent);if(l){if(l.dates.push(s.date),$0(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),$0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class w2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cI()?fI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $0(i){return Bf(JSON.stringify({version:2,heartbeats:i})).length}function A2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let a=1;a<i.length;a++)i[a].date<t&&(t=i[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){Ao(new ls("platform-logger",e=>new UI(e),"PRIVATE")),Ao(new ls("heartbeat",e=>new S2(e),"PRIVATE")),ha(wp,H0,i),ha(wp,H0,"esm2020"),ha("fire-js","")}R2("");var C2="firebase",I2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ha(C2,I2,"app");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,b1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function D(){}D.prototype=R.prototype,I.D=R.prototype,I.prototype=new D,I.prototype.constructor=I,I.C=function(U,z,H){for(var k=Array(arguments.length-2),at=2;at<arguments.length;at++)k[at-2]=arguments[at];return R.prototype[z].apply(U,k)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,R,D){D||(D=0);var U=Array(16);if(typeof R=="string")for(var z=0;16>z;++z)U[z]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(z=0;16>z;++z)U[z]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=I.g[0],D=I.g[1],z=I.g[2];var H=I.g[3],k=R+(H^D&(z^H))+U[0]+3614090360&4294967295;R=D+(k<<7&4294967295|k>>>25),k=H+(z^R&(D^z))+U[1]+3905402710&4294967295,H=R+(k<<12&4294967295|k>>>20),k=z+(D^H&(R^D))+U[2]+606105819&4294967295,z=H+(k<<17&4294967295|k>>>15),k=D+(R^z&(H^R))+U[3]+3250441966&4294967295,D=z+(k<<22&4294967295|k>>>10),k=R+(H^D&(z^H))+U[4]+4118548399&4294967295,R=D+(k<<7&4294967295|k>>>25),k=H+(z^R&(D^z))+U[5]+1200080426&4294967295,H=R+(k<<12&4294967295|k>>>20),k=z+(D^H&(R^D))+U[6]+2821735955&4294967295,z=H+(k<<17&4294967295|k>>>15),k=D+(R^z&(H^R))+U[7]+4249261313&4294967295,D=z+(k<<22&4294967295|k>>>10),k=R+(H^D&(z^H))+U[8]+1770035416&4294967295,R=D+(k<<7&4294967295|k>>>25),k=H+(z^R&(D^z))+U[9]+2336552879&4294967295,H=R+(k<<12&4294967295|k>>>20),k=z+(D^H&(R^D))+U[10]+4294925233&4294967295,z=H+(k<<17&4294967295|k>>>15),k=D+(R^z&(H^R))+U[11]+2304563134&4294967295,D=z+(k<<22&4294967295|k>>>10),k=R+(H^D&(z^H))+U[12]+1804603682&4294967295,R=D+(k<<7&4294967295|k>>>25),k=H+(z^R&(D^z))+U[13]+4254626195&4294967295,H=R+(k<<12&4294967295|k>>>20),k=z+(D^H&(R^D))+U[14]+2792965006&4294967295,z=H+(k<<17&4294967295|k>>>15),k=D+(R^z&(H^R))+U[15]+1236535329&4294967295,D=z+(k<<22&4294967295|k>>>10),k=R+(z^H&(D^z))+U[1]+4129170786&4294967295,R=D+(k<<5&4294967295|k>>>27),k=H+(D^z&(R^D))+U[6]+3225465664&4294967295,H=R+(k<<9&4294967295|k>>>23),k=z+(R^D&(H^R))+U[11]+643717713&4294967295,z=H+(k<<14&4294967295|k>>>18),k=D+(H^R&(z^H))+U[0]+3921069994&4294967295,D=z+(k<<20&4294967295|k>>>12),k=R+(z^H&(D^z))+U[5]+3593408605&4294967295,R=D+(k<<5&4294967295|k>>>27),k=H+(D^z&(R^D))+U[10]+38016083&4294967295,H=R+(k<<9&4294967295|k>>>23),k=z+(R^D&(H^R))+U[15]+3634488961&4294967295,z=H+(k<<14&4294967295|k>>>18),k=D+(H^R&(z^H))+U[4]+3889429448&4294967295,D=z+(k<<20&4294967295|k>>>12),k=R+(z^H&(D^z))+U[9]+568446438&4294967295,R=D+(k<<5&4294967295|k>>>27),k=H+(D^z&(R^D))+U[14]+3275163606&4294967295,H=R+(k<<9&4294967295|k>>>23),k=z+(R^D&(H^R))+U[3]+4107603335&4294967295,z=H+(k<<14&4294967295|k>>>18),k=D+(H^R&(z^H))+U[8]+1163531501&4294967295,D=z+(k<<20&4294967295|k>>>12),k=R+(z^H&(D^z))+U[13]+2850285829&4294967295,R=D+(k<<5&4294967295|k>>>27),k=H+(D^z&(R^D))+U[2]+4243563512&4294967295,H=R+(k<<9&4294967295|k>>>23),k=z+(R^D&(H^R))+U[7]+1735328473&4294967295,z=H+(k<<14&4294967295|k>>>18),k=D+(H^R&(z^H))+U[12]+2368359562&4294967295,D=z+(k<<20&4294967295|k>>>12),k=R+(D^z^H)+U[5]+4294588738&4294967295,R=D+(k<<4&4294967295|k>>>28),k=H+(R^D^z)+U[8]+2272392833&4294967295,H=R+(k<<11&4294967295|k>>>21),k=z+(H^R^D)+U[11]+1839030562&4294967295,z=H+(k<<16&4294967295|k>>>16),k=D+(z^H^R)+U[14]+4259657740&4294967295,D=z+(k<<23&4294967295|k>>>9),k=R+(D^z^H)+U[1]+2763975236&4294967295,R=D+(k<<4&4294967295|k>>>28),k=H+(R^D^z)+U[4]+1272893353&4294967295,H=R+(k<<11&4294967295|k>>>21),k=z+(H^R^D)+U[7]+4139469664&4294967295,z=H+(k<<16&4294967295|k>>>16),k=D+(z^H^R)+U[10]+3200236656&4294967295,D=z+(k<<23&4294967295|k>>>9),k=R+(D^z^H)+U[13]+681279174&4294967295,R=D+(k<<4&4294967295|k>>>28),k=H+(R^D^z)+U[0]+3936430074&4294967295,H=R+(k<<11&4294967295|k>>>21),k=z+(H^R^D)+U[3]+3572445317&4294967295,z=H+(k<<16&4294967295|k>>>16),k=D+(z^H^R)+U[6]+76029189&4294967295,D=z+(k<<23&4294967295|k>>>9),k=R+(D^z^H)+U[9]+3654602809&4294967295,R=D+(k<<4&4294967295|k>>>28),k=H+(R^D^z)+U[12]+3873151461&4294967295,H=R+(k<<11&4294967295|k>>>21),k=z+(H^R^D)+U[15]+530742520&4294967295,z=H+(k<<16&4294967295|k>>>16),k=D+(z^H^R)+U[2]+3299628645&4294967295,D=z+(k<<23&4294967295|k>>>9),k=R+(z^(D|~H))+U[0]+4096336452&4294967295,R=D+(k<<6&4294967295|k>>>26),k=H+(D^(R|~z))+U[7]+1126891415&4294967295,H=R+(k<<10&4294967295|k>>>22),k=z+(R^(H|~D))+U[14]+2878612391&4294967295,z=H+(k<<15&4294967295|k>>>17),k=D+(H^(z|~R))+U[5]+4237533241&4294967295,D=z+(k<<21&4294967295|k>>>11),k=R+(z^(D|~H))+U[12]+1700485571&4294967295,R=D+(k<<6&4294967295|k>>>26),k=H+(D^(R|~z))+U[3]+2399980690&4294967295,H=R+(k<<10&4294967295|k>>>22),k=z+(R^(H|~D))+U[10]+4293915773&4294967295,z=H+(k<<15&4294967295|k>>>17),k=D+(H^(z|~R))+U[1]+2240044497&4294967295,D=z+(k<<21&4294967295|k>>>11),k=R+(z^(D|~H))+U[8]+1873313359&4294967295,R=D+(k<<6&4294967295|k>>>26),k=H+(D^(R|~z))+U[15]+4264355552&4294967295,H=R+(k<<10&4294967295|k>>>22),k=z+(R^(H|~D))+U[6]+2734768916&4294967295,z=H+(k<<15&4294967295|k>>>17),k=D+(H^(z|~R))+U[13]+1309151649&4294967295,D=z+(k<<21&4294967295|k>>>11),k=R+(z^(D|~H))+U[4]+4149444226&4294967295,R=D+(k<<6&4294967295|k>>>26),k=H+(D^(R|~z))+U[11]+3174756917&4294967295,H=R+(k<<10&4294967295|k>>>22),k=z+(R^(H|~D))+U[2]+718787259&4294967295,z=H+(k<<15&4294967295|k>>>17),k=D+(H^(z|~R))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(z+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+z&4294967295,I.g[3]=I.g[3]+H&4294967295}a.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var D=R-this.blockSize,U=this.B,z=this.h,H=0;H<R;){if(z==0)for(;H<=D;)s(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<R;)if(U[z++]=I.charCodeAt(H++),z==this.blockSize){s(this,U),z=0;break}}else for(;H<R;)if(U[z++]=I[H++],z==this.blockSize){s(this,U),z=0;break}}this.h=z,this.o+=R},a.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var D=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=D&255,D/=256;for(this.u(I),I=Array(16),R=D=0;4>R;++R)for(var U=0;32>U;U+=8)I[D++]=this.g[R]>>>U&255;return I};function l(I,R){var D=m;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=R(I)}function f(I,R){this.h=R;for(var D=[],U=!0,z=I.length-1;0<=z;z--){var H=I[z]|0;U&&H==R||(D[z]=H,U=!1)}this.g=D}var m={};function d(I){return-128<=I&&128>I?l(I,function(R){return new f([R|0],0>R?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(0>I)return A(g(-I));for(var R=[],D=1,U=0;I>=D;U++)R[U]=I/D|0,D*=4294967296;return new f(R,0)}function y(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return A(y(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(R,8)),U=b,z=0;z<I.length;z+=8){var H=Math.min(8,I.length-z),k=parseInt(I.substring(z,z+H),R);8>H?(H=g(Math.pow(R,H)),U=U.j(H).add(g(k))):(U=U.j(D),U=U.add(g(k)))}return U}var b=d(0),T=d(1),x=d(16777216);i=f.prototype,i.m=function(){if(P(this))return-A(this).m();for(var I=0,R=1,D=0;D<this.g.length;D++){var U=this.i(D);I+=(0<=U?U:4294967296+U)*R,R*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(P(this))return"-"+A(this).toString(I);for(var R=g(Math.pow(I,6)),D=this,U="";;){var z=ae(D,R).g;D=M(D,z.j(R));var H=((0<D.g.length?D.g[0]:D.h)>>>0).toString(I);if(D=z,C(D))return H+U;for(;6>H.length;)H="0"+H;U=H+U}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function P(I){return I.h==-1}i.l=function(I){return I=M(this,I),P(I)?-1:C(I)?0:1};function A(I){for(var R=I.g.length,D=[],U=0;U<R;U++)D[U]=~I.g[U];return new f(D,~I.h).add(T)}i.abs=function(){return P(this)?A(this):this},i.add=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],U=0,z=0;z<=R;z++){var H=U+(this.i(z)&65535)+(I.i(z)&65535),k=(H>>>16)+(this.i(z)>>>16)+(I.i(z)>>>16);U=k>>>16,H&=65535,k&=65535,D[z]=k<<16|H}return new f(D,D[D.length-1]&-2147483648?-1:0)};function M(I,R){return I.add(A(R))}i.j=function(I){if(C(this)||C(I))return b;if(P(this))return P(I)?A(this).j(A(I)):A(A(this).j(I));if(P(I))return A(this.j(A(I)));if(0>this.l(x)&&0>I.l(x))return g(this.m()*I.m());for(var R=this.g.length+I.g.length,D=[],U=0;U<2*R;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<I.g.length;z++){var H=this.i(U)>>>16,k=this.i(U)&65535,at=I.i(z)>>>16,De=I.i(z)&65535;D[2*U+2*z]+=k*De,Y(D,2*U+2*z),D[2*U+2*z+1]+=H*De,Y(D,2*U+2*z+1),D[2*U+2*z+1]+=k*at,Y(D,2*U+2*z+1),D[2*U+2*z+2]+=H*at,Y(D,2*U+2*z+2)}for(U=0;U<R;U++)D[U]=D[2*U+1]<<16|D[2*U];for(U=R;U<2*R;U++)D[U]=0;return new f(D,0)};function Y(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function q(I,R){this.g=I,this.h=R}function ae(I,R){if(C(R))throw Error("division by zero");if(C(I))return new q(b,b);if(P(I))return R=ae(A(I),R),new q(A(R.g),A(R.h));if(P(R))return R=ae(I,A(R)),new q(A(R.g),R.h);if(30<I.g.length){if(P(I)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var D=T,U=R;0>=U.l(I);)D=j(D),U=j(U);var z=te(D,1),H=te(U,1);for(U=te(U,2),D=te(D,2);!C(U);){var k=H.add(U);0>=k.l(I)&&(z=z.add(D),H=k),U=te(U,1),D=te(D,1)}return R=M(I,z.j(R)),new q(z,R)}for(z=b;0<=I.l(R);){for(D=Math.max(1,Math.floor(I.m()/R.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),H=g(D),k=H.j(R);P(k)||0<k.l(I);)D-=U,H=g(D),k=H.j(R);C(H)&&(H=T),z=z.add(H),I=M(I,k)}return new q(z,I)}i.A=function(I){return ae(this,I).h},i.and=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],U=0;U<R;U++)D[U]=this.i(U)&I.i(U);return new f(D,this.h&I.h)},i.or=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],U=0;U<R;U++)D[U]=this.i(U)|I.i(U);return new f(D,this.h|I.h)},i.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),D=[],U=0;U<R;U++)D[U]=this.i(U)^I.i(U);return new f(D,this.h^I.h)};function j(I){for(var R=I.g.length+1,D=[],U=0;U<R;U++)D[U]=I.i(U)<<1|I.i(U-1)>>>31;return new f(D,I.h)}function te(I,R){var D=R>>5;R%=32;for(var U=I.g.length-D,z=[],H=0;H<U;H++)z[H]=0<R?I.i(H+D)>>>R|I.i(H+D+1)<<32-R:I.i(H+D);return new f(z,I.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,b1=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=y,da=f}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S1,tu,T1,wf,Cp,w1,A1,R1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,_){return c==Array.prototype||c==Object.prototype||(c[v]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=t(this);function s(c,v){if(v)e:{var _=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var G=c[w];if(!(G in _))break e;_=_[G]}c=c[c.length-1],w=_[c],v=v(w),v!=w&&v!=null&&e(_,c,{configurable:!0,writable:!0,value:v})}}function l(c,v){c instanceof String&&(c+="");var _=0,w=!1,G={next:function(){if(!w&&_<c.length){var Z=_++;return{value:v(Z,c[Z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(c){return c||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function d(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function g(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function y(c,v,_){return c.call.apply(c.bind,arguments)}function b(c,v,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,w),c.apply(v,G)}}return function(){return c.apply(v,arguments)}}function T(c,v,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,T.apply(null,arguments)}function x(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function C(c,v){function _(){}_.prototype=v.prototype,c.aa=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,G,Z){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return v.prototype[G].apply(w,ce)}}function P(c){const v=c.length;if(0<v){const _=Array(v);for(let w=0;w<v;w++)_[w]=c[w];return _}return[]}function A(c,v){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(d(w)){const G=c.length||0,Z=w.length||0;c.length=G+Z;for(let ce=0;ce<Z;ce++)c[G+ce]=w[ce]}else c.push(w)}}class M{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var j=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function te(c,v,_){for(const w in c)v.call(_,c[w],w,c)}function I(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function R(c){const v={};for(const _ in c)v[_]=c[_];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(c,v){let _,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(_ in w)c[_]=w[_];for(let Z=0;Z<D.length;Z++)_=D[Z],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function z(c){var v=1;c=c.split(":");const _=[];for(;0<v&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function H(c){m.setTimeout(()=>{throw c},0)}function k(){var c=Me;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class at{constructor(){this.h=this.g=null}add(v,_){const w=De.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var De=new M(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,fe=!1,Me=new at,L=()=>{const c=m.Promise.resolve(void 0);ue=()=>{c.then(re)}};var re=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){H(_)}var v=De;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}fe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return c}();function Re(c,v){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(j){e:{try{ae(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else _=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}C(Re,se);var ge={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Le=0;function dn(c,v,_,w,G){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=G,this.key=++Le,this.da=this.fa=!1}function li(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nn(c){this.src=c,this.g={},this.h=0}Nn.prototype.add=function(c,v,_,w,G){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ce=Hi(c,v,w,G);return-1<ce?(v=c[ce],_||(v.fa=!1)):(v=new dn(v,this.src,Z,!!w,G),v.fa=_,c.push(v)),v};function ui(c,v){var _=v.type;if(_ in c.g){var w=c.g[_],G=Array.prototype.indexOf.call(w,v,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(w,G,1),Z&&(li(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Hi(c,v,_,w){for(var G=0;G<c.length;++G){var Z=c[G];if(!Z.da&&Z.listener==v&&Z.capture==!!_&&Z.ha==w)return G}return-1}var ci="closure_lm_"+(1e6*Math.random()|0),Sa={};function Uu(c,v,_,w,G){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Uu(c,v[Z],_,w,G);return null}return _=ju(_),c&&c[st]?c.K(v,_,g(w)?!!w.capture:!1,G):Vn(c,v,_,!1,w,G)}function Vn(c,v,_,w,G,Z){if(!v)throw Error("Invalid event type");var ce=g(G)?!!G.capture:!!G,Be=bs(c);if(Be||(c[ci]=Be=new Nn(c)),_=Be.add(v,_,w,ce,Z),_.proxy)return _;if(w=Gh(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)me||(G=ce),G===void 0&&(G=!1),c.addEventListener(v.toString(),w,G);else if(c.attachEvent)c.attachEvent(Ta(v.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gh(){function c(_){return v.call(c.src,c.listener,_)}const v=$h;return c}function Fo(c,v,_,w,G){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Fo(c,v[Z],_,w,G);else w=g(w)?!!w.capture:!!w,_=ju(_),c&&c[st]?(c=c.i,v=String(v).toString(),v in c.g&&(Z=c.g[v],_=Hi(Z,_,w,G),-1<_&&(li(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[v],c.h--)))):c&&(c=bs(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Hi(v,_,w,G)),(_=-1<c?v[c]:null)&&Es(_))}function Es(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[st])ui(v.i,c);else{var _=c.type,w=c.proxy;v.removeEventListener?v.removeEventListener(_,w,c.capture):v.detachEvent?v.detachEvent(Ta(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=bs(v))?(ui(_,c),_.h==0&&(_.src=null,v[ci]=null)):li(c)}}}function Ta(c){return c in Sa?Sa[c]:Sa[c]="on"+c}function $h(c,v){if(c.da)c=!0;else{v=new Re(v,this);var _=c.listener,w=c.ha||c.src;c.fa&&Es(c),c=_.call(w,v)}return c}function bs(c){return c=c[ci],c instanceof Nn?c:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(v){return c.handleEvent(v)}),c[qo])}function yt(){le.call(this),this.i=new Nn(this),this.M=this,this.F=null}C(yt,le),yt.prototype[st]=!0,yt.prototype.removeEventListener=function(c,v,_,w){Fo(this,c,v,_,w)};function Ze(c,v){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=v.type||v,typeof v=="string")v=new se(v,c);else if(v instanceof se)v.target=v.target||c;else{var G=v;v=new se(w,c),U(v,G)}if(G=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ce=v.g=_[Z];G=wn(ce,w,!0,v)&&G}if(ce=v.g=c,G=wn(ce,w,!0,v)&&G,G=wn(ce,w,!1,v)&&G,_)for(Z=0;Z<_.length;Z++)ce=v.g=_[Z],G=wn(ce,w,!1,v)&&G}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var _=c.g[v],w=0;w<_.length;w++)li(_[w]);delete c.g[v],c.h--}}this.F=null},yt.prototype.K=function(c,v,_,w){return this.i.add(String(c),v,!1,_,w)},yt.prototype.L=function(c,v,_,w){return this.i.add(String(c),v,!0,_,w)};function wn(c,v,_,w){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Z=0;Z<v.length;++Z){var ce=v[Z];if(ce&&!ce.da&&ce.capture==_){var Be=ce.listener,Nt=ce.ha||ce.src;ce.fa&&ui(c.i,ce),G=Be.call(Nt,w)!==!1&&G}}return G&&!w.defaultPrevented}function an(c,v,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(c,v||0)}function zu(c){c.g=an(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Qh extends le{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wa(c){le.call(this),this.h=c,this.g={}}C(wa,le);var Aa=[];function Ra(c){te(c.g,function(v,_){this.g.hasOwnProperty(_)&&Es(v)},c),c.g={}}wa.prototype.N=function(){wa.aa.N.call(this),Ra(this)},wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=m.JSON.stringify,Ss=m.JSON.parse,Ca=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Go(){}Go.prototype.h=null;function $o(c){return c.h||(c.h=c.i())}function Qo(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){se.call(this,"d")}C(qi,se);function Yo(){se.call(this,"c")}C(Yo,se);var fi={},Ko=null;function Or(){return Ko=Ko||new yt}fi.La="serverreachability";function Ts(c){se.call(this,fi.La,c)}C(Ts,se);function Dr(c){const v=Or();Ze(v,new Ts(v))}fi.STAT_EVENT="statevent";function Bu(c,v){se.call(this,fi.STAT_EVENT,c),this.stat=v}C(Bu,se);function dt(c){const v=Or();Ze(v,new Bu(v,c))}fi.Ma="timingevent";function Pt(c,v){se.call(this,fi.Ma,c),this.size=v}C(Pt,se);function Rt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},v)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Xo(c,v,_,w,G,Z){c.info(function(){if(c.g)if(Z)for(var ce="",Be=Z.split("&"),Nt=0;Nt<Be.length;Nt++){var He=Be[Nt].split("=");if(1<He.length){var Bt=He[0];He=He[1];var Vt=Bt.split("_");ce=2<=Vt.length&&Vt[1]=="type"?ce+(Bt+"="+He+"&"):ce+(Bt+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+v+`
`+_+`
`+ce})}function Yh(c,v,_,w,G,Z,ce){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+v+`
`+_+`
`+Z+" "+ce})}function xr(c,v,_,w){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ia(c,_)+(w?" "+w:"")})}function Hu(c,v){c.info(function(){return"TIMEOUT: "+v})}kn.prototype.info=function(){};function Ia(c,v){if(!c.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var G=w[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return Xn(_)}catch{return v}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function di(){}C(di,Go),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},hi=new di;function mn(c,v,_,w){this.j=c,this.i=v,this.l=_,this.R=w||1,this.U=new wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Wo={},ws={};function Wn(c,v,_){c.L=1,c.v=Pa(An(v)),c.m=_,c.P=!0,$i(c,null)}function $i(c,v){c.F=Date.now(),Oa(c),c.A=An(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),il(_.i,"t",w),c.C=0,_=c.j.J,c.h=new St,c.g=rc(c.j,_?v:null,!c.m),0<c.O&&(c.M=new Qh(T(c.Y,c,c.g),c.O)),v=c.U,_=c.g,w=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Aa[0]=G.toString()),G=Aa);for(var Z=0;Z<G.length;Z++){var ce=Uu(_,G[Z],w||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Dr(),Xo(c.i,c.u,c.A,c.l,c.R,c.m)}mn.prototype.ca=function(c){c=c.target;const v=this.M;v&&zn(c)==3?v.j():this.Y(c)},mn.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=zn(this.g);var v=this.g.Ba();const er=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Xu(this.g)))){this.J||Vt!=4||v==7||(v==8||0>=er?Dr(3):Dr(2)),Pr(this);var _=this.g.Z();this.X=_;t:if(Fu(this)){var w=Xu(this.g);c="";var G=w.length,Z=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),mi(this);var ce="";break t}this.h.i=new m.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,c+=this.h.i.decode(w[v],{stream:!(Z&&v==G-1)});w.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Yh(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Be)){var He=Be;break t}}He=null}if(_=He)xr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,_);else{this.o=!1,this.s=3,dt(12),Kt(this),mi(this);break e}}if(this.P){_=!0;let Xt;for(;!this.J&&this.C<ce.length;)if(Xt=qu(this,ce),Xt==ws){Vt==4&&(this.s=4,dt(14),_=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Wo){this.s=4,dt(15),xr(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else xr(this.i,this.l,Xt,null),Da(this,Xt);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ce.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)xr(this.i,this.l,ce,"[Invalid Chunked Response]"),Kt(this),mi(this);else if(0<ce.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ba(Bt),Bt.M=!0,dt(11))}}else xr(this.i,this.l,ce,null),Da(this,ce);Vt==4&&Kt(this),this.o&&!this.J&&(Vt==4?tc(this.j,this):(this.o=!1,Oa(this)))}else Jh(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Kt(this),mi(this)}}}catch{}finally{}};function Fu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function qu(c,v){var _=c.C,w=v.indexOf(`
`,_);return w==-1?ws:(_=Number(v.substring(_,w)),isNaN(_)?Wo:(w+=1,w+_>v.length?ws:(v=v.slice(w,w+_),c.C=w+_,v)))}mn.prototype.cancel=function(){this.J=!0,Kt(this)};function Oa(c){c.S=Date.now()+c.I,Gu(c,c.I)}function Gu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rt(T(c.ba,c),v)}function Pr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Hu(this.i,this.A),this.L!=2&&(Dr(),dt(17)),Kt(this),this.s=2,mi(this)):Gu(this,this.S-c)};function mi(c){c.j.G==0||c.J||tc(c.j,c)}function Kt(c){Pr(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Ra(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Da(c,v){try{var _=c.j;if(_.G!=0&&(_.g==c||Zo(_.h,c))){if(!c.K&&Zo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ks(_),Ns(_);else break e;ll(_),dt(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=Rt(T(_.Za,_),6e3));if(1>=Rs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ji(_,11)}else if((c.K||_.g==c)&&ks(_),!Y(v))for(G=_.Da.g.parse(v),v=0;v<G.length;v++){let He=G[v];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Bt=He[3];Bt!=null&&(_.la=Bt,_.j.info("VER="+_.la));const Vt=He[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const er=He[5];er!=null&&typeof er=="number"&&0<er&&(w=1.5*er,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Xt=c.g;if(Xt){const bi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var Z=w.h;Z.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Cs(Z,Z.h),Z.h=null))}if(w.D){const cl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(w.ya=cl,tt(w.I,w.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ce=c;if(w.qa=ic(w,w.J?w.ia:null,w.W),ce.K){pn(w.h,ce);var Be=ce,Nt=w.L;Nt&&(Be.I=Nt),Be.B&&(Pr(Be),Oa(Be)),w.g=ce}else Ju(w);0<_.i.length&&Vs(_)}else He[0]!="stop"&&He[0]!="close"||Ji(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ji(_,7):sl(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}Dr(4)}catch{}}var $u=class{constructor(c,v){this.g=c,this.map=v}};function Qi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function As(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rs(c){return c.h?1:c.g?c.g.size:0}function Zo(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Cs(c,v){c.g?c.g.add(v):c.h=v}function pn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Qi.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.D);return v}return P(c.i)}function Kh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var v=[],_=c.length,w=0;w<_;w++)v.push(c[w]);return v}v=[],_=0;for(w in c)v[_++]=c[w];return v}function Is(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var v=[];c=c.length;for(var _=0;_<c;_++)v.push(_);return v}v=[],_=0;for(const w in c)v[_++]=w;return v}}}function el(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var _=Is(c),w=Kh(c),G=w.length,Z=0;Z<G;Z++)v.call(void 0,w[Z],_&&_[Z],c)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(c,v){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),G=null;if(0<=w){var Z=c[_].substring(0,w);G=c[_].substring(w+1)}else Z=c[_];v(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ct(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ct){this.h=c.h,Ma(this,c.j),this.o=c.o,this.g=c.g,Nr(this,c.s),this.l=c.l;var v=c.i,_=new Ki;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Yi(this,_),this.m=c.m}else c&&(v=String(c).match(xa))?(this.h=!1,Ma(this,v[1]||"",!0),this.o=Ln(v[2]||""),this.g=Ln(v[3]||"",!0),Nr(this,v[4]),this.l=Ln(v[5]||"",!0),Yi(this,v[6]||"",!0),this.m=Ln(v[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Ct.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Na(v,tl,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Na(v,tl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Na(_,_.charAt(0)=="/"?Wh:nl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Na(_,Os)),c.join("")};function An(c){return new Ct(c)}function Ma(c,v,_){c.j=_?Ln(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Nr(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function Yi(c,v,_){v instanceof Ki?(c.i=v,Yu(c.i,c.h)):(_||(v=Na(v,Zh)),c.i=new Ki(v,c.h))}function tt(c,v,_){c.i.set(v,_)}function Pa(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ln(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Na(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,Qu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,nl=/[#\?:]/g,Wh=/[#\?]/g,Zh=/[#\?@]/g,Os=/#/g;function Ki(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&Xh(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=Ki.prototype,i.add=function(c,v){Un(this),this.i=null,c=pi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function Xi(c,v){Un(c),v=pi(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Wi(c,v){return Un(c),v=pi(c,v),c.g.has(v)}i.forEach=function(c,v){Un(this),this.g.forEach(function(_,w){_.forEach(function(G){c.call(v,G,w,this)},this)},this)},i.na=function(){Un(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let w=0;w<v.length;w++){const G=c[w];for(let Z=0;Z<G.length;Z++)_.push(v[w])}return _},i.V=function(c){Un(this);let v=[];if(typeof c=="string")Wi(this,c)&&(v=v.concat(this.g.get(pi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)v=v.concat(c[_])}return v},i.set=function(c,v){return Un(this),this.i=null,c=pi(this,c),Wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function il(c,v,_){Xi(c,v),0<_.length&&(c.i=null,c.g.set(pi(c,v),P(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var w=v[_];const Z=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var G=Z;ce[w]!==""&&(G+="="+encodeURIComponent(String(ce[w]))),c.push(G)}}return this.i=c.join("&")};function pi(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Yu(c,v){v&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(_,w){var G=w.toLowerCase();w!=G&&(Xi(this,w),il(this,G,_))},c)),c.j=v}function Va(c,v){const _=new kn;if(m.Image){const w=new Image;w.onload=x(jn,_,"TestLoadImage: loaded",!0,v,w),w.onerror=x(jn,_,"TestLoadImage: error",!1,v,w),w.onabort=x(jn,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=x(jn,_,"TestLoadImage: timeout",!1,v,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else v(!1)}function Zn(c,v){const _=new kn,w=new AbortController,G=setTimeout(()=>{w.abort(),jn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:w.signal}).then(Z=>{clearTimeout(G),Z.ok?jn(_,"TestPingServer: ok",!0,v):jn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),jn(_,"TestPingServer: error",!1,v)})}function jn(c,v,_,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(_)}catch{}}function ka(){this.g=new Ca}function gi(c,v,_){const w=_||"";try{el(c,function(G,Z){let ce=G;g(G)&&(ce=Xn(G)),v.push(w+Z+"="+encodeURIComponent(ce))})}catch(G){throw v.push(w+"type="+encodeURIComponent("_badmap")),G}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Vr,Go),Vr.prototype.g=function(){return new Zi(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function Zi(c,v){yt.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Zi,yt),i=Zi.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,yi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?vi(this):yi(this),this.readyState==3&&rl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,vi(this))},i.Qa=function(c){this.g&&(this.response=c,vi(this))},i.ga=function(){this.g&&vi(this)};function vi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yi(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function yi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function al(c){let v="";return te(c,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function zt(c,v,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=al(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):tt(c,v,_))}function Ke(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ke,yt);var Ds=/^https?$/i,La=["POST","PUT"];i=Ke.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?$o(this.o):$o(hi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(Z){Ku(this,Z);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)_.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())_.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(La,v,void 0))||w||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of _)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ua(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Ku(this,Z)}};function Ku(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,xs(c),_i(c)}function xs(c){c.A||(c.A=!0,Ze(c,"complete"),Ze(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ze(this,"complete"),Ze(this,"abort"),_i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ms(this):this.bb())},i.bb=function(){Ms(this)};function Ms(c){if(c.h&&typeof f<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)an(c.Ea,0,c);else if(Ze(c,"readystatechange"),zn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var w;if(w=ce===0){var G=String(c.D).match(xa)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),w=!Ds.test(G?G.toLowerCase():"")}_=w}if(_)Ze(c,"complete"),Ze(c,"success");else{c.m=6;try{var Z=2<zn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",xs(c)}}finally{_i(c)}}}}function _i(c,v){if(c.g){Ua(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Ze(c,"ready");try{_.onreadystatechange=w}catch{}}}function Ua(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ss(v)}};function Xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Jh(c){const v={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Y(c[w]))continue;var _=z(c[w]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=v[G]||[];v[G]=Z,Z.push(_)}I(v,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ja(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function Ps(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ja("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ja("baseRetryDelayMs",5e3,c),this.cb=ja("retryDelaySeedMs",1e4,c),this.Wa=ja("forwardChannelMaxRetries",2,c),this.wa=ja("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(c&&c.concurrentRequestLimit),this.Da=new ka,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ps.prototype,i.la=8,i.G=1,i.connect=function(c,v,_,w){dt(0),this.W=c,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ic(this,null,this.W),Vs(this)};function sl(c){if(Wu(c),c.G==3){var v=c.U++,_=An(c.I);if(tt(_,"SID",c.K),tt(_,"RID",v),tt(_,"TYPE","terminate"),za(c,_),v=new mn(c,c.j,v),v.L=2,v.v=Pa(An(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=rc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Oa(v)}nc(c)}function Ns(c){c.g&&(Ba(c),c.g.cancel(),c.g=null)}function Wu(c){Ns(c),c.u&&(m.clearTimeout(c.u),c.u=null),ks(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Vs(c){if(!As(c.h)&&!c.s){c.s=!0;var v=c.Ga;ue||L(),fe||(ue(),fe=!0),Me.add(v,c),c.B=0}}function ed(c,v){return Rs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rt(T(c.Ga,c,v),ul(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new mn(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=R(Z),U(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Zu(this,G,v),_=An(this.I),tt(_,"RID",c),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),za(this,_),Z&&(this.O?v="headers="+encodeURIComponent(String(al(Z)))+"&"+v:this.m&&zt(_,this.m,Z)),Cs(this.h,G),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",v),tt(_,"SID","null"),G.T=!0,Wn(G,_,null)):Wn(G,_,v),this.G=2}}else this.G==3&&(c?ol(this,c):this.i.length==0||As(this.h)||ol(this))};function ol(c,v){var _;v?_=v.l:_=c.U++;const w=An(c.I);tt(w,"SID",c.K),tt(w,"RID",_),tt(w,"AID",c.T),za(c,w),c.m&&c.o&&zt(w,c.m,c.o),_=new mn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Cs(c.h,_),Wn(_,w,v)}function za(c,v){c.H&&te(c.H,function(_,w){tt(v,w,_)}),c.l&&el({},function(_,w){tt(v,w,_)})}function Zu(c,v,_){_=Math.min(c.i.length,_);var w=c.l?T(c.l.Na,c.l,c):null;e:{var G=c.i;let Z=-1;for(;;){const ce=["count="+_];Z==-1?0<_?(Z=G[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let Be=!0;for(let Nt=0;Nt<_;Nt++){let He=G[Nt].g;const Bt=G[Nt].map;if(He-=Z,0>He)Z=Math.max(0,G[Nt].g-100),Be=!1;else try{gi(Bt,ce,"req"+He+"_")}catch{w&&w(Bt)}}if(Be){w=ce.join("&");break e}}}return c=c.i.splice(0,_),v.D=c,w}function Ju(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;ue||L(),fe||(ue(),fe=!0),Me.add(v,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rt(T(c.Fa,c),ul(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rt(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ns(this),ec(this))};function Ba(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ec(c){c.g=new mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=An(c.qa);tt(v,"RID","rpc"),tt(v,"SID",c.K),tt(v,"AID",c.T),tt(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(v,"TO",c.ja),tt(v,"TYPE","xmlhttp"),za(c,v),c.m&&c.o&&zt(v,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Pa(An(v)),_.m=null,_.P=!0,$i(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ns(this),ll(this),dt(19))};function ks(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function tc(c,v){var _=null;if(c.g==v){ks(c),Ba(c),c.g=null;var w=2}else if(Zo(c.h,v))_=v.D,pn(c.h,v),w=1;else return;if(c.G!=0){if(v.o)if(w==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var G=c.B;w=Or(),Ze(w,new Pt(w,_)),Vs(c)}else Ju(c);else if(G=v.s,G==3||G==0&&0<v.X||!(w==1&&ed(c,v)||w==2&&ll(c)))switch(_&&0<_.length&&(v=c.h,v.i=v.i.concat(_)),G){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function ul(c,v){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*v}function Ji(c,v){if(c.j.info("Error code "+v),v==2){var _=T(c.fb,c),w=c.Xa;const G=!w;w=new Ct(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ma(w,"https"),Pa(w),G?Va(w.toString(),_):Zn(w.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(v),nc(c),Wu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function nc(c){if(c.G=0,c.ka=[],c.l){const v=Jo(c.h);(v.length!=0||c.i.length!=0)&&(A(c.ka,v),A(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function ic(c,v,_){var w=_ instanceof Ct?An(_):new Ct(_);if(w.g!="")v&&(w.g=v+"."+w.g),Nr(w,w.s);else{var G=m.location;w=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Z=new Ct(null);w&&Ma(Z,w),v&&(Z.g=v),G&&Nr(Z,G),_&&(Z.l=_),w=Z}return _=c.D,v=c.ya,_&&v&&tt(w,_,v),tt(w,"VER",c.la),za(c,w),w}function rc(c,v,_){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new Ke(new Vr({eb:_})):new Ke(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}i=ac.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ls(){}Ls.prototype.g=function(c,v){return new gn(c,v)};function gn(c,v){yt.call(this),this.g=new Ps(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!Y(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Ei(this)}C(gn,yt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){sl(this.g)},gn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Xn(c),c=_);v.i.push(new $u(v.Ya++,c)),v.G==3&&Vs(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,gn.aa.N.call(this)};function sc(c){qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const _ in v){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}C(sc,qi);function oc(){Yo.call(this),this.status=1}C(oc,Yo);function Ei(c){this.g=c}C(Ei,ac),Ei.prototype.ua=function(){Ze(this.g,"a")},Ei.prototype.ta=function(c){Ze(this.g,new sc(c))},Ei.prototype.sa=function(c){Ze(this.g,new oc)},Ei.prototype.ra=function(){Ze(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,R1=function(){return new Ls},A1=function(){return Or()},w1=fi,Cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,wf=Mr,Gi.COMPLETE="complete",T1=Gi,Qo.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",yt.prototype.listen=yt.prototype.K,tu=Qo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,S1=Ke}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",K0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new og("@firebase/firestore");function mo(){return us.logLevel}function he(i,...e){if(us.logLevel<=Ue.DEBUG){const t=e.map(cg);us.debug(`Firestore (${Lo}): ${i}`,...t)}}function Tr(i,...e){if(us.logLevel<=Ue.ERROR){const t=e.map(cg);us.error(`Firestore (${Lo}): ${i}`,...t)}}function Ro(i,...e){if(us.logLevel<=Ue.WARN){const t=e.map(cg);us.warn(`Firestore (${Lo}): ${i}`,...t)}}function cg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,C1(i,a,t)}function C1(i,e,t){let a=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Tr(a),new Error(a)}function We(i,e,t,a){let s="Unexpected state";typeof t=="string"?s=t:a=t,i||C1(e,s,a)}function Oe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class O2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}}class D2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let a=this.i;const s=d=>this.i!==a?(a=this.i,t(d)):Promise.resolve();let l=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ma,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},m=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ma)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new I1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class M2{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P2{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const a=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const s=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new X0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<i;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=V2(40);for(let l=0;l<s.length;++l)a.length<20&&s[l]<t&&(a+=e.charAt(s[l]%62))}return a}}function je(i,e){return i<e?-1:i>e?1:0}function Ip(i,e){const t=Math.min(i.length,e.length);for(let a=0;a<t;a++){const s=i.charAt(a),l=e.charAt(a);if(s!==l)return rp(s)===rp(l)?je(s,l):rp(s)?1:-1}return je(i.length,e.length)}const k2=55296,L2=57343;function rp(i){const e=i.charCodeAt(0);return e>=k2&&e<=L2}function Co(i,e,t){return i.length===e.length&&i.every((a,s)=>t(a,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="__name__";class Ci{constructor(e,t,a){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&we(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let s=0;s<a;s++){const l=Ci.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const a=Ci.isNumericId(e),s=Ci.isNumericId(t);return a&&!s?-1:!a&&s?1:a&&s?Ci.extractNumericId(e).compare(Ci.extractNumericId(t)):Ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class ft extends Ci{construct(e,t,a){return new ft(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(s=>s.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const U2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ci{construct(e,t,a){return new nn(e,t,a)}static isValidIdentifier(e){return U2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new nn([W0])}static fromServerFormat(e){const t=[];let a="",s=0;const l=()=>{if(a.length===0)throw new pe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let f=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new pe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new pe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=d,s+=2}else m==="`"?(f=!f,s++):m!=="."||f?(a+=m,s++):(l(),s++)}if(l(),f)throw new pe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(i,e,t){if(!t)throw new pe(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function j2(i,e,t,a){if(e===!0&&a===!0)throw new pe(oe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Z0(i){if(!_e.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function J0(i){if(_e.isDocumentKey(i))throw new pe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function D1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function hg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we(12329,{type:typeof i})}function cs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new pe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hg(i);throw new pe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Iu(i,e){if(!D1(i))throw new pe(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const s=e[a].typeString,l="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){t=`JSON missing required field: '${a}'`;break}const f=i[a];if(s&&typeof f!==s){t=`JSON field '${a}' must be a ${s}.`;break}if(l!==void 0&&f!==l.value){t=`Expected '${a}' field to equal '${l.value}'`;break}}if(t)throw new pe(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=-62135596800,tE=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*tE);return new ht(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eE)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Mt("string",ht._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ht(0,0))}static max(){return new Ie(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function z2(i,e){const t=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(a===1e9?new ht(t+1,0):new ht(t,a));return new ga(s,_e.empty(),e)}function B2(i){return new ga(i.readTime,i.key,du)}class ga{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new ga(Ie.min(),_e.empty(),du)}static max(){return new ga(Ie.max(),_e.empty(),du)}}function H2(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==F2)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((a,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,a)=>{t(e)})}static reject(e){return new ie((t,a)=>{a(e)})}static waitFor(e){return new ie((t,a)=>{let s=0,l=0,f=!1;e.forEach(m=>{++s,m.next(()=>{++l,f&&l===s&&t()},d=>a(d))}),f=!0,l===s&&t()})}static or(e){let t=ie.resolve(!1);for(const a of e)t=t.next(s=>s?ie.resolve(s):a());return t}static forEach(e,t){const a=[];return e.forEach((s,l)=>{a.push(t.call(this,s,l))}),this.waitFor(a)}static mapArray(e,t){return new ie((a,s)=>{const l=e.length,f=new Array(l);let m=0;for(let d=0;d<l;d++){const g=d;t(e[g]).next(y=>{f[g]=y,++m,m===l&&a(f)},y=>s(y))}})}static doWhile(e,t){return new ie((a,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):a()};l()})}}function G2(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Sh(i){return i==null}function Ff(i){return i===0&&1/i==-1/0}function $2(i){return typeof i=="number"&&Number.isInteger(i)&&!Ff(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function Q2(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=nE(e)),e=Y2(i.get(t),e);return nE(e)}function Y2(i,e){let t=e;const a=i.length;for(let s=0;s<a;s++){const l=i.charAt(s);switch(l){case"\0":t+="";break;case x1:t+="";break;default:t+=l}}return t}function nE(i){return i+x1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function gs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function M1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return t+a.left.size;s<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,t,a,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,a,s,l){this.key=e,this.value=t,this.color=a??en.RED,this.left=s??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,s,l){return new en(e??this.key,t??this.value,a??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let s=this;const l=a(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,a),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return en.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,a,s,l){return this}insert(e,t,a){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rE(this.data.getIterator())}getIteratorFrom(e){return new rE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class rE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new ii([])}unionWith(e){let t=new jt(nn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new ii(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new P1("Invalid base64 string: "+l):l}}(e);return new rn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let f=0;f<s.length;++f)l+=String.fromCharCode(s[f]);return l}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let s=0;s<t.length;s++)a[s]=t.charCodeAt(s);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const K2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(i){if(We(!!i,39018),typeof i=="string"){let e=0;const t=K2.exec(i);if(We(!!t,46558,{timestamp:i}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ya(i){return typeof i=="string"?rn.fromBase64String(i):rn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="server_timestamp",V1="__type__",k1="__previous_value__",L1="__local_write_time__";function mg(i){return(i?.mapValue?.fields||{})[V1]?.stringValue===N1}function Th(i){const e=i.mapValue.fields[k1];return mg(e)?Th(e):e}function mu(i){const e=va(i.mapValue.fields[L1].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,a,s,l,f,m,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=s,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=g,this.isUsingEmulator=y}}const qf="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||qf}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===qf}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="__type__",W2="__max__",hf={mapValue:{}},j1="__vector__",Gf="value";function _a(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mg(i)?4:J2(i)?9007199254740991:Z2(i)?10:11:we(28295,{value:i})}function Li(i,e){if(i===e)return!0;const t=_a(i);if(t!==_a(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return mu(i).isEqual(mu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const f=va(s.timestampValue),m=va(l.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,l){return ya(s.bytesValue).isEqual(ya(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return At(s.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return At(s.integerValue)===At(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const f=At(s.doubleValue),m=At(l.doubleValue);return f===m?Ff(f)===Ff(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Co(i.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return function(s,l){const f=s.mapValue.fields||{},m=l.mapValue.fields||{};if(iE(f)!==iE(m))return!1;for(const d in f)if(f.hasOwnProperty(d)&&(m[d]===void 0||!Li(f[d],m[d])))return!1;return!0}(i,e);default:return we(52216,{left:i})}}function gu(i,e){return(i.values||[]).find(t=>Li(t,e))!==void 0}function Io(i,e){if(i===e)return 0;const t=_a(i),a=_a(e);if(t!==a)return je(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return function(l,f){const m=At(l.integerValue||l.doubleValue),d=At(f.integerValue||f.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(i,e);case 3:return aE(i.timestampValue,e.timestampValue);case 4:return aE(mu(i),mu(e));case 5:return Ip(i.stringValue,e.stringValue);case 6:return function(l,f){const m=ya(l),d=ya(f);return m.compareTo(d)}(i.bytesValue,e.bytesValue);case 7:return function(l,f){const m=l.split("/"),d=f.split("/");for(let g=0;g<m.length&&g<d.length;g++){const y=je(m[g],d[g]);if(y!==0)return y}return je(m.length,d.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,f){const m=je(At(l.latitude),At(f.latitude));return m!==0?m:je(At(l.longitude),At(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return sE(i.arrayValue,e.arrayValue);case 10:return function(l,f){const m=l.fields||{},d=f.fields||{},g=m[Gf]?.arrayValue,y=d[Gf]?.arrayValue,b=je(g?.values?.length||0,y?.values?.length||0);return b!==0?b:sE(g,y)}(i.mapValue,e.mapValue);case 11:return function(l,f){if(l===hf.mapValue&&f===hf.mapValue)return 0;if(l===hf.mapValue)return 1;if(f===hf.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),g=f.fields||{},y=Object.keys(g);d.sort(),y.sort();for(let b=0;b<d.length&&b<y.length;++b){const T=Ip(d[b],y[b]);if(T!==0)return T;const x=Io(m[d[b]],g[y[b]]);if(x!==0)return x}return je(d.length,y.length)}(i.mapValue,e.mapValue);default:throw we(23264,{he:t})}}function aE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const t=va(i),a=va(e),s=je(t.seconds,a.seconds);return s!==0?s:je(t.nanos,a.nanos)}function sE(i,e){const t=i.values||[],a=e.values||[];for(let s=0;s<t.length&&s<a.length;++s){const l=Io(t[s],a[s]);if(l)return l}return je(t.length,a.length)}function Oo(i){return Op(i)}function Op(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const a=va(t);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ya(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let a="[",s=!0;for(const l of t.values||[])s?s=!1:a+=",",a+=Op(l);return a+"]"}(i.arrayValue):"mapValue"in i?function(t){const a=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const f of a)l?l=!1:s+=",",s+=`${f}:${Op(t.fields[f])}`;return s+"}"}(i.mapValue):we(61005,{value:i})}function Af(i){switch(_a(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(i);return e?16+Af(e):16;case 5:return 2*i.stringValue.length;case 6:return ya(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((s,l)=>s+Af(l),0)}(i.arrayValue);case 10:case 11:return function(a){let s=0;return gs(a.fields,(l,f)=>{s+=l.length+Af(f)}),s}(i.mapValue);default:throw we(13486,{value:i})}}function Dp(i){return!!i&&"integerValue"in i}function pg(i){return!!i&&"arrayValue"in i}function oE(i){return!!i&&"nullValue"in i}function lE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rf(i){return!!i&&"mapValue"in i}function Z2(i){return(i?.mapValue?.fields||{})[U1]?.stringValue===j1}function su(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return gs(i.mapValue.fields,(t,a)=>e.mapValue.fields[t]=su(a)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(i.arrayValue.values[t]);return e}return{...i}}function J2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Rf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=nn.emptyPath(),a={},s=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const d=this.getFieldsMap(t);this.applyChanges(d,a,s),a={},s=[],t=m.popLast()}f?a[m.lastSegment()]=su(f):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,s)}delete(e){const t=this.field(e.popLast());Rf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=t.mapValue.fields[e.get(a)];Rf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,a){gs(t,(s,l)=>e[s]=l);for(const s of a)delete e[s]}clone(){return new Yn(su(this.value))}}function z1(i){const e=[];return gs(i.fields,(t,a)=>{const s=new nn([t]);if(Rf(a)){const l=z1(a.mapValue).fields;if(l.length===0)e.push(s);else for(const f of l)e.push(s.child(f))}else e.push(s)}),new ii(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,a,s,l,f,m){this.key=e,this.documentType=t,this.version=a,this.readTime=s,this.createTime=l,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ie.min(),Ie.min(),Ie.min(),Yn.empty(),0)}static newFoundDocument(e,t,a,s){return new fn(e,1,t,Ie.min(),a,s,0)}static newNoDocument(e,t){return new fn(e,2,t,Ie.min(),Ie.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ie.min(),Ie.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.position=e,this.inclusive=t}}function uE(i,e,t){let a=0;for(let s=0;s<i.position.length;s++){const l=e[s],f=i.position[s];if(l.field.isKeyField()?a=_e.comparator(_e.fromName(f.referenceValue),t.key):a=Io(f,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function cE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Li(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t="asc"){this.field=e,this.dir=t}}function eO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class Ut extends B1{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new nO(e,t,a):t==="array-contains"?new aO(e,a):t==="in"?new sO(e,a):t==="not-in"?new oO(e,a):t==="array-contains-any"?new lO(e,a):new Ut(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new iO(e,a):new rO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Io(t,this.value)):t!==null&&_a(this.value)===_a(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends B1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ui(e,t)}matches(e){return H1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function H1(i){return i.op==="and"}function F1(i){return tO(i)&&H1(i)}function tO(i){for(const e of i.filters)if(e instanceof Ui)return!1;return!0}function xp(i){if(i instanceof Ut)return i.field.canonicalString()+i.op.toString()+Oo(i.value);if(F1(i))return i.filters.map(e=>xp(e)).join(",");{const e=i.filters.map(t=>xp(t)).join(",");return`${i.op}(${e})`}}function q1(i,e){return i instanceof Ut?function(a,s){return s instanceof Ut&&a.op===s.op&&a.field.isEqual(s.field)&&Li(a.value,s.value)}(i,e):i instanceof Ui?function(a,s){return s instanceof Ui&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce((l,f,m)=>l&&q1(f,s.filters[m]),!0):!1}(i,e):void we(19439)}function G1(i){return i instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Oo(t.value)}`}(i):i instanceof Ui?function(t){return t.op.toString()+" {"+t.getFilters().map(G1).join(" ,")+"}"}(i):"Filter"}class nO extends Ut{constructor(e,t,a){super(e,t,a),this.key=_e.fromName(a.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class iO extends Ut{constructor(e,t){super(e,"in",t),this.keys=$1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rO extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=$1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $1(i,e){return(e.arrayValue?.values||[]).map(t=>_e.fromName(t.referenceValue))}class aO extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pg(t)&&gu(t.arrayValue,this.value)}}class sO extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class oO extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}}class lO extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>gu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t=null,a=[],s=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=s,this.limit=l,this.startAt=f,this.endAt=m,this.Te=null}}function fE(i,e=null,t=[],a=[],s=null,l=null,f=null){return new uO(i,e,t,a,s,l,f)}function gg(i){const e=Oe(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>xp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Oo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Oo(a)).join(",")),e.Te=t}return e.Te}function vg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!eO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!q1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cE(i.startAt,e.startAt)&&cE(i.endAt,e.endAt)}function Mp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t=null,a=[],s=[],l=null,f="F",m=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=s,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cO(i,e,t,a,s,l,f,m){return new wh(i,e,t,a,s,l,f,m)}function Q1(i){return new wh(i)}function hE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fO(i){return i.collectionGroup!==null}function ou(i){const e=Oe(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new jt(nn.comparator);return f.filters.forEach(d=>{d.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qf(l,a))}),t.has(nn.keyField().canonicalString())||e.Ie.push(new Qf(nn.keyField(),a))}return e.Ie}function xi(i){const e=Oe(i);return e.Ee||(e.Ee=hO(e,ou(i))),e.Ee}function hO(i,e){if(i.limitType==="F")return fE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Qf(s.field,l)});const t=i.endAt?new $f(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new $f(i.startAt.position,i.startAt.inclusive):null;return fE(i.path,i.collectionGroup,e,i.filters,i.limit,t,a)}}function Pp(i,e,t){return new wh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ah(i,e){return vg(xi(i),xi(e))&&i.limitType===e.limitType}function Y1(i){return`${gg(xi(i))}|lt:${i.limitType}`}function po(i){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(s=>G1(s)).join(", ")}]`),Sh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(s=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(s)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(s=>Oo(s)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(s=>Oo(s)).join(",")),`Target(${a})`}(xi(i))}; limitType=${i.limitType})`}function Rh(i,e){return e.isFoundDocument()&&function(a,s){const l=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):_e.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(i,e)&&function(a,s){for(const l of ou(a))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(i,e)&&function(a,s){for(const l of a.filters)if(!l.matches(s))return!1;return!0}(i,e)&&function(a,s){return!(a.startAt&&!function(f,m,d){const g=uE(f,m,d);return f.inclusive?g<=0:g<0}(a.startAt,ou(a),s)||a.endAt&&!function(f,m,d){const g=uE(f,m,d);return f.inclusive?g>=0:g>0}(a.endAt,ou(a),s))}(i,e)}function dO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function K1(i){return(e,t)=>{let a=!1;for(const s of ou(i)){const l=mO(s,e,t);if(l!==0)return l;a=a||s.field.isKeyField()}return 0}}function mO(i,e,t){const a=i.field.isKeyField()?_e.comparator(e.key,t.key):function(l,f,m){const d=f.data.field(l),g=m.data.field(l);return d!==null&&g!==null?Io(d,g):we(42886)}(i.field,e,t);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[s,l]of a)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[t]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(t,a)=>{for(const[s,l]of a)e(s,l)})}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=new vt(_e.comparator);function wr(){return pO}const X1=new vt(_e.comparator);function nu(...i){let e=X1;for(const t of i)e=e.insert(t.key,t);return e}function W1(i){let e=X1;return i.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function rs(){return lu()}function Z1(){return lu()}function lu(){return new vs(i=>i.toString(),(i,e)=>i.isEqual(e))}const gO=new vt(_e.comparator),vO=new jt(_e.comparator);function ze(...i){let e=vO;for(const t of i)e=e.add(t);return e}const yO=new jt(je);function _O(){return yO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(e)?"-0":e}}function J1(i){return{integerValue:""+i}}function EO(i,e){return $2(e)?J1(e):yg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(){this._=void 0}}function bO(i,e,t){return i instanceof Yf?function(s,l){const f={fields:{[V1]:{stringValue:N1},[L1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&mg(l)&&(l=Th(l)),l&&(f.fields[k1]=l),{mapValue:f}}(t,e):i instanceof vu?tS(i,e):i instanceof yu?nS(i,e):function(s,l){const f=eS(s,l),m=dE(f)+dE(s.Ae);return Dp(f)&&Dp(s.Ae)?J1(m):yg(s.serializer,m)}(i,e)}function SO(i,e,t){return i instanceof vu?tS(i,e):i instanceof yu?nS(i,e):t}function eS(i,e){return i instanceof Kf?function(a){return Dp(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Yf extends Ch{}class vu extends Ch{constructor(e){super(),this.elements=e}}function tS(i,e){const t=iS(e);for(const a of i.elements)t.some(s=>Li(s,a))||t.push(a);return{arrayValue:{values:t}}}class yu extends Ch{constructor(e){super(),this.elements=e}}function nS(i,e){let t=iS(e);for(const a of i.elements)t=t.filter(s=>!Li(s,a));return{arrayValue:{values:t}}}class Kf extends Ch{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function dE(i){return At(i.integerValue||i.doubleValue)}function iS(i){return pg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function TO(i,e){return i.field.isEqual(e.field)&&function(a,s){return a instanceof vu&&s instanceof vu||a instanceof yu&&s instanceof yu?Co(a.elements,s.elements,Li):a instanceof Kf&&s instanceof Kf?Li(a.Ae,s.Ae):a instanceof Yf&&s instanceof Yf}(i.transform,e.transform)}class wO{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ih{}function rS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new _g(i.key,ai.none()):new Ou(i.key,i.data,ai.none());{const t=i.data,a=Yn.empty();let s=new jt(nn.comparator);for(let l of e.fields)if(!s.has(l)){let f=t.field(l);f===null&&l.length>1&&(l=l.popLast(),f=t.field(l)),f===null?a.delete(l):a.set(l,f),s=s.add(l)}return new ys(i.key,a,new ii(s.toArray()),ai.none())}}function AO(i,e,t){i instanceof Ou?function(s,l,f){const m=s.value.clone(),d=pE(s.fieldTransforms,l,f.transformResults);m.setAll(d),l.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ys?function(s,l,f){if(!Cf(s.precondition,l))return void l.convertToUnknownDocument(f.version);const m=pE(s.fieldTransforms,l,f.transformResults),d=l.data;d.setAll(aS(s)),d.setAll(m),l.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(i,e,t):function(s,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function uu(i,e,t,a){return i instanceof Ou?function(l,f,m,d){if(!Cf(l.precondition,f))return m;const g=l.value.clone(),y=gE(l.fieldTransforms,d,f);return g.setAll(y),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,t,a):i instanceof ys?function(l,f,m,d){if(!Cf(l.precondition,f))return m;const g=gE(l.fieldTransforms,d,f),y=f.data;return y.setAll(aS(l)),y.setAll(g),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(i,e,t,a):function(l,f,m){return Cf(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,t)}function RO(i,e){let t=null;for(const a of i.fieldTransforms){const s=e.data.field(a.field),l=eS(a.transform,s||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(a.field,l))}return t||null}function mE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&Co(a,s,(l,f)=>TO(l,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ou extends Ih{constructor(e,t,a,s=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ys extends Ih{constructor(e,t,a,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function aS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=i.data.field(t);e.set(t,a)}}),e}function pE(i,e,t){const a=new Map;We(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let s=0;s<t.length;s++){const l=i[s],f=l.transform,m=e.data.field(l.field);a.set(l.field,SO(f,m,t[s]))}return a}function gE(i,e,t){const a=new Map;for(const s of i){const l=s.transform,f=t.data.field(s.field);a.set(s.field,bO(l,f,e))}return a}class _g extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CO extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t,a,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&AO(l,e,a[s])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=uu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=uu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Z1();return this.mutations.forEach(s=>{const l=e.get(s.key),f=l.overlayedDocument;let m=this.applyToLocalView(f,l.mutatedFields);m=t.has(s.key)?null:m;const d=rS(f,m);d!==null&&a.set(s.key,d),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,a)=>mE(t,a))&&Co(this.baseMutations,e.baseMutations,(t,a)=>mE(t,a))}}class Eg{constructor(e,t,a,s){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=s}static from(e,t,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let s=function(){return gO}();const l=e.mutations;for(let f=0;f<l.length;f++)s=s.insert(l[f].key,a[f].version);return new Eg(e,t,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function xO(i){switch(i){case oe.OK:return we(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return we(15467,{code:i})}}function sS(i){if(i===void 0)return Tr("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Dt.OK:return oe.OK;case Dt.CANCELLED:return oe.CANCELLED;case Dt.UNKNOWN:return oe.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return oe.INTERNAL;case Dt.UNAVAILABLE:return oe.UNAVAILABLE;case Dt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Dt.NOT_FOUND:return oe.NOT_FOUND;case Dt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Dt.ABORTED:return oe.ABORTED;case Dt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Dt.DATA_LOSS:return oe.DATA_LOSS;default:return we(39323,{code:i})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new da([4294967295,4294967295],0);function vE(i){const e=MO().encode(i),t=new b1;return t.update(e),new Uint8Array(t.digest())}function yE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new da([t,a],0),new da([s,l],0)]}class bg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new iu(`Invalid padding: ${t}`);if(a<0)throw new iu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new iu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=da.fromNumber(this.ge)}ye(e,t,a){let s=e.add(t.multiply(da.fromNumber(a)));return s.compare(PO)===1&&(s=new da([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vE(e),[a,s]=yE(t);for(let l=0;l<this.hashCount;l++){const f=this.ye(a,s,l);if(!this.we(f))return!1}return!0}static create(e,t,a){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new bg(l,s,t);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const t=vE(e),[a,s]=yE(t);for(let l=0;l<this.hashCount;l++){const f=this.ye(a,s,l);this.Se(f)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,a,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Oh(Ie.min(),s,new vt(je),wr(),ze())}}class Du{constructor(e,t,a,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Du(a,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t,a,s){this.be=e,this.removedTargetIds=t,this.key=a,this.De=s}}class oS{constructor(e,t){this.targetId=e,this.Ce=t}}class lS{constructor(e,t,a=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=s}}class _E{constructor(){this.ve=0,this.Fe=EE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),a=ze();return this.Fe.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:a=a.add(s);break;default:we(38017,{changeType:l})}}),new Du(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=EE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NO{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=df(),this.He=df(),this.Ye=new vt(je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((a,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,a=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(Mp(l))if(a===0){const f=new _e(l.path);this.et(t,f,fn.newNoDocument(f,Ie.min()))}else We(a===1,20013,{expectedCount:a});else{const f=this._t(t);if(f!==a){const m=this.ut(e),d=m?this.ct(m,e,f):1;if(d!==0){this.it(t);const g=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:l=0}=t;let f,m;try{f=ya(a).toUint8Array()}catch(d){if(d instanceof P1)return Ro("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new bg(f,s,l)}catch(d){return Ro(d instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.ge===0?null:m}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let s=0;return a.forEach(l=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((l,f)=>{const m=this.ot(f);if(m){if(l.current&&Mp(m.target)){const d=new _e(m.target.path);this.It(d).has(f)||this.Et(f,d)||this.et(f,d,fn.newNoDocument(d,e))}l.Be&&(t.set(f,l.ke()),l.qe())}});let a=ze();this.He.forEach((l,f)=>{let m=!0;f.forEachWhile(d=>{const g=this.ot(d);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(l))}),this.je.forEach((l,f)=>f.setReadTime(e));const s=new Oh(e,t,this.Ye,this.je,a);return this.je=wr(),this.Je=df(),this.He=df(),this.Ye=new vt(je),s}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _E,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new jt(je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new jt(je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _E),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function df(){return new vt(_e.comparator)}function EE(){return new vt(_e.comparator)}const VO={asc:"ASCENDING",desc:"DESCENDING"},kO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LO={and:"AND",or:"OR"};class UO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Np(i,e){return i.useProto3Json||Sh(e)?e:{value:e}}function Xf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jO(i,e){return Xf(i,e.toTimestamp())}function Mi(i){return We(!!i,49232),Ie.fromTimestamp(function(t){const a=va(t);return new ht(a.seconds,a.nanos)}(i))}function Sg(i,e){return Vp(i,e).canonicalString()}function Vp(i,e){const t=function(s){return new ft(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?t:t.child(e)}function cS(i){const e=ft.fromString(i);return We(pS(e),10190,{key:e.toString()}),e}function kp(i,e){return Sg(i.databaseId,e.path)}function ap(i,e){const t=cS(e);if(t.get(1)!==i.databaseId.projectId)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new pe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(hS(t))}function fS(i,e){return Sg(i.databaseId,e)}function zO(i){const e=cS(i);return e.length===4?ft.emptyPath():hS(e)}function Lp(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hS(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function bE(i,e,t){return{name:kp(i,e),fields:t.value.mapValue.fields}}function BO(i,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?(We(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const y=g.code===void 0?oe.UNKNOWN:sS(g.code);return new pe(y,g.message||"")}(f);t=new lS(a,s,l,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=ap(i,a.document.name),l=Mi(a.document.updateTime),f=a.document.createTime?Mi(a.document.createTime):Ie.min(),m=new Yn({mapValue:{fields:a.document.fields}}),d=fn.newFoundDocument(s,l,f,m),g=a.targetIds||[],y=a.removedTargetIds||[];t=new If(g,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=ap(i,a.document),l=a.readTime?Mi(a.readTime):Ie.min(),f=fn.newNoDocument(s,l),m=a.removedTargetIds||[];t=new If([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=ap(i,a.document),l=a.removedTargetIds||[];t=new If([],l,s,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:l}=a,f=new DO(s,l),m=a.targetId;t=new oS(m,f)}}return t}function HO(i,e){let t;if(e instanceof Ou)t={update:bE(i,e.key,e.value)};else if(e instanceof _g)t={delete:kp(i,e.key)};else if(e instanceof ys)t={update:bE(i,e.key,e.data),updateMask:WO(e.fieldMask)};else{if(!(e instanceof CO))return we(16599,{Vt:e.type});t={verify:kp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,f){const m=f.transform;if(m instanceof Yf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kf)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:jO(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(i,e.precondition)),t}function FO(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map(t=>function(s,l){let f=s.updateTime?Mi(s.updateTime):Mi(l);return f.isEqual(Ie.min())&&(f=Mi(l)),new wO(f,s.transformResults||[])}(t,e))):[]}function qO(i,e){return{documents:[fS(i,e.path)]}}function GO(i,e){const t={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=fS(i,s);const l=function(g){if(g.length!==0)return mS(Ui.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const f=function(g){if(g.length!==0)return g.map(y=>function(T){return{field:go(T.field),direction:YO(T.dir)}}(y))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=Np(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:s}}function $O(i){let e=zO(i.parent);const t=i.structuredQuery,a=t.from?t.from.length:0;let s=null;if(a>0){We(a===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(b){const T=dS(b);return T instanceof Ui&&F1(T)?T.getFilters():[T]}(t.where));let f=[];t.orderBy&&(f=function(b){return b.map(T=>function(C){return new Qf(vo(C.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(b){let T;return T=typeof b=="object"?b.value:b,Sh(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(b){const T=!!b.before,x=b.values||[];return new $f(x,T)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const T=!b.before,x=b.values||[];return new $f(x,T)}(t.endAt)),cO(e,s,f,l,m,"F",d,g)}function QO(i,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=vo(t.unaryFilter.field);return Ut.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=vo(t.unaryFilter.field);return Ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=vo(t.unaryFilter.field);return Ut.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(i):i.fieldFilter!==void 0?function(t){return Ut.create(vo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ui.create(t.compositeFilter.filters.map(a=>dS(a)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(i):we(30097,{filter:i})}function YO(i){return VO[i]}function KO(i){return kO[i]}function XO(i){return LO[i]}function go(i){return{fieldPath:i.canonicalString()}}function vo(i){return nn.fromServerFormat(i.fieldPath)}function mS(i){return i instanceof Ut?function(t){if(t.op==="=="){if(lE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NAN"}};if(oE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NAN"}};if(oE(t.value))return{unaryFilter:{field:go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(t.field),op:KO(t.op),value:t.value}}}(i):i instanceof Ui?function(t){const a=t.getFilters().map(s=>mS(s));return a.length===1?a[0]:{compositeFilter:{op:XO(t.op),filters:a}}}(i):we(54877,{filter:i})}function WO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,a,s,l=Ie.min(),f=Ie.min(),m=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.yt=e}}function JO(i){const e=$O({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Cn=new tD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(ga.min())}updateCollectionGroup(e,t,a){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class tD{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t]||new jt(ft.comparator),l=!s.has(a);return this.index[t]=s.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),s=this.index[t];return s&&s.has(a)}getEntries(e){return(this.index[e]||new jt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gS=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(gS,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="LruGarbageCollector",nD=1048576;function wE([i,e],[t,a]){const s=je(i,t);return s===0?je(e,a):s}class iD{constructor(e){this.Ir=e,this.buffer=new jt(wE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();wE(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rD{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(TE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?he(TE,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Vr(3e5)})}}class aD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(bh.ce);const a=new iD(t);return this.mr.forEachTarget(e,s=>a.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>a.Ar(s))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(SE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,s,l,f,m,d,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,f=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(a=b,m=Date.now(),this.removeTargets(e,a,t))).next(b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),mo()<=Ue.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-y}ms
	Determined least recently used ${s} in `+(m-f)+`ms
	Removed ${l} targets in `+(d-m)+`ms
	Removed ${b} documents in `+(g-d)+`ms
Total Duration: ${g-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:b})))}}function sD(i,e){return new aD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.changes=new vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ie.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t,a,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(a=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(a!==null&&uu(a.mutation,s,ii.empty(),ht.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,ze()).next(()=>a))}getLocalViewOfDocuments(e,t,a=ze()){const s=rs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,a).next(l=>{let f=nu();return l.forEach((m,d)=>{f=f.insert(m,d.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const a=rs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,ze()))}populateOverlays(e,t,a){const s=[];return a.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,a,s){let l=wr();const f=lu(),m=function(){return lu()}();return t.forEach((d,g)=>{const y=a.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof ys)?l=l.insert(g.key,g):y!==void 0?(f.set(g.key,y.mutation.getFieldMask()),uu(y.mutation,g,y.mutation.getFieldMask(),ht.now())):f.set(g.key,ii.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((g,y)=>f.set(g,y)),t.forEach((g,y)=>m.set(g,new lD(y,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const a=lu();let s=new vt((f,m)=>f-m),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(d=>{const g=t.get(d);if(g===null)return;let y=a.get(d)||ii.empty();y=m.applyToLocalView(g,y),a.set(d,y);const b=(s.get(m.batchId)||ze()).add(d);s=s.insert(m.batchId,b)})}).next(()=>{const f=[],m=s.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),g=d.key,y=d.value,b=Z1();y.forEach(T=>{if(!l.has(T)){const x=rS(t.get(T),a.get(T));x!==null&&b.set(T,x),l=l.add(T)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,s){return function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,s):this.getDocumentsMatchingCollectionQuery(e,t,a,s)}getNextDocuments(e,t,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,s).next(l=>{const f=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,s-l.size):ie.resolve(rs());let m=du,d=l;return f.next(g=>ie.forEach(g,(y,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,d,g,ze())).next(y=>({batchId:m,changes:W1(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(a=>{let s=nu();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,a,s){const l=t.collectionGroup;let f=nu();return this.indexManager.getCollectionParents(e,l).next(m=>ie.forEach(m,d=>{const g=function(b,T){return new wh(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,s).next(y=>{y.forEach((b,T)=>{f=f.insert(b,T)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,a,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,s))).next(f=>{l.forEach((d,g)=>{const y=g.getKey();f.get(y)===null&&(f=f.insert(y,fn.newInvalidDocument(y)))});let m=nu();return f.forEach((d,g)=>{const y=l.get(d);y!==void 0&&uu(y.mutation,g,ii.empty(),ht.now()),Rh(t,g)&&(m=m.insert(d,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Mi(s.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:JO(s.bundledQuery),readTime:Mi(s.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.overlays=new vt(_e.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const a=rs();return ie.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&a.set(s,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((s,l)=>{this.St(e,t,l)}),ie.resolve()}removeOverlaysForBatchId(e,t,a){const s=this.qr.get(a);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(a)),ie.resolve()}getOverlaysForCollection(e,t,a){const s=rs(),l=t.length+1,f=new _e(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const d=m.getNext().value,g=d.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&d.largestBatchId>a&&s.set(d.getKey(),d)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,a,s){let l=new vt((g,y)=>g-y);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let y=l.get(g.largestBatchId);y===null&&(y=rs(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const m=rs(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((g,y)=>m.set(g,y)),!(m.size()>=s)););return ie.resolve(m)}St(e,t,a){const s=this.overlays.get(a.key);if(s!==null){const f=this.qr.get(s.largestBatchId).delete(a.key);this.qr.set(s.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new OO(t,a));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.Qr=new jt(Gt.$r),this.Ur=new jt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new Gt(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.Gr(new Gt(e,t))}zr(e,t){e.forEach(a=>this.removeReference(a,t))}jr(e){const t=new _e(new ft([])),a=new Gt(t,e),s=new Gt(t,e+1),l=[];return this.Ur.forEachInRange([a,s],f=>{this.Gr(f),l.push(f.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new ft([])),a=new Gt(t,e),s=new Gt(t,e+1);let l=ze();return this.Ur.forEachInRange([a,s],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Gt(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||je(e.Yr,t.Yr)}static Kr(e,t){return je(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new jt(Gt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new IO(l,t,a,s);this.mutationQueue.push(f);for(const m of s)this.Zr=this.Zr.add(new Gt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,s=this.ei(a),l=s<0?0:s;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?dg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Gt(t,0),s=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([a,s],f=>{const m=this.Xr(f.Yr);l.push(m)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new jt(je);return t.forEach(s=>{const l=new Gt(s,0),f=new Gt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,f],m=>{a=a.add(m.Yr)})}),ie.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,s=a.length+1;let l=a;_e.isDocumentKey(l)||(l=l.child(""));const f=new Gt(new _e(l),0);let m=new jt(je);return this.Zr.forEachWhile(d=>{const g=d.key.path;return!!a.isPrefixOf(g)&&(g.length===s&&(m=m.add(d.Yr)),!0)},f),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(a=>{const s=this.Xr(a);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ie.forEach(t.mutations,s=>{const l=new Gt(s.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,t){const a=new Gt(t,0),s=this.Zr.firstAfterOrEqual(a);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.ri=e,this.docs=function(){return new vt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,s=this.docs.get(a),l=s?s.size:0,f=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ie.resolve(a?a.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let a=wr();return t.forEach(s=>{const l=this.docs.get(s);a=a.insert(s,l?l.document.mutableCopy():fn.newInvalidDocument(s))}),ie.resolve(a)}getDocumentsMatchingQuery(e,t,a,s){let l=wr();const f=t.path,m=new _e(f.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:g,value:{document:y}}=d.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||H2(B2(y),a)<=0||(s.has(y.key)||Rh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,a,s){we(9500)}ii(e,t){return ie.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new pD(this)}getSize(e){return ie.resolve(this.size)}}class pD extends oD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((a,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(a)}),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.persistence=e,this.si=new vs(t=>gg(t),vg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Tg,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,t){return this.si.forEach((a,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,a){let s=0;const l=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.si.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),ie.waitFor(l).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return ie.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),ie.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(f=>{l.push(s.markPotentiallyOrphaned(e,f))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return ie.resolve(a)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new hD,this.referenceDelegate=e(this),this.Pi=new gD(this),this.indexManager=new eD,this.remoteDocumentCache=function(s){return new mD(s)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new ZO(t),this.Ii=new cD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new dD(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){he("MemoryPersistence","Starting transaction:",e);const s=new vD(this.ci.next());return this.referenceDelegate.Ei(),a(s).next(l=>this.referenceDelegate.di(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ai(e,t){return ie.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,t)))}}class vD extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ri=new Tg,this.Vi=null}static mi(e){return new wg(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),ie.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.fi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,a=>{const s=_e.fromPath(a);return this.gi(e,s).next(l=>{l||t.removeEntry(s,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wf{constructor(e,t){this.persistence=e,this.pi=new vs(a=>Q2(a.path),(a,s)=>a.isEqual(s)),this.garbageCollector=sD(this,t)}static mi(e,t){return new Wf(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(s=>a+s))}wr(e){let t=0;return this.pr(e,a=>{t++}).next(()=>t)}pr(e,t){return ie.forEach(this.pi,(a,s)=>this.br(e,a,s).next(l=>l?ie.resolve():t(s)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(e,f=>this.br(e,f,t).next(m=>{m||(a++,l.removeEntry(f,Ie.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Af(e.data.value)),t}br(e,t,a){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return ie.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,a,s){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=s}static As(e,t){let a=ze(),s=ze();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Ag(e,t.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return uI()?8:G2(hn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,s){const l={result:null};return this.ys(e,t).next(f=>{l.result=f}).next(()=>{if(!l.result)return this.ws(e,t,s,a).next(f=>{l.result=f})}).next(()=>{if(l.result)return;const f=new yD;return this.Ss(e,t,f).next(m=>{if(l.result=m,this.Vs)return this.bs(e,t,f,m.size)})}).next(()=>l.result)}bs(e,t,a,s){return a.documentReadCount<this.fs?(mo()<=Ue.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(mo()<=Ue.DEBUG&&he("QueryEngine","Query:",po(t),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.gs*s?(mo()<=Ue.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(t))):ie.resolve())}ys(e,t){if(hE(t))return ie.resolve(null);let a=xi(t);return this.indexManager.getIndexType(e,a).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Pp(t,null,"F"),a=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const f=ze(...l);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(d=>{const g=this.Ds(t,m);return this.Cs(t,g,f,d.readTime)?this.ys(e,Pp(t,null,"F")):this.vs(e,g,t,d)}))})))}ws(e,t,a,s){return hE(t)||s.isEqual(Ie.min())?ie.resolve(null):this.ps.getDocuments(e,a).next(l=>{const f=this.Ds(t,l);return this.Cs(t,f,a,s)?ie.resolve(null):(mo()<=Ue.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),po(t)),this.vs(e,f,t,z2(s,du)).next(m=>m))})}Ds(e,t){let a=new jt(K1(e));return t.forEach((s,l)=>{Rh(e,l)&&(a=a.add(l))}),a}Cs(e,t,a,s){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,t,a){return mo()<=Ue.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",po(t)),this.ps.getDocumentsMatchingQuery(e,t,ga.min(),a)}vs(e,t,a,s){return this.ps.getDocumentsMatchingQuery(e,a,s).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",ED=3e8;class bD{constructor(e,t,a,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new vt(je),this.xs=new vs(l=>gg(l),vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function SD(i,e,t,a){return new bD(i,e,t,a)}async function yS(i,e){const t=Oe(i);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let s;return t.mutationQueue.getAllMutationBatches(a).next(l=>(s=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const f=[],m=[];let d=ze();for(const g of s){f.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}for(const g of l){m.push(g.batchId);for(const y of g.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(a,d).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function TD(i,e){const t=Oe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const s=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,d,g,y){const b=g.batch,T=b.keys();let x=ie.resolve();return T.forEach(C=>{x=x.next(()=>y.getEntry(d,C)).next(P=>{const A=g.docVersions.get(C);We(A!==null,48541),P.version.compareTo(A)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),y.addEntry(P)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(d,b))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let d=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(d=d.add(m.batch.mutations[g].key));return d}(e))).next(()=>t.localDocuments.getDocuments(a,s))})}function _S(i){const e=Oe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function wD(i,e){const t=Oe(i),a=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const m=[];e.targetChanges.forEach((y,b)=>{const T=s.get(b);if(!T)return;m.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,b).next(()=>t.Pi.addMatchingKeys(l,y.addedDocuments,b)));let x=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(rn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,a)),s=s.insert(b,x),function(P,A,M){return P.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=ED?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(T,x,y)&&m.push(t.Pi.updateTargetData(l,x))});let d=wr(),g=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(AD(l,f,e.documentUpdates).next(y=>{d=y.ks,g=y.qs})),!a.isEqual(Ie.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next(b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,a));m.push(y)}return ie.waitFor(m).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,g)).next(()=>d)}).then(l=>(t.Ms=s,l))}function AD(i,e,t){let a=ze(),s=ze();return t.forEach(l=>a=a.add(l)),e.getEntries(i,a).next(l=>{let f=wr();return t.forEach((m,d)=>{const g=l.get(m);d.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(m)),d.isNoDocument()&&d.version.isEqual(Ie.min())?(e.removeEntry(m,d.readTime),f=f.insert(m,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d),f=f.insert(m,d)):he(Rg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",d.version)}),{ks:f,qs:s}})}function RD(i,e){const t=Oe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=dg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function CD(i,e){const t=Oe(i);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let s;return t.Pi.getTargetData(a,e).next(l=>l?(s=l,ie.resolve(s)):t.Pi.allocateTargetId(a).next(f=>(s=new la(e,f,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,s).next(()=>s))))}).then(a=>{const s=t.Ms.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a})}async function Up(i,e,t){const a=Oe(i),s=a.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,f=>a.persistence.referenceDelegate.removeTarget(f,s))}catch(f){if(!jo(f))throw f;he(Rg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(s.target)}function AE(i,e,t){const a=Oe(i);let s=Ie.min(),l=ze();return a.persistence.runTransaction("Execute query","readwrite",f=>function(d,g,y){const b=Oe(d),T=b.xs.get(y);return T!==void 0?ie.resolve(b.Ms.get(T)):b.Pi.getTargetData(g,y)}(a,f,xi(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next(d=>{l=d})}).next(()=>a.Fs.getDocumentsMatchingQuery(f,e,t?s:Ie.min(),t?l:ze())).next(m=>(ID(a,dO(e),m),{documents:m,Qs:l})))}function ID(i,e,t){let a=i.Os.get(e)||Ie.min();t.forEach((s,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),i.Os.set(e,a)}class RE{constructor(){this.activeTargetIds=_O()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.Mo=new RE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="ConnectivityMonitor";class IE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(CE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(CE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf=null;function jp(){return mf===null?mf=function(){return 268435456+Math.round(2147483648*Math.random())}():mf++,"0x"+mf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${s}`,this.Wo=this.databaseId.database===qf?`project_id=${a}`:`project_id=${a}&database_id=${s}`}Go(e,t,a,s,l){const f=jp(),m=this.zo(e,t.toUriEncodedString());he(sp,`Sending RPC '${e}' ${f}:`,m,a);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,l);const{host:g}=new URL(m),y=Vo(g);return this.Jo(e,m,d,a,y).then(b=>(he(sp,`Received RPC '${e}' ${f}: `,b),b),b=>{throw Ro(sp,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",a),b})}Ho(e,t,a,s,l,f){return this.Go(e,t,a,s,l)}jo(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),a&&a.headers.forEach((s,l)=>e[l]=s)}zo(e,t){const a=xD[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class ND extends MD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,s,l){const f=jp();return new Promise((m,d)=>{const g=new S1;g.setWithCredentials(!0),g.listenOnce(T1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case wf.NO_ERROR:const b=g.getResponseJson();he(ln,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case wf.TIMEOUT:he(ln,`RPC '${e}' ${f} timed out`),d(new pe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const T=g.getStatus();if(he(ln,`RPC '${e}' ${f} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x?.error;if(C&&C.status&&C.message){const P=function(M){const Y=M.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(Y)>=0?Y:oe.UNKNOWN}(C.status);d(new pe(P,C.message))}else d(new pe(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new pe(oe.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(ln,`RPC '${e}' ${f} completed.`)}});const y=JSON.stringify(s);he(ln,`RPC '${e}' ${f} sending request:`,s),g.send(t,"POST",y,a,15)})}T_(e,t,a){const s=jp(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R1(),m=A1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,a),d.encodeInitMessageHeaders=!0;const y=l.join("");he(ln,`Creating RPC '${e}' stream ${s}: ${y}`,d);const b=f.createWebChannel(y,d);this.I_(b);let T=!1,x=!1;const C=new PD({Yo:A=>{x?he(ln,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(T||(he(ln,`Opening RPC '${e}' stream ${s} transport.`),b.open(),T=!0),he(ln,`RPC '${e}' stream ${s} sending:`,A),b.send(A))},Zo:()=>b.close()}),P=(A,M,Y)=>{A.listen(M,q=>{try{Y(q)}catch(ae){setTimeout(()=>{throw ae},0)}})};return P(b,tu.EventType.OPEN,()=>{x||(he(ln,`RPC '${e}' stream ${s} transport opened.`),C.o_())}),P(b,tu.EventType.CLOSE,()=>{x||(x=!0,he(ln,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(b))}),P(b,tu.EventType.ERROR,A=>{x||(x=!0,Ro(ln,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),C.a_(new pe(oe.UNAVAILABLE,"The operation could not be completed")))}),P(b,tu.EventType.MESSAGE,A=>{if(!x){const M=A.data[0];We(!!M,16349);const Y=M,q=Y?.error||Y[0]?.error;if(q){he(ln,`RPC '${e}' stream ${s} received error:`,q);const ae=q.status;let j=function(R){const D=Dt[R];if(D!==void 0)return sS(D)}(ae),te=q.message;j===void 0&&(j=oe.INTERNAL,te="Unknown error status: "+ae+" with message "+q.message),x=!0,C.a_(new pe(j,te)),b.close()}else he(ln,`RPC '${e}' stream ${s} received:`,M),C.u_(M)}}),P(m,w1.STAT_EVENT,A=>{A.stat===Cp.PROXY?he(ln,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===Cp.NOPROXY&&he(ln,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(i){return new UO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t,a=1e3,s=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-a);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="PersistentStream";class bS{constructor(e,t,a,s,l,f,m,d){this.Mi=e,this.S_=a,this.b_=s,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ES(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Tr(t.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,s])=>{this.D_===t&&this.G_(a,s)},a=>{e(()=>{const s=new pe(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(s)})})}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{a(()=>this.z_(s))}),this.stream.onMessage(s=>{a(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(OE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(OE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VD extends bS{constructor(e,t,a,s,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,s,f),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=BO(this.serializer,e),a=function(l){if(!("targetChange"in l))return Ie.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?Mi(f.readTime):Ie.min()}(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=Lp(this.serializer),t.addTarget=function(l,f){let m;const d=f.target;if(m=Mp(d)?{documents:qO(l,d)}:{query:GO(l,d).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=uS(l,f.resumeToken);const g=Np(l,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Xf(l,f.snapshotVersion.toTimestamp());const g=Np(l,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const a=QO(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=Lp(this.serializer),t.removeTarget=e,this.q_(t)}}class kD extends bS{constructor(e,t,a,s,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,s,f),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=FO(e.writeResults,e.commitTime),a=Mi(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Lp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>HO(this.serializer,a))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{}class UD extends LD{constructor(e,t,a,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.Go(e,Vp(t,a),s,l,f)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(oe.UNKNOWN,l.toString())})}Ho(e,t,a,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Vp(t,a),s,f,m,l)).catch(f=>{throw f.name==="FirebaseError"?(f.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(oe.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="RemoteStore";class zD{constructor(e,t,a,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(f=>{a.enqueueAndForget(async()=>{_s(this)&&(he(fs,"Restarting streams for network reachability change."),await async function(d){const g=Oe(d);g.Ea.add(4),await xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await xh(g)}(this))})}),this.Ra=new jD(a,s)}}async function xh(i){if(_s(i))for(const e of i.da)await e(!0)}async function xu(i){for(const e of i.da)await e(!1)}function SS(i,e){const t=Oe(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dg(t)?Og(t):zo(t).O_()&&Ig(t,e))}function Cg(i,e){const t=Oe(i),a=zo(t);t.Ia.delete(e),a.O_()&&TS(t,e),t.Ia.size===0&&(a.O_()?a.L_():_s(t)&&t.Ra.set("Unknown"))}function Ig(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(i).Y_(e)}function TS(i,e){i.Va.Ue(e),zo(i).Z_(e)}function Og(i){i.Va=new NO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.Ra.ua()}function Dg(i){return _s(i)&&!zo(i).x_()&&i.Ia.size>0}function _s(i){return Oe(i).Ea.size===0}function wS(i){i.Va=void 0}async function BD(i){i.Ra.set("Online")}async function HD(i){i.Ia.forEach((e,t)=>{Ig(i,e)})}async function FD(i,e){wS(i),Dg(i)?(i.Ra.ha(e),Og(i)):i.Ra.set("Unknown")}async function qD(i,e,t){if(i.Ra.set("Online"),e instanceof lS&&e.state===2&&e.cause)try{await async function(s,l){const f=l.cause;for(const m of l.targetIds)s.Ia.has(m)&&(await s.remoteSyncer.rejectListen(m,f),s.Ia.delete(m),s.Va.removeTarget(m))}(i,e)}catch(a){he(fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Zf(i,a)}else if(e instanceof If?i.Va.Ze(e):e instanceof oS?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ie.min()))try{const a=await _S(i.localStore);t.compareTo(a)>=0&&await function(l,f){const m=l.Va.Tt(f);return m.targetChanges.forEach((d,g)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(d.resumeToken,f))}}),m.targetMismatches.forEach((d,g)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),TS(l,d);const b=new la(y.target,d,g,y.sequenceNumber);Ig(l,b)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(a){he(fs,"Failed to raise snapshot:",a),await Zf(i,a)}}async function Zf(i,e,t){if(!jo(e))throw e;i.Ea.add(1),await xu(i),i.Ra.set("Offline"),t||(t=()=>_S(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(fs,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await xh(i)})}function AS(i,e){return e().catch(t=>Zf(i,t,e))}async function Mh(i){const e=Oe(i),t=Ea(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dg;for(;GD(e);)try{const s=await RD(e.localStore,a);if(s===null){e.Ta.length===0&&t.L_();break}a=s.batchId,$D(e,s)}catch(s){await Zf(e,s)}RS(e)&&CS(e)}function GD(i){return _s(i)&&i.Ta.length<10}function $D(i,e){i.Ta.push(e);const t=Ea(i);t.O_()&&t.X_&&t.ea(e.mutations)}function RS(i){return _s(i)&&!Ea(i).x_()&&i.Ta.length>0}function CS(i){Ea(i).start()}async function QD(i){Ea(i).ra()}async function YD(i){const e=Ea(i);for(const t of i.Ta)e.ea(t.mutations)}async function KD(i,e,t){const a=i.Ta.shift(),s=Eg.from(a,e,t);await AS(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),await Mh(i)}async function XD(i,e){e&&Ea(i).X_&&await async function(a,s){if(function(f){return xO(f)&&f!==oe.ABORTED}(s.code)){const l=a.Ta.shift();Ea(a).B_(),await AS(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Mh(a)}}(i,e),RS(i)&&CS(i)}async function DE(i,e){const t=Oe(i);t.asyncQueue.verifyOperationInProgress(),he(fs,"RemoteStore received new credentials");const a=_s(t);t.Ea.add(3),await xu(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await xh(t)}async function WD(i,e){const t=Oe(i);e?(t.Ea.delete(2),await xh(t)):e||(t.Ea.add(2),await xu(t),t.Ra.set("Unknown"))}function zo(i){return i.ma||(i.ma=function(t,a,s){const l=Oe(t);return l.sa(),new VD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{Xo:BD.bind(null,i),t_:HD.bind(null,i),r_:FD.bind(null,i),H_:qD.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Dg(i)?Og(i):i.Ra.set("Unknown")):(await i.ma.stop(),wS(i))})),i.ma}function Ea(i){return i.fa||(i.fa=function(t,a,s){const l=Oe(t);return l.sa(),new kD(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:QD.bind(null,i),r_:XD.bind(null,i),ta:YD.bind(null,i),na:KD.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Mh(i)):(await i.fa.stop(),i.Ta.length>0&&(he(fs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,a,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=s,this.removalCallback=l,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,s,l){const f=Date.now()+a,m=new xg(e,t,f,s,l);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),jo(i))return new pe(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||_e.comparator(t.key,a.key):(t,a)=>_e.comparator(t.key,a.key),this.keyedMap=nu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=a.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new yo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.ga=new vt(_e.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,a)=>{e.push(a)}),e}}class xo{constructor(e,t,a,s,l,f,m,d,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,s,l){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new xo(e,t,yo.emptySet(t),f,a,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==a[s].type||!t[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JD{constructor(){this.queries=ME(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const s=Oe(t),l=s.queries;s.queries=ME(),l.forEach((f,m)=>{for(const d of m.Sa)d.onError(a)})})(this,new pe(oe.ABORTED,"Firestore shutting down"))}}function ME(){return new vs(i=>Y1(i),Ah)}async function ex(i,e){const t=Oe(i);let a=3;const s=e.query;let l=t.queries.get(s);l?!l.ba()&&e.Da()&&(a=2):(l=new ZD,a=e.Da()?0:1);try{switch(a){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(f){const m=Mg(f,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Pg(t)}async function tx(i,e){const t=Oe(i),a=e.query;let s=3;const l=t.queries.get(a);if(l){const f=l.Sa.indexOf(e);f>=0&&(l.Sa.splice(f,1),l.Sa.length===0?s=e.Da()?0:1:!l.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function nx(i,e){const t=Oe(i);let a=!1;for(const s of e){const l=s.query,f=t.queries.get(l);if(f){for(const m of f.Sa)m.Fa(s)&&(a=!0);f.wa=s}}a&&Pg(t)}function ix(i,e,t){const a=Oe(i),s=a.queries.get(e);if(s)for(const l of s.Sa)l.onError(t);a.queries.delete(e)}function Pg(i){i.Ca.forEach(e=>{e.next()})}var zp,PE;(PE=zp||(zp={})).Ma="default",PE.Cache="cache";class rx{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new xo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.key=e}}class OS{constructor(e){this.key=e}}class ax{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=K1(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new xE,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,f=s,m=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,b)=>{const T=s.get(y),x=Rh(this.query,b)?b:null,C=!!T&&this.mutatedKeys.has(T.key),P=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let A=!1;T&&x?T.data.isEqual(x.data)?C!==P&&(a.track({type:3,doc:x}),A=!0):this.su(T,x)||(a.track({type:2,doc:x}),A=!0,(d&&this.eu(x,d)>0||g&&this.eu(x,g)<0)&&(m=!0)):!T&&x?(a.track({type:0,doc:x}),A=!0):T&&!x&&(a.track({type:1,doc:T}),A=!0,(d||g)&&(m=!0)),A&&(x?(f=f.add(x),l=P?l.add(y):l.delete(y)):(f=f.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const y=this.query.limitType==="F"?f.last():f.first();f=f.delete(y.key),l=l.delete(y.key),a.track({type:1,doc:y})}return{tu:f,iu:a,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((y,b)=>function(x,C){const P=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:A})}};return P(x)-P(C)}(y.type,b.type)||this.eu(y.doc,b.doc)),this.ou(a),s=s??!1;const m=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,g=d!==this.Za;return this.Za=d,f.length!==0||g?{snapshot:new xo(this.query,e.tu,l,f,e.mutatedKeys,d===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const t=[];return e.forEach(a=>{this.Xa.has(a)||t.push(new OS(a))}),this.Xa.forEach(a=>{e.has(a)||t.push(new IS(a))}),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ng="SyncEngine";class sx{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class ox{constructor(e){this.key=e,this.hu=!1}}class lx{constructor(e,t,a,s,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new vs(m=>Y1(m),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new vt(_e.comparator),this.Au=new Map,this.Ru=new Tg,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ux(i,e,t=!0){const a=VS(i);let s;const l=a.Tu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await DS(a,e,t,!0),s}async function cx(i,e){const t=VS(i);await DS(t,e,!0,!1)}async function DS(i,e,t,a){const s=await CD(i.localStore,xi(e)),l=s.targetId,f=i.sharedClientState.addLocalQueryTarget(l,t);let m;return a&&(m=await fx(i,e,l,f==="current",s.resumeToken)),i.isPrimaryClient&&t&&SS(i.remoteStore,s),m}async function fx(i,e,t,a,s){i.pu=(b,T,x)=>async function(P,A,M,Y){let q=A.view.ru(M);q.Cs&&(q=await AE(P.localStore,A.query,!1).then(({documents:I})=>A.view.ru(I,q)));const ae=Y&&Y.targetChanges.get(A.targetId),j=Y&&Y.targetMismatches.get(A.targetId)!=null,te=A.view.applyChanges(q,P.isPrimaryClient,ae,j);return VE(P,A.targetId,te.au),te.snapshot}(i,b,T,x);const l=await AE(i.localStore,e,!0),f=new ax(e,l.Qs),m=f.ru(l.documents),d=Du.createSynthesizedTargetChangeForCurrentChange(t,a&&i.onlineState!=="Offline",s),g=f.applyChanges(m,i.isPrimaryClient,d);VE(i,t,g.au);const y=new sx(e,t,f);return i.Tu.set(e,y),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function hx(i,e,t){const a=Oe(i),s=a.Tu.get(e),l=a.Iu.get(s.targetId);if(l.length>1)return a.Iu.set(s.targetId,l.filter(f=>!Ah(f,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await Up(a.localStore,s.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(s.targetId),t&&Cg(a.remoteStore,s.targetId),Bp(a,s.targetId)}).catch(Uo)):(Bp(a,s.targetId),await Up(a.localStore,s.targetId,!0))}async function dx(i,e){const t=Oe(i),a=t.Tu.get(e),s=t.Iu.get(a.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Cg(t.remoteStore,a.targetId))}async function mx(i,e,t){const a=bx(i);try{const s=await function(f,m){const d=Oe(f),g=ht.now(),y=m.reduce((x,C)=>x.add(C.key),ze());let b,T;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let C=wr(),P=ze();return d.Ns.getEntries(x,y).next(A=>{C=A,C.forEach((M,Y)=>{Y.isValidDocument()||(P=P.add(M))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,C)).next(A=>{b=A;const M=[];for(const Y of m){const q=RO(Y,b.get(Y.key).overlayedDocument);q!=null&&M.push(new ys(Y.key,q,z1(q.value.mapValue),ai.exists(!0)))}return d.mutationQueue.addMutationBatch(x,g,M,m)}).next(A=>{T=A;const M=A.applyToLocalDocumentSet(b,P);return d.documentOverlayCache.saveOverlays(x,A.batchId,M)})}).then(()=>({batchId:T.batchId,changes:W1(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),function(f,m,d){let g=f.Vu[f.currentUser.toKey()];g||(g=new vt(je)),g=g.insert(m,d),f.Vu[f.currentUser.toKey()]=g}(a,s.batchId,t),await Mu(a,s.changes),await Mh(a.remoteStore)}catch(s){const l=Mg(s,"Failed to persist write");t.reject(l)}}async function xS(i,e){const t=Oe(i);try{const a=await wD(t.localStore,e);e.targetChanges.forEach((s,l)=>{const f=t.Au.get(l);f&&(We(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?f.hu=!0:s.modifiedDocuments.size>0?We(f.hu,14607):s.removedDocuments.size>0&&(We(f.hu,42227),f.hu=!1))}),await Mu(t,a,e)}catch(a){await Uo(a)}}function NE(i,e,t){const a=Oe(i);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const s=[];a.Tu.forEach((l,f)=>{const m=f.view.va(e);m.snapshot&&s.push(m.snapshot)}),function(f,m){const d=Oe(f);d.onlineState=m;let g=!1;d.queries.forEach((y,b)=>{for(const T of b.Sa)T.va(m)&&(g=!0)}),g&&Pg(d)}(a.eventManager,e),s.length&&a.Pu.H_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function px(i,e,t){const a=Oe(i);a.sharedClientState.updateQueryState(e,"rejected",t);const s=a.Au.get(e),l=s&&s.key;if(l){let f=new vt(_e.comparator);f=f.insert(l,fn.newNoDocument(l,Ie.min()));const m=ze().add(l),d=new Oh(Ie.min(),new Map,new vt(je),f,m);await xS(a,d),a.du=a.du.remove(l),a.Au.delete(e),Vg(a)}else await Up(a.localStore,e,!1).then(()=>Bp(a,e,t)).catch(Uo)}async function gx(i,e){const t=Oe(i),a=e.batch.batchId;try{const s=await TD(t.localStore,e);PS(t,a,null),MS(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Mu(t,s)}catch(s){await Uo(s)}}async function vx(i,e,t){const a=Oe(i);try{const s=await function(f,m){const d=Oe(f);return d.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return d.mutationQueue.lookupMutationBatch(g,m).next(b=>(We(b!==null,37113),y=b.keys(),d.mutationQueue.removeMutationBatch(g,b))).next(()=>d.mutationQueue.performConsistencyCheck(g)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(g,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>d.localDocuments.getDocuments(g,y))})}(a.localStore,e);PS(a,e,t),MS(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Mu(a,s)}catch(s){await Uo(s)}}function MS(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function PS(i,e,t){const a=Oe(i);let s=a.Vu[a.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),a.Vu[a.currentUser.toKey()]=s}}function Bp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),t&&i.Pu.yu(a,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(a=>{i.Ru.containsKey(a)||NS(i,a)})}function NS(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Cg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Vg(i))}function VE(i,e,t){for(const a of t)a instanceof IS?(i.Ru.addReference(a.key,e),yx(i,a)):a instanceof OS?(he(Ng,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||NS(i,a.key)):we(19791,{wu:a})}function yx(i,e){const t=e.key,a=t.path.canonicalString();i.du.get(t)||i.Eu.has(a)||(he(Ng,"New document in limbo: "+t),i.Eu.add(a),Vg(i))}function Vg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new _e(ft.fromString(e)),a=i.fu.next();i.Au.set(a,new ox(t)),i.du=i.du.insert(t,a),SS(i.remoteStore,new la(xi(Q1(t.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function Mu(i,e,t){const a=Oe(i),s=[],l=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach((m,d)=>{f.push(a.pu(d,e,t).then(g=>{if((g||t)&&a.isPrimaryClient){const y=g?!g.fromCache:t?.targetChanges.get(d.targetId)?.current;a.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(g){s.push(g);const y=Ag.As(d.targetId,g);l.push(y)}}))}),await Promise.all(f),a.Pu.H_(s),await async function(d,g){const y=Oe(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ie.forEach(g,T=>ie.forEach(T.Es,x=>y.persistence.referenceDelegate.addReference(b,T.targetId,x)).next(()=>ie.forEach(T.ds,x=>y.persistence.referenceDelegate.removeReference(b,T.targetId,x)))))}catch(b){if(!jo(b))throw b;he(Rg,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const x=y.Ms.get(T),C=x.snapshotVersion,P=x.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(T,P)}}}(a.localStore,l))}async function _x(i,e){const t=Oe(i);if(!t.currentUser.isEqual(e)){he(Ng,"User change. New user:",e.toKey());const a=await yS(t.localStore,e);t.currentUser=e,function(l,f){l.mu.forEach(m=>{m.forEach(d=>{d.reject(new pe(oe.CANCELLED,f))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Mu(t,a.Ls)}}function Ex(i,e){const t=Oe(i),a=t.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let s=ze();const l=t.Iu.get(e);if(!l)return s;for(const f of l){const m=t.Tu.get(f);s=s.unionWith(m.view.nu)}return s}}function VS(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=px.bind(null,e),e.Pu.H_=nx.bind(null,e.eventManager),e.Pu.yu=ix.bind(null,e.eventManager),e}function bx(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vx.bind(null,e),e}class Jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return SD(this.persistence,new _D,e.initialUser,this.serializer)}Cu(e){return new vS(wg.mi,this.serializer)}Du(e){return new OD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jf.provider={build:()=>new Jf};class Sx extends Jf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Wf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rD(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new vS(a=>Wf.mi(a,t),this.serializer)}}class Hp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>NE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_x.bind(null,this.syncEngine),await WD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JD}()}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),a=function(l){return new ND(l)}(e.databaseInfo);return function(l,f,m,d){return new UD(l,f,m,d)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,s,l,f,m){return new zD(a,s,l,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>NE(this.syncEngine,t,0),function(){return IE.v()?new IE:new DD}())}createSyncEngine(e,t){return function(s,l,f,m,d,g,y){const b=new lx(s,l,f,m,d,g);return y&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const a=Oe(t);he(fs,"RemoteStore shutting down."),a.Ea.add(5),await xu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hp.provider={build:()=>new Hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class wx{constructor(e,t,a,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=s,this.user=cn.UNAUTHENTICATED,this.clientId=fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async f=>{he(ba,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(he(ba,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=Mg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function lp(i,e){i.asyncQueue.verifyOperationInProgress(),he(ba,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let a=t.initialUser;i.setCredentialChangeListener(async s=>{a.isEqual(s)||(await yS(e.localStore,s),a=s)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function kE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Ax(i);he(ba,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(a=>DE(e.remoteStore,a)),i.setAppCheckTokenChangeListener((a,s)=>DE(e.remoteStore,s)),i._onlineComponents=e}async function Ax(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ba,"Using user provided OfflineComponentProvider");try{await lp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await lp(i,new Jf)}}else he(ba,"Using default OfflineComponentProvider"),await lp(i,new Sx(void 0));return i._offlineComponents}async function kS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ba,"Using user provided OnlineComponentProvider"),await kE(i,i._uninitializedComponentsProvider._online)):(he(ba,"Using default OnlineComponentProvider"),await kE(i,new Hp))),i._onlineComponents}function Rx(i){return kS(i).then(e=>e.syncEngine)}async function Cx(i){const e=await kS(i),t=e.eventManager;return t.onListen=ux.bind(null,e.syncEngine),t.onUnlisten=hx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dx.bind(null,e.syncEngine),t}function Ix(i,e,t={}){const a=new ma;return i.asyncQueue.enqueueAndForget(async()=>function(l,f,m,d,g){const y=new Tx({next:T=>{y.Nu(),f.enqueueAndForget(()=>tx(l,b)),T.fromCache&&d.source==="server"?g.reject(new pe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new rx(m,y,{includeMetadataChanges:!0,qa:!0});return ex(l,b)}(await Cx(i),i.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="firestore.googleapis.com",UE=!0;class jE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=US,this.ssl=UE}else this.host=e.host,this.ssl=e.ssl??UE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nD)throw new pe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,s){return a.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,t,a,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new O2;switch(a.type){case"firstParty":return new P2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=LE.get(t);a&&(he("ComponentProvider","Removing Datastore"),LE.delete(t),a.terminate())}(this),Promise.resolve()}}function Ox(i,e,t,a={}){i=cs(i,Ph);const s=Vo(e),l=i._getSettings(),f={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;s&&(d1(`https://${m}`),m1("Firestore",!0)),l.host!==US&&l.host!==m&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:m,ssl:s,emulatorOptions:a};if(!os(d,f)&&(i._setSettings(d),a.mockUserToken)){let g,y;if(typeof a.mockUserToken=="string")g=a.mockUserToken,y=cn.MOCK_USER;else{g=eI(a.mockUserToken,i._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new pe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(b)}i._authCredentials=new D2(new I1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Yt{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Iu(t,Yt._jsonSchema))return new Yt(e,a||null,new _e(ft.fromString(t.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Mt("string",Yt._jsonSchemaVersion),referencePath:Mt("string")};class pa extends Nh{constructor(e,t,a){super(e,t,Q1(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new _e(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function jS(i,e,...t){if(i=Sn(i),O1("collection","path",e),i instanceof Ph){const a=ft.fromString(e,...t);return J0(a),new pa(i,null,a)}{if(!(i instanceof Yt||i instanceof pa))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ft.fromString(e,...t));return J0(a),new pa(i.firestore,null,a)}}function kg(i,e,...t){if(i=Sn(i),arguments.length===1&&(e=fg.newId()),O1("doc","path",e),i instanceof Ph){const a=ft.fromString(e,...t);return Z0(a),new Yt(i,null,new _e(a))}{if(!(i instanceof Yt||i instanceof pa))throw new pe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ft.fromString(e,...t));return Z0(a),new Yt(i.firestore,i instanceof pa?i.converter:null,new _e(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="AsyncQueue";class BE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ES(this,"async_queue_retry"),this._c=()=>{const a=op();a&&he(zE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ma;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;he(zE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",HE(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=xg.createAndSchedule(this,e,t,a,l=>this.hc(l));return this.tc.push(s),s}uc(){this.nc&&we(47125,{Pc:HE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function HE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Pu extends Ph{constructor(e,t,a,s){super(e,t,a,s),this.type="firestore",this._queue=new BE,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BE(e),this._firestoreClient=void 0,await e}}}function Dx(i,e){const t=typeof i=="object"?i:y1(),a=typeof i=="string"?i:qf,s=ug(t,"firestore").getImmediate({identifier:a});if(!s._initialized){const l=ZC("firestore");l&&Ox(s,...l)}return s}function zS(i){if(i._terminated)throw new pe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||xx(i),i._firestoreClient}function xx(i){const e=i._freezeSettings(),t=function(s,l,f,m){return new X2(s,l,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,LS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new wx(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(rn.fromBase64String(e))}catch(t){throw new pe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Mt("string",Kn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Mt("string",Pi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,s){if(a.length!==s.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==s[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,Ni._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ni(e.vectorValues);throw new pe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Mt("string",Ni._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=/^__.*__$/;class Px{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}function HS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:i})}}class Ug{constructor(e,t,a,s,l,f){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HS(this.Ac)&&Mx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nx{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Dh(e)}Cc(e,t,a,s=!1){return new Ug({Ac:e,methodName:t,Dc:a,path:nn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FS(i){const e=i._freezeSettings(),t=Dh(i._databaseId);return new Nx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function qS(i,e,t,a,s,l={}){const f=i.Cc(l.merge||l.mergeFields?2:0,e,t,s);YS("Data must be an object, but it was:",f,a);const m=$S(a,f);let d,g;if(l.merge)d=new ii(f.fieldMask),g=f.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const T=Vx(e,b,t);if(!f.contains(T))throw new pe(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Lx(y,T)||y.push(T)}d=new ii(y),g=f.fieldTransforms.filter(b=>d.covers(b.field))}else d=null,g=f.fieldTransforms;return new Px(new Yn(m),d,g)}function GS(i,e){if(QS(i=Sn(i)))return YS("Unsupported field value:",e,i),$S(i,e);if(i instanceof BS)return function(a,s){if(!HS(s.Ac))throw s.Sc(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,s){const l=[];let f=0;for(const m of a){let d=GS(m,s.wc(f));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),f++}return{arrayValue:{values:l}}}(i,e)}return function(a,s){if((a=Sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return EO(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=ht.fromDate(a);return{timestampValue:Xf(s.serializer,l)}}if(a instanceof ht){const l=new ht(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xf(s.serializer,l)}}if(a instanceof Pi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:uS(s.serializer,a._byteString)};if(a instanceof Yt){const l=s.databaseId,f=a.firestore._databaseId;if(!f.isEqual(l))throw s.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sg(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof Ni)return function(f,m){return{mapValue:{fields:{[U1]:{stringValue:j1},[Gf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return yg(m.serializer,g)})}}}}}}(a,s);throw s.Sc(`Unsupported field value: ${hg(a)}`)}(i,e)}function $S(i,e){const t={};return M1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(i,(a,s)=>{const l=GS(s,e.mc(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function QS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof Pi||i instanceof Kn||i instanceof Yt||i instanceof BS||i instanceof Ni)}function YS(i,e,t){if(!QS(t)||!D1(t)){const a=hg(t);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function Vx(i,e,t){if((e=Sn(e))instanceof Lg)return e._internalPath;if(typeof e=="string")return KS(i,e);throw eh("Field path arguments must be of type string or ",i,!1,void 0,t)}const kx=new RegExp("[~\\*/\\[\\]]");function KS(i,e,t){if(e.search(kx)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Lg(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function eh(i,e,t,a,s){const l=a&&!a.isEmpty(),f=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||f)&&(d+=" (found",l&&(d+=` in field ${a}`),f&&(d+=` in document ${s}`),d+=")"),new pe(oe.INVALID_ARGUMENT,m+i+d)}function Lx(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,a,s,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ux(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(WS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ux extends XS{data(){return super.data()}}function WS(i,e){return typeof e=="string"?KS(i,e):e instanceof Lg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new pe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zx{convertValue(e,t="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return gs(e,(s,l)=>{a[s]=this.convertValue(l,t)}),a}convertVectorValue(e){const t=e.fields?.[Gf].arrayValue?.values?.map(a=>At(a.doubleValue));return new Ni(t)}convertGeoPoint(e){return new Pi(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=va(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=ft.fromString(e);We(pS(a),9688,{name:e});const s=new pu(a.get(1),a.get(3)),l=new _e(a.popFirst(5));return s.isEqual(t)||Tr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(i,e,t){let a;return a=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,a}class pf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends XS{constructor(e,t,a,s,l,f){super(e,t,a,s,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(WS("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_o._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:Mt("string",_o._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Of extends _o{data(e={}){return super.data(e)}}class Eo{constructor(e,t,a,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new pf(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Of(this._firestore,this._userDataWriter,a.key,a,new pf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let f=0;return s._snapshot.docChanges.map(m=>{const d=new Of(s._firestore,s._userDataWriter,m.doc.key,m.doc,new pf(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:f++}})}{let f=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new Of(s._firestore,s._userDataWriter,m.doc.key,m.doc,new pf(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),y=f.indexOf(m.doc.key)),{type:Bx(m.type),doc:d,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],s=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),a.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Bx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:i})}}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:Mt("string",Eo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Hx extends zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function Fx(i){i=cs(i,Nh);const e=cs(i.firestore,Pu),t=zS(e),a=new Hx(e);return jx(i._query),Ix(t,i._query).then(s=>new Eo(e,a,i,s))}function qx(i,e,t){i=cs(i,Yt);const a=cs(i.firestore,Pu),s=ZS(i.converter,e,t);return jg(a,[qS(FS(a),"setDoc",i._key,s,i.converter!==null,t).toMutation(i._key,ai.none())])}function Gx(i){return jg(cs(i.firestore,Pu),[new _g(i._key,ai.none())])}function $x(i,e){const t=cs(i.firestore,Pu),a=kg(i),s=ZS(i.converter,e);return jg(t,[qS(FS(i.firestore),"addDoc",a._key,s,i.converter!==null,{}).toMutation(a._key,ai.exists(!1))]).then(()=>a)}function jg(i,e){return function(a,s){const l=new ma;return a.asyncQueue.enqueueAndForget(async()=>mx(await Rx(a),s,l)),l.promise}(zS(i),e)}(function(e,t=!0){(function(s){Lo=s})(ko),Ao(new ls("firestore",(a,{instanceIdentifier:s,options:l})=>{const f=a.getProvider("app").getImmediate(),m=new Pu(new x2(a.getProvider("auth-internal")),new N2(f,a.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,y)}(f,s),f);return l={useFetchStreams:t,...l},m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),ha(Y0,K0,e),ha(Y0,K0,"esm2020")})();function JS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qx=JS,eT=new Ru("auth","Firebase",JS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new og("@firebase/auth");function Yx(i,...e){th.logLevel<=Ue.WARN&&th.warn(`Auth (${ko}): ${i}`,...e)}function Df(i,...e){th.logLevel<=Ue.ERROR&&th.error(`Auth (${ko}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(i,...e){throw Bg(i,...e)}function si(i,...e){return Bg(i,...e)}function zg(i,e,t){const a={...Qx(),[e]:t};return new Ru("auth","Firebase",a).create(e,{appName:i.name})}function ss(i){return zg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kx(i,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&ji(i,"argument-error"),zg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bg(i,...e){if(typeof i!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(t,...a)}return eT.create(i,...e)}function Ce(i,e,...t){if(!i)throw Bg(e,...t)}function vr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Df(e),new Error(e)}function Ar(i,e){i||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(){return typeof self<"u"&&self.location?.href||""}function Xx(){return FE()==="http:"||FE()==="https:"}function FE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xx()||sI()||"connection"in navigator)?navigator.onLine:!0}function Zx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=iI()||oI()}get(){return Wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(i,e){Ar(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tM=new Nu(3e4,6e4);function Fg(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Bo(i,e,t,a,s={}){return nT(i,s,async()=>{let l={},f={};a&&(e==="GET"?f=a:l={body:JSON.stringify(a)});const m=Cu({key:i.config.apiKey,...f}).slice(1),d=await i._getAdditionalHeaders();d["Content-Type"]="application/json",i.languageCode&&(d["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:d,...l};return aI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(g.credentials="include"),tT.fetch()(await iT(i,i.config.apiHost,t,m),g)})}async function nT(i,e,t){i._canInitEmulator=!1;const a={...Jx,...e};try{const s=new iM(i),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw gf(i,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const m=l.ok?f.errorMessage:f.error.message,[d,g]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw gf(i,"credential-already-in-use",f);if(d==="EMAIL_EXISTS")throw gf(i,"email-already-in-use",f);if(d==="USER_DISABLED")throw gf(i,"user-disabled",f);const y=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw zg(i,y,g);ji(i,y)}}catch(s){if(s instanceof Cr)throw s;ji(i,"network-request-failed",{message:String(s)})}}async function nM(i,e,t,a,s={}){const l=await Bo(i,e,t,a,s);return"mfaPendingCredential"in l&&ji(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function iT(i,e,t,a){const s=`${e}${t}?${a}`,l=i,f=l.config.emulator?Hg(i.config,s):`${i.config.apiScheme}://${s}`;return eM.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(f).toString():f}class iM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(si(this.auth,"network-request-failed")),tM.get())})}}function gf(i,e,t){const a={appName:i.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const s=si(i,e,a);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(i,e){return Bo(i,"POST","/v1/accounts:delete",e)}async function nh(i,e){return Bo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aM(i,e=!1){const t=Sn(i),a=await t.getIdToken(e),s=qg(a);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,f=l?.sign_in_provider;return{claims:s,token:a,authTime:cu(up(s.auth_time)),issuedAtTime:cu(up(s.iat)),expirationTime:cu(up(s.exp)),signInProvider:f||null,signInSecondFactor:l?.sign_in_second_factor||null}}function up(i){return Number(i)*1e3}function qg(i){const[e,t,a]=i.split(".");if(e===void 0||t===void 0||a===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const s=u1(t);return s?JSON.parse(s):(Df("Failed to decode base64 JWT payload"),null)}catch(s){return Df("Caught error parsing JWT payload as JSON",s?.toString()),null}}function qE(i){const e=qg(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(i,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Cr&&sM(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function sM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(i){const e=i.auth,t=await i.getIdToken(),a=await _u(i,nh(e,{idToken:t}));Ce(a?.users.length,e,"internal-error");const s=a.users[0];i._notifyReloadListener(s);const l=s.providerUserInfo?.length?rT(s.providerUserInfo):[],f=uM(i.providerData,l),m=i.isAnonymous,d=!(i.email&&s.passwordHash)&&!f?.length,g=m?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:f,metadata:new qp(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(i,y)}async function lM(i){const e=Sn(i);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uM(i,e){return[...i.filter(a=>!e.some(s=>s.providerId===a.providerId)),...e]}function rT(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(i,e){const t=await nT(i,{},async()=>{const a=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=i.config,f=await iT(i,s,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:m,body:a};return i.emulatorConfig&&Vo(i.emulatorConfig.host)&&(d.credentials="include"),tT.fetch()(f,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fM(i,e){return Bo(i,"POST","/v2/accounts:revokeToken",Fg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=qE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:s,expiresIn:l}=await cM(e,t);this.updateTokensAndExpiration(a,s,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:s,expirationTime:l}=t,f=new bo;return a&&(Ce(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),s&&(Ce(typeof s=="string","internal-error",{appName:e}),f.accessToken=s),l&&(Ce(typeof l=="number","internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:t,stsTokenManager:a,...s}){this.providerId="firebase",this.proactiveRefresh=new oM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return aM(this,e)}reload(){return lM(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await _u(this,rM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,f=t.photoURL??void 0,m=t.tenantId??void 0,d=t._redirectEventId??void 0,g=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:x,providerData:C,stsTokenManager:P}=t;Ce(b&&P,e,"internal-error");const A=bo.fromJSON(this.name,P);Ce(typeof b=="string",e,"internal-error"),ia(a,e.name),ia(s,e.name),Ce(typeof T=="boolean",e,"internal-error"),Ce(typeof x=="boolean",e,"internal-error"),ia(l,e.name),ia(f,e.name),ia(m,e.name),ia(d,e.name),ia(g,e.name),ia(y,e.name);const M=new ri({uid:b,auth:e,email:s,emailVerified:T,displayName:a,isAnonymous:x,photoURL:f,phoneNumber:l,tenantId:m,stsTokenManager:A,createdAt:g,lastLoginAt:y});return C&&Array.isArray(C)&&(M.providerData=C.map(Y=>({...Y}))),d&&(M._redirectEventId=d),M}static async _fromIdTokenResponse(e,t,a=!1){const s=new bo;s.updateFromServerResponse(t);const l=new ri({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:a});return await ih(l),l}static async _fromGetAccountInfoResponse(e,t,a){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?rT(s.providerUserInfo):[],f=!(s.email&&s.passwordHash)&&!l?.length,m=new bo;m.updateFromIdToken(a);const d=new ri({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(d,g),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;function yr(i){Ar(i instanceof Function,"Expected a class definition");let e=GE.get(i);return e?(Ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,GE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aT.type="NONE";const $E=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:s,name:l}=this.auth;this.fullUserKey=xf(this.userKey,s.apiKey,l),this.fullPersistenceKey=xf("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new So(yr($E),e,a);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||yr($E);const f=xf(a,e.config.apiKey,e.name);let m=null;for(const g of t)try{const y=await g._get(f);if(y){let b;if(typeof y=="string"){const T=await nh(e,{idToken:y}).catch(()=>{});if(!T)break;b=await ri._fromGetAccountInfoResponse(e,T,y)}else b=ri._fromJSON(e,y);g!==l&&(m=b),l=g;break}}catch{}const d=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new So(l,e,a):(l=d[0],m&&await l._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(f)}catch{}})),new So(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(hT(e))return"Webos";if(oT(e))return"Safari";if((e.includes("chrome/")||lT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(t);if(a?.length===2)return a[1]}return"Other"}function sT(i=hn()){return/firefox\//i.test(i)}function oT(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lT(i=hn()){return/crios\//i.test(i)}function uT(i=hn()){return/iemobile/i.test(i)}function cT(i=hn()){return/android/i.test(i)}function fT(i=hn()){return/blackberry/i.test(i)}function hT(i=hn()){return/webos/i.test(i)}function Gg(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function hM(i=hn()){return Gg(i)&&!!window.navigator?.standalone}function dM(){return lI()&&document.documentMode===10}function dT(i=hn()){return Gg(i)||cT(i)||hT(i)||fT(i)||/windows phone/i.test(i)||uT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(i,e=[]){let t;switch(i){case"Browser":t=QE(hn());break;case"Worker":t=`${QE(hn())}-${i}`;break;default:t=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((f,m)=>{try{const d=e(l);f(d)}catch(d){m(d)}});a.onAbort=t,this.queue.push(a);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(i,e={}){return Bo(i,"GET","/v2/passwordPolicy",Fg(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=6;class vM{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??gM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let s=0;s<e.length;s++)a=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,a,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YE(this),this.idTokenSubscription=new YE(this),this.beforeStateQueue=new mM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await So.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nh(this,{idToken:e}),a=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===f)&&m?.user&&(a=m.user,s=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(ss(this));const t=e?Sn(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pM(this),t=new vM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await fM(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{f||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,a,s);return()=>{f=!0,d()}}else{const d=e.addObserver(t);return()=>{f=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Yx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vh(i){return Sn(i)}class YE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gI(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _M(i){$g=i}function EM(i){return $g.loadJS(i)}function bM(){return $g.gapiScript}function SM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(i,e){const t=ug(i,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(os(l,e??{}))return s;ji(s,"already-initialized")}return t.initialize({options:e})}function wM(i,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(yr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function AM(i,e,t){const a=Vh(i);Ce(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const s=!1,l=pT(e),{host:f,port:m}=RM(e),d=m===null?"":`:${m}`,g={url:`${l}//${f}${d}/`},y=Object.freeze({host:f,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!a._canInitEmulator){Ce(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ce(os(g,a.config.emulator)&&os(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,Vo(f)?(d1(`${l}//${f}${d}`),m1("Auth",!0)):CM()}function pT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function RM(i){const e=pT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(a);if(s){const l=s[1];return{host:l,port:KE(a.substr(l.length+1))}}else{const[l,f]=a.split(":");return{host:l,port:KE(f)}}}function KE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function CM(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,t){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,e){return nM(i,"POST","/v1/accounts:signInWithIdp",Fg(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="http://localhost";class hs extends gT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:s,...l}=t;if(!a||!s)return null;const f=new hs(a,s);return f.idToken=l.idToken||void 0,f.accessToken=l.accessToken||void 0,f.secret=l.secret,f.nonce=l.nonce,f.pendingToken=l.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return To(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,To(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,To(e,t)}buildRequest(){const e={requestUri:IM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends Qg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Vu{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return gr.credential(t,a)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Vu{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Vu{constructor(){super("twitter.com")}static credential(e,t){return hs._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return oa.credential(t,a)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,s=!1){const l=await ri._fromIdTokenResponse(e,a,s),f=XE(a);return new Mo({user:l,providerId:f,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const s=XE(a);return new Mo({user:e,providerId:s,_tokenResponse:a,operationType:t})}}function XE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Cr{constructor(e,t,a,s){super(t.code,t.message),this.operationType=a,this.user=s,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,s){return new rh(e,t,a,s)}}function vT(i,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(i,l,e,a):l})}async function OM(i,e,t=!1){const a=await _u(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Mo._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(i,e,t=!1){const{auth:a}=i;if(ni(a.app))return Promise.reject(ss(a));const s="reauthenticate";try{const l=await _u(i,vT(a,s,e,i),t);Ce(l.idToken,a,"internal-error");const f=qg(l.idToken);Ce(f,a,"internal-error");const{sub:m}=f;return Ce(i.uid===m,a,"user-mismatch"),Mo._forOperation(i,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&ji(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(i,e,t=!1){if(ni(i.app))return Promise.reject(ss(i));const a="signIn",s=await vT(i,a,e),l=await Mo._fromIdTokenResponse(i,a,s);return t||await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(i,e){return Sn(i).setPersistence(e)}function PM(i,e,t,a){return Sn(i).onIdTokenChanged(e,t,a)}function NM(i,e,t){return Sn(i).beforeAuthStateChanged(e,t)}function VM(i,e,t,a){return Sn(i).onAuthStateChanged(e,t,a)}function kM(i){return Sn(i).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=1e3,UM=10;class _T extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),s=this.localCache[t];a!==s&&e(t,s,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,d)=>{this.notifyListeners(f,d)});return}const a=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const f=this.storage.getItem(a);!t&&this.localCache[a]===f||this.notifyListeners(a,f)},l=this.storage.getItem(a);dM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,UM):s()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_T.type="LOCAL";const ET=_T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bT.type="SESSION";const ST=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const a=new kh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:s,data:l}=t.data,f=this.handlersMap[s];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:s});const m=Array.from(f).map(async g=>g(t.origin,l)),d=await jM(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(i="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,f;return new Promise((m,d)=>{const g=Yg("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},a);f={messageChannel:s,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(f),s.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function BM(i){Vi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function HM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FM(){return navigator?.serviceWorker?.controller||null}function qM(){return TT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebaseLocalStorageDb",GM=1,sh="firebaseLocalStorage",AT="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(i,e){return i.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function $M(){const i=indexedDB.deleteDatabase(wT);return new ku(i).toPromise()}function Gp(){const i=indexedDB.open(wT,GM);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(sh,{keyPath:AT})}catch(s){t(s)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(sh)?e(a):(a.close(),await $M(),e(await Gp()))})})}async function WE(i,e,t){const a=Lh(i,!0).put({[AT]:e,value:t});return new ku(a).toPromise()}async function QM(i,e){const t=Lh(i,!1).get(e),a=await new ku(t).toPromise();return a===void 0?null:a.value}function ZE(i,e){const t=Lh(i,!0).delete(e);return new ku(t).toPromise()}const YM=800,KM=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>KM)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(qM()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HM(),!this.activeServiceWorker)return;this.sender=new zM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await WE(e,ah,"1"),await ZE(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>WE(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>QM(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ZE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Lh(s,!1).getAll();return new ku(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)a.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!a.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const s of Array.from(a))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const XM=RT;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(i,e){return e?yr(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends gT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function WM(i){return xM(i.auth,new Kg(i),i.bypassAuthState)}function ZM(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),DM(t,new Kg(i),i.bypassAuthState)}async function JM(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),OM(t,new Kg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t,a,s,l=!1){this.auth=e,this.resolver=a,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:s,tenantId:l,error:f,type:m}=e;if(f){this.reject(f);return}const d={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WM;case"linkViaPopup":case"linkViaRedirect":return JM;case"reauthViaPopup":case"reauthViaRedirect":return ZM;default:ji(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Nu(2e3,1e4);async function tP(i,e,t){if(ni(i.app))return Promise.reject(si(i,"operation-not-supported-in-this-environment"));const a=Vh(i);Kx(i,e,Qg);const s=CT(a,t);return new as(a,"signInViaPopup",e,s).executeNotNull()}class as extends IT{constructor(e,t,a,s,l){super(e,t,s,l),this.provider=a,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eP.get())};e()}}as.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP="pendingRedirect",Mf=new Map;class iP extends IT{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const a=await rP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rP(i,e){const t=oP(e),a=sP(i);if(!await a._isAvailable())return!1;const s=await a._get(t)==="true";return await a._remove(t),s}function aP(i,e){Mf.set(i._key(),e)}function sP(i){return yr(i._redirectPersistence)}function oP(i){return xf(nP,i.config.apiKey,i.name)}async function lP(i,e,t=!1){if(ni(i.app))return Promise.reject(ss(i));const a=Vh(i),s=CT(a,e),f=await new iP(a,s,t).execute();return f&&!t&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=600*1e3;class cP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!OT(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(si(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uP&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(e))}saveEventToCache(e){this.cachedEventUids.add(JE(e)),this.lastProcessedEventTime=Date.now()}}function JE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function OT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function fP(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(i,e={}){return Bo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mP=/^https?/;async function pP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await hP(i);for(const t of e)try{if(gP(t))return}catch{}ji(i,"unauthorized-domain")}function gP(i){const e=Fp(),{protocol:t,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&a===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===a}if(!mP.test(t))return!1;if(dP.test(i))return a===i;const s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new Nu(3e4,6e4);function eb(){const i=Vi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function yP(i){return new Promise((e,t)=>{function a(){eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eb(),t(si(i,"network-request-failed"))},timeout:vP.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)a();else{const s=SM("iframefcb");return Vi()[s]=()=>{gapi.load?a():t(si(i,"network-request-failed"))},EM(`${bM()}?onload=${s}`).catch(l=>t(l))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function _P(i){return Pf=Pf||yP(i),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new Nu(5e3,15e3),bP="__/auth/iframe",SP="emulator/auth/iframe",TP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AP(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Hg(e,SP):`https://${i.config.authDomain}/${bP}`,a={apiKey:e.apiKey,appName:i.name,v:ko},s=wP.get(i.config.apiHost);s&&(a.eid=s);const l=i._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Cu(a).slice(1)}`}async function RP(i){const e=await _P(i),t=Vi().gapi;return Ce(t,i,"internal-error"),e.open({where:document.body,url:AP(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TP,dontclear:!0},a=>new Promise(async(s,l)=>{await a.restyle({setHideOnLeave:!1});const f=si(i,"network-request-failed"),m=Vi().setTimeout(()=>{l(f)},EP.get());function d(){Vi().clearTimeout(m),s(a)}a.ping(d).then(d,()=>{l(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IP=500,OP=600,DP="_blank",xP="http://localhost";class tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MP(i,e,t,a=IP,s=OP){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const d={...CP,width:a.toString(),height:s.toString(),top:l,left:f},g=hn().toLowerCase();t&&(m=lT(g)?DP:t),sT(g)&&(e=e||xP,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[x,C])=>`${T}${x}=${C},`,"");if(hM(g)&&m!=="_self")return PP(e||"",m),new tb(null);const b=window.open(e||"",m,y);Ce(b,i,"popup-blocked");try{b.focus()}catch{}return new tb(b)}function PP(i,e){const t=document.createElement("a");t.href=i,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="__/auth/handler",VP="emulator/auth/handler",kP=encodeURIComponent("fac");async function nb(i,e,t,a,s,l){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:a,v:ko,eventId:s};if(e instanceof Qg){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",pI(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))f[y]=b}if(e instanceof Vu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(f.scopes=y.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await i._getAppCheckToken(),g=d?`#${kP}=${encodeURIComponent(d)}`:"";return`${LP(i)}?${Cu(m).slice(1)}${g}`}function LP({config:i}){return i.emulator?Hg(i,VP):`https://${i.authDomain}/${NP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class UP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=lP,this._overrideRedirectResult=aP}async _openPopup(e,t,a,s){Ar(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await nb(e,t,a,Fp(),s);return MP(e,l,Yg())}async _openRedirect(e,t,a,s){await this._originValidation(e);const l=await nb(e,t,a,Fp(),s);return BM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ar(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await RP(e),a=new cP(e);return t.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cp,{type:cp},s=>{const l=s?.[0]?.[cp];l!==void 0&&t(!!l),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=pP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dT()||oT()||Gg()}}const jP=UP;var ib="@firebase/auth",rb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HP(i){Ao(new ls("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;Ce(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const d={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(i)},g=new yM(a,s,l,d);return wM(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Ao(new ls("auth-internal",e=>{const t=Vh(e.getProvider("auth").getImmediate());return(a=>new zP(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ha(ib,rb,BP(i)),ha(ib,rb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=300,qP=h1("authIdTokenMaxAge")||FP;let ab=null;const GP=i=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>qP)return;const s=t?.token;ab!==s&&(ab=s,await fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $P(i=y1()){const e=ug(i,"auth");if(e.isInitialized())return e.getImmediate();const t=TM(i,{popupRedirectResolver:jP,persistence:[XM,ET,ST]}),a=h1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const f=GP(l.toString());NM(t,f,()=>f(t.currentUser)),PM(t,m=>f(m))}}const s=c1("auth");return s&&AM(t,`http://${s}`),t}function QP(){return document.getElementsByTagName("head")?.[0]??document}_M({loadJS(i){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=s=>{const l=si("internal-error");l.customData=s,t(l)},a.type="text/javascript",a.charset="UTF-8",QP().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HP("Browser");const YP={apiKey:"AIzaSyDCZtDHtJbGDHY4Dy2TXTh-Cd9TB6Ouz5M",authDomain:"calculadora-deleite.firebaseapp.com",projectId:"calculadora-deleite",storageBucket:"calculadora-deleite.firebasestorage.app",messagingSenderId:"499021770511",appId:"1:499021770511:web:dd150600ceebee0364587a",measurementId:"G-H1NYDH4PM8"},DT=v1(YP),Uh=Dx(DT),oh=$P(DT),KP=new gr,XP=async()=>{try{await MM(oh,ET);const i=await tP(oh,KP);return console.log("Logged in successfully!"),i}catch(i){throw console.error("Error logging in: ",i),i}},sb=async()=>{try{await kM(oh)}catch(i){throw console.error("Error signing out:",i),i}};async function Qt(i){const e=jS(Uh,i);return(await Fx(e)).docs.map(a=>({id:a.id,...a.data()}))}async function jh(i,e){const t=jS(Uh,i),a=await $x(t,e);return console.log(`${i} written with name: ${e.name}`),a.id}async function xT(i,e,t){const a=kg(Uh,i,e);await qx(a,t,{merge:!0}),console.log(`${i} with ID ${e} updated`)}async function Xg(i,e){const t=kg(Uh,i,e);await Gx(t),console.log(`${i} with ID ${e} deleted`)}function WP(){const[i,e]=V.useState([]),[t,a]=V.useState(!1),{data:s,sortColumn:l,sortDirection:f,handleSort:m}=_h(i);V.useEffect(()=>{Promise.resolve(Qt(lt.ingredients)).then(C=>e(C))},[]),V.useEffect(()=>{const C=document.getElementById("ingredient-form");C&&(C.style.top=t?"20vh":"-100vh")},[t]);async function d(C){if(!C.name||!C.price||!C.quantity||!C.unit){alert("Por favor, preencha os campos obrigatrios.");return}if(i.some(P=>P.name===C.name)){alert("Este ingrediente j est na lista.");return}await jh(lt.ingredients,C),document.getElementById("ingredient-form")?.reset(),a(!1),e(await Qt(lt.ingredients))}function g(){return{name:document.getElementById("ingredient-name")?.value||"",price:ct.parseDecimal(document.getElementById("ingredient-price")?.value)||0,quantity:ct.parseDecimal(document.getElementById("ingredient-quantity")?.value)||0,unit:document.getElementById("ingredient-unit")?.value||"",used_in_frame_15:ct.parseDecimal(document.getElementById("ingredient-frame15")?.value)||0,used_in_frame_25:ct.parseDecimal(document.getElementById("ingredient-frame25")?.value)||0,used_in_frame_35:ct.parseDecimal(document.getElementById("ingredient-frame35")?.value)||0}}async function y(C){const P=i.find(M=>M.id===C),A=ct.promptEditIngredient(P);A!==P&&(await xT(lt.ingredients,C,A),e(await Qt(lt.ingredients)))}async function b(C){if(await T(C)){alert("Este ingrediente est sendo usado em um conjunto e no pode ser removido.");return}if(await x(C)){alert("Este ingrediente est sendo usado em um bolo e no pode ser removido.");return}window.confirm("Tem certeza que deseja remover este ingrediente?")&&(await Xg(lt.ingredients,C),e(await Qt(lt.ingredients)))}async function T(C){return(await Qt(lt.bundles)).some(A=>A.ingredients.some(M=>M.id===C))}async function x(C){return(await Qt(lt.cakes)).some(A=>A.ingredients.some(M=>M.id===C))}return O.jsxs("div",{onClick:C=>{C.target===C.currentTarget&&a(!1)},children:[O.jsx("h1",{children:"Lista de Ingredientes"}),O.jsx($t,{label:t?"Fechar menu":"Abrir menu",onClick:()=>a(C=>!C)}),O.jsx(FC,{handleSubmit:()=>d(g()),handleCloseMenu:()=>a(!1)}),i.length===0?O.jsx("p",{children:"Nenhum ingrediente encontrado."}):O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsxs("th",{onClick:()=>m("name"),children:["Nome ",l==="name"?f==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>m("price"),children:["Preo ",l==="price"?f==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>m("quantity"),children:["Quantidade ",l==="quantity"?f==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>m("unit"),children:["Unidade ",l==="unit"?f==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>m("used_in_frame_15"),children:["Qnt usada no aro 15 ",l==="used_in_frame_15"?f==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>m("used_in_frame_25"),children:["Qnt usada no aro 25 ",l==="used_in_frame_25"?f==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>m("used_in_frame_35"),children:["Qnt usada no aro 35 ",l==="used_in_frame_35"?f==="asc"?"":"":""]}),O.jsx("th",{className:"static",children:"Aes"})]})}),O.jsx("tbody",{children:s.map(C=>O.jsxs("tr",{children:[O.jsx("td",{children:C.name}),O.jsx("td",{children:C.price}),O.jsx("td",{children:C.quantity}),O.jsx("td",{children:C.unit}),O.jsx("td",{children:C.used_in_frame_15||Di.noTableItemFoundContent}),O.jsx("td",{children:C.used_in_frame_25||Di.noTableItemFoundContent}),O.jsx("td",{children:C.used_in_frame_35||Di.noTableItemFoundContent}),O.jsx(BC,{handleEdit:()=>y(C.id),handleDelete:()=>b(C.id)})]},C.id))})]})]})}function ds(i){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(i)}function ZP(i,e){if(ds(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var a=t.call(i,e);if(ds(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function MT(i){var e=ZP(i,"string");return ds(e)=="symbol"?e:e+""}function ru(i,e,t){return(e=MT(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function ob(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),t.push.apply(t,a)}return t}function Ee(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ob(Object(t),!0).forEach(function(a){ru(i,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ob(Object(t)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))})}return i}function JP(i){if(Array.isArray(i))return i}function e4(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var a,s,l,f,m=[],d=!0,g=!1;try{if(l=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(a=l.call(t)).done)&&(m.push(a.value),m.length!==e);d=!0);}catch(y){g=!0,s=y}finally{try{if(!d&&t.return!=null&&(f=t.return(),Object(f)!==f))return}finally{if(g)throw s}}return m}}function $p(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,a=Array(e);t<e;t++)a[t]=i[t];return a}function PT(i,e){if(i){if(typeof i=="string")return $p(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$p(i,e):void 0}}function t4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Er(i,e){return JP(i)||e4(i,e)||PT(i,e)||t4()}function n4(i,e){if(i==null)return{};var t={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(e.indexOf(a)!==-1)continue;t[a]=i[a]}return t}function Ir(i,e){if(i==null)return{};var t,a,s=n4(i,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(a=0;a<l.length;a++)t=l[a],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(i,t)&&(s[t]=i[t])}return s}var i4=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function r4(i){var e=i.defaultInputValue,t=e===void 0?"":e,a=i.defaultMenuIsOpen,s=a===void 0?!1:a,l=i.defaultValue,f=l===void 0?null:l,m=i.inputValue,d=i.menuIsOpen,g=i.onChange,y=i.onInputChange,b=i.onMenuClose,T=i.onMenuOpen,x=i.value,C=Ir(i,i4),P=V.useState(m!==void 0?m:t),A=Er(P,2),M=A[0],Y=A[1],q=V.useState(d!==void 0?d:s),ae=Er(q,2),j=ae[0],te=ae[1],I=V.useState(x!==void 0?x:f),R=Er(I,2),D=R[0],U=R[1],z=V.useCallback(function(fe,Me){typeof g=="function"&&g(fe,Me),U(fe)},[g]),H=V.useCallback(function(fe,Me){var L;typeof y=="function"&&(L=y(fe,Me)),Y(L!==void 0?L:fe)},[y]),k=V.useCallback(function(){typeof T=="function"&&T(),te(!0)},[T]),at=V.useCallback(function(){typeof b=="function"&&b(),te(!1)},[b]),De=m!==void 0?m:M,W=d!==void 0?d:j,ue=x!==void 0?x:D;return Ee(Ee({},C),{},{inputValue:De,menuIsOpen:W,onChange:z,onInputChange:H,onMenuClose:at,onMenuOpen:k,value:ue})}function Te(){return Te=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(i[a]=t[a])}return i},Te.apply(null,arguments)}function a4(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function lb(i,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,MT(a.key),a)}}function s4(i,e,t){return e&&lb(i.prototype,e),t&&lb(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Qp(i,e){return Qp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},Qp(i,e)}function o4(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Qp(i,e)}function lh(i){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lh(i)}function NT(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NT=function(){return!!i})()}function l4(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function u4(i,e){if(e&&(ds(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l4(i)}function c4(i){var e=NT();return function(){var t,a=lh(i);if(e){var s=lh(this).constructor;t=Reflect.construct(a,arguments,s)}else t=a.apply(this,arguments);return u4(this,t)}}function f4(i){if(Array.isArray(i))return $p(i)}function h4(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function d4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wg(i){return f4(i)||h4(i)||PT(i)||d4()}function m4(i){if(i.sheet)return i.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===i)return document.styleSheets[e]}function p4(i){var e=document.createElement("style");return e.setAttribute("data-emotion",i.key),i.nonce!==void 0&&e.setAttribute("nonce",i.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var g4=function(){function i(t){var a=this;this._insertTag=function(s){var l;a.tags.length===0?a.insertionPoint?l=a.insertionPoint.nextSibling:a.prepend?l=a.container.firstChild:l=a.before:l=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(s,l),a.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=i.prototype;return e.hydrate=function(a){a.forEach(this._insertTag)},e.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(p4(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var l=m4(s);try{l.insertRule(a,l.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(a));this.ctr++},e.flush=function(){this.tags.forEach(function(a){var s;return(s=a.parentNode)==null?void 0:s.removeChild(a)}),this.tags=[],this.ctr=0},i}(),un="-ms-",uh="-moz-",Qe="-webkit-",VT="comm",Zg="rule",Jg="decl",v4="@import",kT="@keyframes",y4="@layer",_4=Math.abs,zh=String.fromCharCode,E4=Object.assign;function b4(i,e){return tn(i,0)^45?(((e<<2^tn(i,0))<<2^tn(i,1))<<2^tn(i,2))<<2^tn(i,3):0}function LT(i){return i.trim()}function S4(i,e){return(i=e.exec(i))?i[0]:i}function Ye(i,e,t){return i.replace(e,t)}function Yp(i,e){return i.indexOf(e)}function tn(i,e){return i.charCodeAt(e)|0}function Eu(i,e,t){return i.slice(e,t)}function Ii(i){return i.length}function ev(i){return i.length}function vf(i,e){return e.push(i),i}function T4(i,e){return i.map(e).join("")}var Bh=1,Po=1,UT=0,Tn=0,xt=0,Ho="";function Hh(i,e,t,a,s,l,f){return{value:i,root:e,parent:t,type:a,props:s,children:l,line:Bh,column:Po,length:f,return:""}}function Jl(i,e){return E4(Hh("",null,null,"",null,null,0),i,{length:-i.length},e)}function w4(){return xt}function A4(){return xt=Tn>0?tn(Ho,--Tn):0,Po--,xt===10&&(Po=1,Bh--),xt}function Pn(){return xt=Tn<UT?tn(Ho,Tn++):0,Po++,xt===10&&(Po=1,Bh++),xt}function ki(){return tn(Ho,Tn)}function Nf(){return Tn}function Lu(i,e){return Eu(Ho,i,e)}function bu(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jT(i){return Bh=Po=1,UT=Ii(Ho=i),Tn=0,[]}function zT(i){return Ho="",i}function Vf(i){return LT(Lu(Tn-1,Kp(i===91?i+2:i===40?i+1:i)))}function R4(i){for(;(xt=ki())&&xt<33;)Pn();return bu(i)>2||bu(xt)>3?"":" "}function C4(i,e){for(;--e&&Pn()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return Lu(i,Nf()+(e<6&&ki()==32&&Pn()==32))}function Kp(i){for(;Pn();)switch(xt){case i:return Tn;case 34:case 39:i!==34&&i!==39&&Kp(xt);break;case 40:i===41&&Kp(i);break;case 92:Pn();break}return Tn}function I4(i,e){for(;Pn()&&i+xt!==57;)if(i+xt===84&&ki()===47)break;return"/*"+Lu(e,Tn-1)+"*"+zh(i===47?i:Pn())}function O4(i){for(;!bu(ki());)Pn();return Lu(i,Tn)}function D4(i){return zT(kf("",null,null,null,[""],i=jT(i),0,[0],i))}function kf(i,e,t,a,s,l,f,m,d){for(var g=0,y=0,b=f,T=0,x=0,C=0,P=1,A=1,M=1,Y=0,q="",ae=s,j=l,te=a,I=q;A;)switch(C=Y,Y=Pn()){case 40:if(C!=108&&tn(I,b-1)==58){Yp(I+=Ye(Vf(Y),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:I+=Vf(Y);break;case 9:case 10:case 13:case 32:I+=R4(C);break;case 92:I+=C4(Nf()-1,7);continue;case 47:switch(ki()){case 42:case 47:vf(x4(I4(Pn(),Nf()),e,t),d);break;default:I+="/"}break;case 123*P:m[g++]=Ii(I)*M;case 125*P:case 59:case 0:switch(Y){case 0:case 125:A=0;case 59+y:M==-1&&(I=Ye(I,/\f/g,"")),x>0&&Ii(I)-b&&vf(x>32?cb(I+";",a,t,b-1):cb(Ye(I," ","")+";",a,t,b-2),d);break;case 59:I+=";";default:if(vf(te=ub(I,e,t,g,y,s,m,q,ae=[],j=[],b),l),Y===123)if(y===0)kf(I,e,te,te,ae,l,b,m,j);else switch(T===99&&tn(I,3)===110?100:T){case 100:case 108:case 109:case 115:kf(i,te,te,a&&vf(ub(i,te,te,0,0,s,m,q,s,ae=[],b),j),s,j,b,m,a?ae:j);break;default:kf(I,te,te,te,[""],j,0,m,j)}}g=y=x=0,P=M=1,q=I="",b=f;break;case 58:b=1+Ii(I),x=C;default:if(P<1){if(Y==123)--P;else if(Y==125&&P++==0&&A4()==125)continue}switch(I+=zh(Y),Y*P){case 38:M=y>0?1:(I+="\f",-1);break;case 44:m[g++]=(Ii(I)-1)*M,M=1;break;case 64:ki()===45&&(I+=Vf(Pn())),T=ki(),y=b=Ii(q=I+=O4(Nf())),Y++;break;case 45:C===45&&Ii(I)==2&&(P=0)}}return l}function ub(i,e,t,a,s,l,f,m,d,g,y){for(var b=s-1,T=s===0?l:[""],x=ev(T),C=0,P=0,A=0;C<a;++C)for(var M=0,Y=Eu(i,b+1,b=_4(P=f[C])),q=i;M<x;++M)(q=LT(P>0?T[M]+" "+Y:Ye(Y,/&\f/g,T[M])))&&(d[A++]=q);return Hh(i,e,t,s===0?Zg:m,d,g,y)}function x4(i,e,t){return Hh(i,e,t,VT,zh(w4()),Eu(i,2,-2),0)}function cb(i,e,t,a){return Hh(i,e,t,Jg,Eu(i,0,a),Eu(i,a+1,-1),a)}function wo(i,e){for(var t="",a=ev(i),s=0;s<a;s++)t+=e(i[s],s,i,e)||"";return t}function M4(i,e,t,a){switch(i.type){case y4:if(i.children.length)break;case v4:case Jg:return i.return=i.return||i.value;case VT:return"";case kT:return i.return=i.value+"{"+wo(i.children,a)+"}";case Zg:i.value=i.props.join(",")}return Ii(t=wo(i.children,a))?i.return=i.value+"{"+t+"}":""}function P4(i){var e=ev(i);return function(t,a,s,l){for(var f="",m=0;m<e;m++)f+=i[m](t,a,s,l)||"";return f}}function N4(i){return function(e){e.root||(e=e.return)&&i(e)}}function V4(i){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=i(t)),e[t]}}var k4=function(e,t,a){for(var s=0,l=0;s=l,l=ki(),s===38&&l===12&&(t[a]=1),!bu(l);)Pn();return Lu(e,Tn)},L4=function(e,t){var a=-1,s=44;do switch(bu(s)){case 0:s===38&&ki()===12&&(t[a]=1),e[a]+=k4(Tn-1,t,a);break;case 2:e[a]+=Vf(s);break;case 4:if(s===44){e[++a]=ki()===58?"&\f":"",t[a]=e[a].length;break}default:e[a]+=zh(s)}while(s=Pn());return e},U4=function(e,t){return zT(L4(jT(e),t))},fb=new WeakMap,j4=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,a=e.parent,s=e.column===a.column&&e.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!fb.get(a))&&!s){fb.set(e,!0);for(var l=[],f=U4(t,l),m=a.props,d=0,g=0;d<f.length;d++)for(var y=0;y<m.length;y++,g++)e.props[g]=l[d]?f[d].replace(/&\f/g,m[y]):m[y]+" "+f[d]}}},z4=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function BT(i,e){switch(b4(i,e)){case 5103:return Qe+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+i+uh+i+un+i+i;case 6828:case 4268:return Qe+i+un+i+i;case 6165:return Qe+i+un+"flex-"+i+i;case 5187:return Qe+i+Ye(i,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+un+"flex-$1$2")+i;case 5443:return Qe+i+un+"flex-item-"+Ye(i,/flex-|-self/,"")+i;case 4675:return Qe+i+un+"flex-line-pack"+Ye(i,/align-content|flex-|-self/,"")+i;case 5548:return Qe+i+un+Ye(i,"shrink","negative")+i;case 5292:return Qe+i+un+Ye(i,"basis","preferred-size")+i;case 6060:return Qe+"box-"+Ye(i,"-grow","")+Qe+i+un+Ye(i,"grow","positive")+i;case 4554:return Qe+Ye(i,/([^-])(transform)/g,"$1"+Qe+"$2")+i;case 6187:return Ye(Ye(Ye(i,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),i,"")+i;case 5495:case 3959:return Ye(i,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Ye(Ye(i,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+un+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+i+i;case 4095:case 3583:case 4068:case 2532:return Ye(i,/(.+)-inline(.+)/,Qe+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ii(i)-1-e>6)switch(tn(i,e+1)){case 109:if(tn(i,e+4)!==45)break;case 102:return Ye(i,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+uh+(tn(i,e+3)==108?"$3":"$2-$3"))+i;case 115:return~Yp(i,"stretch")?BT(Ye(i,"stretch","fill-available"),e)+i:i}break;case 4949:if(tn(i,e+1)!==115)break;case 6444:switch(tn(i,Ii(i)-3-(~Yp(i,"!important")&&10))){case 107:return Ye(i,":",":"+Qe)+i;case 101:return Ye(i,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(tn(i,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+un+"$2box$3")+i}break;case 5936:switch(tn(i,e+11)){case 114:return Qe+i+un+Ye(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Qe+i+un+Ye(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Qe+i+un+Ye(i,/[svh]\w+-[tblr]{2}/,"lr")+i}return Qe+i+un+i+i}return i}var B4=function(e,t,a,s){if(e.length>-1&&!e.return)switch(e.type){case Jg:e.return=BT(e.value,e.length);break;case kT:return wo([Jl(e,{value:Ye(e.value,"@","@"+Qe)})],s);case Zg:if(e.length)return T4(e.props,function(l){switch(S4(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wo([Jl(e,{props:[Ye(l,/:(read-\w+)/,":"+uh+"$1")]})],s);case"::placeholder":return wo([Jl(e,{props:[Ye(l,/:(plac\w+)/,":"+Qe+"input-$1")]}),Jl(e,{props:[Ye(l,/:(plac\w+)/,":"+uh+"$1")]}),Jl(e,{props:[Ye(l,/:(plac\w+)/,un+"input-$1")]})],s)}return""})}},H4=[B4],F4=function(e){var t=e.key;if(t==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(P){var A=P.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var s=e.stylisPlugins||H4,l={},f,m=[];f=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(P){for(var A=P.getAttribute("data-emotion").split(" "),M=1;M<A.length;M++)l[A[M]]=!0;m.push(P)});var d,g=[j4,z4];{var y,b=[M4,N4(function(P){y.insert(P)})],T=P4(g.concat(s,b)),x=function(A){return wo(D4(A),T)};d=function(A,M,Y,q){y=Y,x(A?A+"{"+M.styles+"}":M.styles),q&&(C.inserted[M.name]=!0)}}var C={key:t,sheet:new g4({key:t,container:f,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:d};return C.sheet.hydrate(m),C},fp={exports:{}},Xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function q4(){if(hb)return Xe;hb=1;var i=typeof Symbol=="function"&&Symbol.for,e=i?Symbol.for("react.element"):60103,t=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,f=i?Symbol.for("react.provider"):60109,m=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.async_mode"):60111,g=i?Symbol.for("react.concurrent_mode"):60111,y=i?Symbol.for("react.forward_ref"):60112,b=i?Symbol.for("react.suspense"):60113,T=i?Symbol.for("react.suspense_list"):60120,x=i?Symbol.for("react.memo"):60115,C=i?Symbol.for("react.lazy"):60116,P=i?Symbol.for("react.block"):60121,A=i?Symbol.for("react.fundamental"):60117,M=i?Symbol.for("react.responder"):60118,Y=i?Symbol.for("react.scope"):60119;function q(j){if(typeof j=="object"&&j!==null){var te=j.$$typeof;switch(te){case e:switch(j=j.type,j){case d:case g:case a:case l:case s:case b:return j;default:switch(j=j&&j.$$typeof,j){case m:case y:case C:case x:case f:return j;default:return te}}case t:return te}}}function ae(j){return q(j)===g}return Xe.AsyncMode=d,Xe.ConcurrentMode=g,Xe.ContextConsumer=m,Xe.ContextProvider=f,Xe.Element=e,Xe.ForwardRef=y,Xe.Fragment=a,Xe.Lazy=C,Xe.Memo=x,Xe.Portal=t,Xe.Profiler=l,Xe.StrictMode=s,Xe.Suspense=b,Xe.isAsyncMode=function(j){return ae(j)||q(j)===d},Xe.isConcurrentMode=ae,Xe.isContextConsumer=function(j){return q(j)===m},Xe.isContextProvider=function(j){return q(j)===f},Xe.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Xe.isForwardRef=function(j){return q(j)===y},Xe.isFragment=function(j){return q(j)===a},Xe.isLazy=function(j){return q(j)===C},Xe.isMemo=function(j){return q(j)===x},Xe.isPortal=function(j){return q(j)===t},Xe.isProfiler=function(j){return q(j)===l},Xe.isStrictMode=function(j){return q(j)===s},Xe.isSuspense=function(j){return q(j)===b},Xe.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===a||j===g||j===l||j===s||j===b||j===T||typeof j=="object"&&j!==null&&(j.$$typeof===C||j.$$typeof===x||j.$$typeof===f||j.$$typeof===m||j.$$typeof===y||j.$$typeof===A||j.$$typeof===M||j.$$typeof===Y||j.$$typeof===P)},Xe.typeOf=q,Xe}var db;function G4(){return db||(db=1,fp.exports=q4()),fp.exports}var hp,mb;function $4(){if(mb)return hp;mb=1;var i=G4(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[i.ForwardRef]=a,l[i.Memo]=s;function f(C){return i.isMemo(C)?s:l[C.$$typeof]||e}var m=Object.defineProperty,d=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,T=Object.prototype;function x(C,P,A){if(typeof P!="string"){if(T){var M=b(P);M&&M!==T&&x(C,M,A)}var Y=d(P);g&&(Y=Y.concat(g(P)));for(var q=f(C),ae=f(P),j=0;j<Y.length;++j){var te=Y[j];if(!t[te]&&!(A&&A[te])&&!(ae&&ae[te])&&!(q&&q[te])){var I=y(P,te);try{m(C,te,I)}catch{}}}}return C}return hp=x,hp}$4();var Q4=!0;function Y4(i,e,t){var a="";return t.split(" ").forEach(function(s){i[s]!==void 0?e.push(i[s]+";"):s&&(a+=s+" ")}),a}var HT=function(e,t,a){var s=e.key+"-"+t.name;(a===!1||Q4===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},K4=function(e,t,a){HT(e,t,a);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l=t;do e.insert(t===l?"."+s:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function X4(i){for(var e=0,t,a=0,s=i.length;s>=4;++a,s-=4)t=i.charCodeAt(a)&255|(i.charCodeAt(++a)&255)<<8|(i.charCodeAt(++a)&255)<<16|(i.charCodeAt(++a)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(i.charCodeAt(a+2)&255)<<16;case 2:e^=(i.charCodeAt(a+1)&255)<<8;case 1:e^=i.charCodeAt(a)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var W4={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Z4=/[A-Z]|^ms/g,J4=/_EMO_([^_]+?)_([^]*?)_EMO_/g,FT=function(e){return e.charCodeAt(1)===45},pb=function(e){return e!=null&&typeof e!="boolean"},dp=V4(function(i){return FT(i)?i:i.replace(Z4,"-$&").toLowerCase()}),gb=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(J4,function(a,s,l){return Oi={name:s,styles:l,next:Oi},s})}return W4[e]!==1&&!FT(e)&&typeof t=="number"&&t!==0?t+"px":t};function Su(i,e,t){if(t==null)return"";var a=t;if(a.__emotion_styles!==void 0)return a;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Oi={name:s.name,styles:s.styles,next:Oi},s.name;var l=t;if(l.styles!==void 0){var f=l.next;if(f!==void 0)for(;f!==void 0;)Oi={name:f.name,styles:f.styles,next:Oi},f=f.next;var m=l.styles+";";return m}return eN(i,e,t)}case"function":{if(i!==void 0){var d=Oi,g=t(i);return Oi=d,Su(i,e,g)}break}}var y=t;return y}function eN(i,e,t){var a="";if(Array.isArray(t))for(var s=0;s<t.length;s++)a+=Su(i,e,t[s])+";";else for(var l in t){var f=t[l];if(typeof f!="object"){var m=f;pb(m)&&(a+=dp(l)+":"+gb(l,m)+";")}else if(Array.isArray(f)&&typeof f[0]=="string"&&e==null)for(var d=0;d<f.length;d++)pb(f[d])&&(a+=dp(l)+":"+gb(l,f[d])+";");else{var g=Su(i,e,f);switch(l){case"animation":case"animationName":{a+=dp(l)+":"+g+";";break}default:a+=l+"{"+g+"}"}}}return a}var vb=/label:\s*([^\s;{]+)\s*(;|$)/g,Oi;function qT(i,e,t){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var a=!0,s="";Oi=void 0;var l=i[0];if(l==null||l.raw===void 0)a=!1,s+=Su(t,e,l);else{var f=l;s+=f[0]}for(var m=1;m<i.length;m++)if(s+=Su(t,e,i[m]),a){var d=l;s+=d[m]}vb.lastIndex=0;for(var g="",y;(y=vb.exec(s))!==null;)g+="-"+y[1];var b=X4(s)+g;return{name:b,styles:s,next:Oi}}var tN=function(e){return e()},nN=S0.useInsertionEffect?S0.useInsertionEffect:!1,iN=nN||tN,GT=V.createContext(typeof HTMLElement<"u"?F4({key:"css"}):null);GT.Provider;var rN=function(e){return V.forwardRef(function(t,a){var s=V.useContext(GT);return e(t,s,a)})},aN=V.createContext({}),tv={}.hasOwnProperty,Xp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",sN=function(e,t){var a={};for(var s in t)tv.call(t,s)&&(a[s]=t[s]);return a[Xp]=e,a},oN=function(e){var t=e.cache,a=e.serialized,s=e.isStringTag;return HT(t,a,s),iN(function(){return K4(t,a,s)}),null},lN=rN(function(i,e,t){var a=i.css;typeof a=="string"&&e.registered[a]!==void 0&&(a=e.registered[a]);var s=i[Xp],l=[a],f="";typeof i.className=="string"?f=Y4(e.registered,l,i.className):i.className!=null&&(f=i.className+" ");var m=qT(l,void 0,V.useContext(aN));f+=e.key+"-"+m.name;var d={};for(var g in i)tv.call(i,g)&&g!=="css"&&g!==Xp&&(d[g]=i[g]);return d.className=f,t&&(d.ref=t),V.createElement(V.Fragment,null,V.createElement(oN,{cache:e,serialized:m,isStringTag:typeof s=="string"}),V.createElement(s,d))}),uN=lN,ye=function(e,t){var a=arguments;if(t==null||!tv.call(t,"css"))return V.createElement.apply(void 0,a);var s=a.length,l=new Array(s);l[0]=uN,l[1]=sN(e,t);for(var f=2;f<s;f++)l[f]=a[f];return V.createElement.apply(null,l)};(function(i){var e;e||(e=i.JSX||(i.JSX={}))})(ye||(ye={}));function nv(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return qT(e)}function cN(){var i=nv.apply(void 0,arguments),e="animation-"+i.name;return{name:e,styles:"@keyframes "+e+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function fN(i,e){return e||(e=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(e)}}))}const hN=Math.min,dN=Math.max,ch=Math.round,yf=Math.floor,fh=i=>({x:i,y:i});function mN(i){const{x:e,y:t,width:a,height:s}=i;return{width:a,height:s,top:t,left:e,right:e+a,bottom:t+s,x:e,y:t}}function Fh(){return typeof window<"u"}function $T(i){return YT(i)?(i.nodeName||"").toLowerCase():"#document"}function Rr(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function QT(i){var e;return(e=(YT(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function YT(i){return Fh()?i instanceof Node||i instanceof Rr(i).Node:!1}function pN(i){return Fh()?i instanceof Element||i instanceof Rr(i).Element:!1}function iv(i){return Fh()?i instanceof HTMLElement||i instanceof Rr(i).HTMLElement:!1}function yb(i){return!Fh()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof Rr(i).ShadowRoot}const gN=new Set(["inline","contents"]);function KT(i){const{overflow:e,overflowX:t,overflowY:a,display:s}=rv(i);return/auto|scroll|overlay|hidden|clip/.test(e+a+t)&&!gN.has(s)}function vN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yN=new Set(["html","body","#document"]);function _N(i){return yN.has($T(i))}function rv(i){return Rr(i).getComputedStyle(i)}function EN(i){if($T(i)==="html")return i;const e=i.assignedSlot||i.parentNode||yb(i)&&i.host||QT(i);return yb(e)?e.host:e}function XT(i){const e=EN(i);return _N(e)?i.ownerDocument?i.ownerDocument.body:i.body:iv(e)&&KT(e)?e:XT(e)}function hh(i,e,t){var a;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=XT(i),l=s===((a=i.ownerDocument)==null?void 0:a.body),f=Rr(s);if(l){const m=Wp(f);return e.concat(f,f.visualViewport||[],KT(s)?s:[],m&&t?hh(m):[])}return e.concat(s,hh(s,[],t))}function Wp(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function bN(i){const e=rv(i);let t=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const s=iv(i),l=s?i.offsetWidth:t,f=s?i.offsetHeight:a,m=ch(t)!==l||ch(a)!==f;return m&&(t=l,a=f),{width:t,height:a,$:m}}function av(i){return pN(i)?i:i.contextElement}function _b(i){const e=av(i);if(!iv(e))return fh(1);const t=e.getBoundingClientRect(),{width:a,height:s,$:l}=bN(e);let f=(l?ch(t.width):t.width)/a,m=(l?ch(t.height):t.height)/s;return(!f||!Number.isFinite(f))&&(f=1),(!m||!Number.isFinite(m))&&(m=1),{x:f,y:m}}const SN=fh(0);function TN(i){const e=Rr(i);return!vN()||!e.visualViewport?SN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wN(i,e,t){return!1}function Eb(i,e,t,a){e===void 0&&(e=!1);const s=i.getBoundingClientRect(),l=av(i);let f=fh(1);e&&(f=_b(i));const m=wN()?TN(l):fh(0);let d=(s.left+m.x)/f.x,g=(s.top+m.y)/f.y,y=s.width/f.x,b=s.height/f.y;if(l){const T=Rr(l),x=a;let C=T,P=Wp(C);for(;P&&a&&x!==C;){const A=_b(P),M=P.getBoundingClientRect(),Y=rv(P),q=M.left+(P.clientLeft+parseFloat(Y.paddingLeft))*A.x,ae=M.top+(P.clientTop+parseFloat(Y.paddingTop))*A.y;d*=A.x,g*=A.y,y*=A.x,b*=A.y,d+=q,g+=ae,C=Rr(P),P=Wp(C)}}return mN({width:y,height:b,x:d,y:g})}function WT(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function AN(i,e){let t=null,a;const s=QT(i);function l(){var m;clearTimeout(a),(m=t)==null||m.disconnect(),t=null}function f(m,d){m===void 0&&(m=!1),d===void 0&&(d=1),l();const g=i.getBoundingClientRect(),{left:y,top:b,width:T,height:x}=g;if(m||e(),!T||!x)return;const C=yf(b),P=yf(s.clientWidth-(y+T)),A=yf(s.clientHeight-(b+x)),M=yf(y),q={rootMargin:-C+"px "+-P+"px "+-A+"px "+-M+"px",threshold:dN(0,hN(1,d))||1};let ae=!0;function j(te){const I=te[0].intersectionRatio;if(I!==d){if(!ae)return f();I?f(!1,I):a=setTimeout(()=>{f(!1,1e-7)},1e3)}I===1&&!WT(g,i.getBoundingClientRect())&&f(),ae=!1}try{t=new IntersectionObserver(j,{...q,root:s.ownerDocument})}catch{t=new IntersectionObserver(j,q)}t.observe(i)}return f(!0),l}function RN(i,e,t,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,g=av(i),y=s||l?[...g?hh(g):[],...hh(e)]:[];y.forEach(M=>{s&&M.addEventListener("scroll",t,{passive:!0}),l&&M.addEventListener("resize",t)});const b=g&&m?AN(g,t):null;let T=-1,x=null;f&&(x=new ResizeObserver(M=>{let[Y]=M;Y&&Y.target===g&&x&&(x.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var q;(q=x)==null||q.observe(e)})),t()}),g&&!d&&x.observe(g),x.observe(e));let C,P=d?Eb(i):null;d&&A();function A(){const M=Eb(i);P&&!WT(P,M)&&t(),P=M,C=requestAnimationFrame(A)}return t(),()=>{var M;y.forEach(Y=>{s&&Y.removeEventListener("scroll",t),l&&Y.removeEventListener("resize",t)}),b?.(),(M=x)==null||M.disconnect(),x=null,d&&cancelAnimationFrame(C)}}var Zp=V.useLayoutEffect,CN=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],dh=function(){};function IN(i,e){return e?e[0]==="-"?i+e:i+"__"+e:i}function ON(i,e){for(var t=arguments.length,a=new Array(t>2?t-2:0),s=2;s<t;s++)a[s-2]=arguments[s];var l=[].concat(a);if(e&&i)for(var f in e)e.hasOwnProperty(f)&&e[f]&&l.push("".concat(IN(i,f)));return l.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var bb=function(e){return UN(e)?e.filter(Boolean):ds(e)==="object"&&e!==null?[e]:[]},ZT=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Ir(e,CN);return Ee({},t)},bt=function(e,t,a){var s=e.cx,l=e.getStyles,f=e.getClassNames,m=e.className;return{css:l(t,e),className:s(a??{},f(t,e),m)}};function qh(i){return[document.documentElement,document.body,window].indexOf(i)>-1}function DN(i){return qh(i)?window.innerHeight:i.clientHeight}function JT(i){return qh(i)?window.pageYOffset:i.scrollTop}function mh(i,e){if(qh(i)){window.scrollTo(0,e);return}i.scrollTop=e}function xN(i){var e=getComputedStyle(i),t=e.position==="absolute",a=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=i;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&a.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function MN(i,e,t,a){return t*((i=i/a-1)*i*i+1)+e}function _f(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:dh,s=JT(i),l=e-s,f=10,m=0;function d(){m+=f;var g=MN(m,s,l,t);mh(i,g),m<t?window.requestAnimationFrame(d):a(i)}d()}function Sb(i,e){var t=i.getBoundingClientRect(),a=e.getBoundingClientRect(),s=e.offsetHeight/3;a.bottom+s>t.bottom?mh(i,Math.min(e.offsetTop+e.clientHeight-i.offsetHeight+s,i.scrollHeight)):a.top-s<t.top&&mh(i,Math.max(e.offsetTop-s,0))}function PN(i){var e=i.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Tb(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function NN(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ew=!1,VN={get passive(){return ew=!0}},Ef=typeof window<"u"?window:{};Ef.addEventListener&&Ef.removeEventListener&&(Ef.addEventListener("p",dh,VN),Ef.removeEventListener("p",dh,!1));var kN=ew;function LN(i){return i!=null}function UN(i){return Array.isArray(i)}function bf(i,e,t){return i?e:t}var jN=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var l=Object.entries(e).filter(function(f){var m=Er(f,1),d=m[0];return!a.includes(d)});return l.reduce(function(f,m){var d=Er(m,2),g=d[0],y=d[1];return f[g]=y,f},{})},zN=["children","innerProps"],BN=["children","innerProps"];function HN(i){var e=i.maxHeight,t=i.menuEl,a=i.minHeight,s=i.placement,l=i.shouldScroll,f=i.isFixedPosition,m=i.controlHeight,d=xN(t),g={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return g;var y=d.getBoundingClientRect(),b=y.height,T=t.getBoundingClientRect(),x=T.bottom,C=T.height,P=T.top,A=t.offsetParent.getBoundingClientRect(),M=A.top,Y=f?window.innerHeight:DN(d),q=JT(d),ae=parseInt(getComputedStyle(t).marginBottom,10),j=parseInt(getComputedStyle(t).marginTop,10),te=M-j,I=Y-P,R=te+q,D=b-q-P,U=x-Y+q+ae,z=q+P-j,H=160;switch(s){case"auto":case"bottom":if(I>=C)return{placement:"bottom",maxHeight:e};if(D>=C&&!f)return l&&_f(d,U,H),{placement:"bottom",maxHeight:e};if(!f&&D>=a||f&&I>=a){l&&_f(d,U,H);var k=f?I-ae:D-ae;return{placement:"bottom",maxHeight:k}}if(s==="auto"||f){var at=e,De=f?te:R;return De>=a&&(at=Math.min(De-ae-m,e)),{placement:"top",maxHeight:at}}if(s==="bottom")return l&&mh(d,U),{placement:"bottom",maxHeight:e};break;case"top":if(te>=C)return{placement:"top",maxHeight:e};if(R>=C&&!f)return l&&_f(d,z,H),{placement:"top",maxHeight:e};if(!f&&R>=a||f&&te>=a){var W=e;return(!f&&R>=a||f&&te>=a)&&(W=f?te-j:R-j),l&&_f(d,z,H),{placement:"top",maxHeight:W}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return g}function FN(i){var e={bottom:"top",top:"bottom"};return i?e[i]:"bottom"}var tw=function(e){return e==="auto"?"bottom":e},qN=function(e,t){var a,s=e.placement,l=e.theme,f=l.borderRadius,m=l.spacing,d=l.colors;return Ee((a={label:"menu"},ru(a,FN(s),"100%"),ru(a,"position","absolute"),ru(a,"width","100%"),ru(a,"zIndex",1),a),t?{}:{backgroundColor:d.neutral0,borderRadius:f,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:m.menuGutter,marginTop:m.menuGutter})},nw=V.createContext(null),GN=function(e){var t=e.children,a=e.minMenuHeight,s=e.maxMenuHeight,l=e.menuPlacement,f=e.menuPosition,m=e.menuShouldScrollIntoView,d=e.theme,g=V.useContext(nw)||{},y=g.setPortalPlacement,b=V.useRef(null),T=V.useState(s),x=Er(T,2),C=x[0],P=x[1],A=V.useState(null),M=Er(A,2),Y=M[0],q=M[1],ae=d.spacing.controlHeight;return Zp(function(){var j=b.current;if(j){var te=f==="fixed",I=m&&!te,R=HN({maxHeight:s,menuEl:j,minHeight:a,placement:l,shouldScroll:I,isFixedPosition:te,controlHeight:ae});P(R.maxHeight),q(R.placement),y?.(R.placement)}},[s,l,f,m,a,y,ae]),t({ref:b,placerProps:Ee(Ee({},e),{},{placement:Y||tw(l),maxHeight:C})})},$N=function(e){var t=e.children,a=e.innerRef,s=e.innerProps;return ye("div",Te({},bt(e,"menu",{menu:!0}),{ref:a},s),t)},QN=$N,YN=function(e,t){var a=e.maxHeight,s=e.theme.spacing.baseUnit;return Ee({maxHeight:a,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},KN=function(e){var t=e.children,a=e.innerProps,s=e.innerRef,l=e.isMulti;return ye("div",Te({},bt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:s},a),t)},iw=function(e,t){var a=e.theme,s=a.spacing.baseUnit,l=a.colors;return Ee({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},XN=iw,WN=iw,ZN=function(e){var t=e.children,a=t===void 0?"No options":t,s=e.innerProps,l=Ir(e,zN);return ye("div",Te({},bt(Ee(Ee({},l),{},{children:a,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),a)},JN=function(e){var t=e.children,a=t===void 0?"Loading...":t,s=e.innerProps,l=Ir(e,BN);return ye("div",Te({},bt(Ee(Ee({},l),{},{children:a,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),a)},eV=function(e){var t=e.rect,a=e.offset,s=e.position;return{left:t.left,position:s,top:a,width:t.width,zIndex:1}},tV=function(e){var t=e.appendTo,a=e.children,s=e.controlElement,l=e.innerProps,f=e.menuPlacement,m=e.menuPosition,d=V.useRef(null),g=V.useRef(null),y=V.useState(tw(f)),b=Er(y,2),T=b[0],x=b[1],C=V.useMemo(function(){return{setPortalPlacement:x}},[]),P=V.useState(null),A=Er(P,2),M=A[0],Y=A[1],q=V.useCallback(function(){if(s){var I=PN(s),R=m==="fixed"?0:window.pageYOffset,D=I[T]+R;(D!==M?.offset||I.left!==M?.rect.left||I.width!==M?.rect.width)&&Y({offset:D,rect:I})}},[s,m,T,M?.offset,M?.rect.left,M?.rect.width]);Zp(function(){q()},[q]);var ae=V.useCallback(function(){typeof g.current=="function"&&(g.current(),g.current=null),s&&d.current&&(g.current=RN(s,d.current,q,{elementResize:"ResizeObserver"in window}))},[s,q]);Zp(function(){ae()},[ae]);var j=V.useCallback(function(I){d.current=I,ae()},[ae]);if(!t&&m!=="fixed"||!M)return null;var te=ye("div",Te({ref:j},bt(Ee(Ee({},e),{},{offset:M.offset,position:m,rect:M.rect}),"menuPortal",{"menu-portal":!0}),l),a);return ye(nw.Provider,{value:C},t?RC.createPortal(te,t):te)},nV=function(e){var t=e.isDisabled,a=e.isRtl;return{label:"container",direction:a?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},iV=function(e){var t=e.children,a=e.innerProps,s=e.isDisabled,l=e.isRtl;return ye("div",Te({},bt(e,"container",{"--is-disabled":s,"--is-rtl":l}),a),t)},rV=function(e,t){var a=e.theme.spacing,s=e.isMulti,l=e.hasValue,f=e.selectProps.controlShouldRenderValue;return Ee({alignItems:"center",display:s&&l&&f?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(a.baseUnit/2,"px ").concat(a.baseUnit*2,"px")})},aV=function(e){var t=e.children,a=e.innerProps,s=e.isMulti,l=e.hasValue;return ye("div",Te({},bt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l}),a),t)},sV=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},oV=function(e){var t=e.children,a=e.innerProps;return ye("div",Te({},bt(e,"indicatorsContainer",{indicators:!0}),a),t)},wb,lV=["size"],uV=["innerProps","isRtl","size"],cV={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},rw=function(e){var t=e.size,a=Ir(e,lV);return ye("svg",Te({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:cV},a))},sv=function(e){return ye(rw,Te({size:20},e),ye("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},aw=function(e){return ye(rw,Te({size:20},e),ye("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},sw=function(e,t){var a=e.isFocused,s=e.theme,l=s.spacing.baseUnit,f=s.colors;return Ee({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:a?f.neutral60:f.neutral20,padding:l*2,":hover":{color:a?f.neutral80:f.neutral40}})},fV=sw,hV=function(e){var t=e.children,a=e.innerProps;return ye("div",Te({},bt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),a),t||ye(aw,null))},dV=sw,mV=function(e){var t=e.children,a=e.innerProps;return ye("div",Te({},bt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),a),t||ye(sv,null))},pV=function(e,t){var a=e.isDisabled,s=e.theme,l=s.spacing.baseUnit,f=s.colors;return Ee({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:a?f.neutral10:f.neutral20,marginBottom:l*2,marginTop:l*2})},gV=function(e){var t=e.innerProps;return ye("span",Te({},t,bt(e,"indicatorSeparator",{"indicator-separator":!0})))},vV=cN(wb||(wb=fN([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),yV=function(e,t){var a=e.isFocused,s=e.size,l=e.theme,f=l.colors,m=l.spacing.baseUnit;return Ee({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:a?f.neutral60:f.neutral20,padding:m*2})},mp=function(e){var t=e.delay,a=e.offset;return ye("span",{css:nv({animation:"".concat(vV," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},_V=function(e){var t=e.innerProps,a=e.isRtl,s=e.size,l=s===void 0?4:s,f=Ir(e,uV);return ye("div",Te({},bt(Ee(Ee({},f),{},{innerProps:t,isRtl:a,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ye(mp,{delay:0,offset:a}),ye(mp,{delay:160,offset:!0}),ye(mp,{delay:320,offset:!a}))},EV=function(e,t){var a=e.isDisabled,s=e.isFocused,l=e.theme,f=l.colors,m=l.borderRadius,d=l.spacing;return Ee({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:a?f.neutral5:f.neutral0,borderColor:a?f.neutral10:s?f.primary:f.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(f.primary):void 0,"&:hover":{borderColor:s?f.primary:f.neutral30}})},bV=function(e){var t=e.children,a=e.isDisabled,s=e.isFocused,l=e.innerRef,f=e.innerProps,m=e.menuIsOpen;return ye("div",Te({ref:l},bt(e,"control",{control:!0,"control--is-disabled":a,"control--is-focused":s,"control--menu-is-open":m}),f,{"aria-disabled":a||void 0}),t)},SV=bV,TV=["data"],wV=function(e,t){var a=e.theme.spacing;return t?{}:{paddingBottom:a.baseUnit*2,paddingTop:a.baseUnit*2}},AV=function(e){var t=e.children,a=e.cx,s=e.getStyles,l=e.getClassNames,f=e.Heading,m=e.headingProps,d=e.innerProps,g=e.label,y=e.theme,b=e.selectProps;return ye("div",Te({},bt(e,"group",{group:!0}),d),ye(f,Te({},m,{selectProps:b,theme:y,getStyles:s,getClassNames:l,cx:a}),g),ye("div",null,t))},RV=function(e,t){var a=e.theme,s=a.colors,l=a.spacing;return Ee({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},CV=function(e){var t=ZT(e);t.data;var a=Ir(t,TV);return ye("div",Te({},bt(e,"groupHeading",{"group-heading":!0}),a))},IV=AV,OV=["innerRef","isDisabled","isHidden","inputClassName"],DV=function(e,t){var a=e.isDisabled,s=e.value,l=e.theme,f=l.spacing,m=l.colors;return Ee(Ee({visibility:a?"hidden":"visible",transform:s?"translateZ(0)":""},xV),t?{}:{margin:f.baseUnit/2,paddingBottom:f.baseUnit/2,paddingTop:f.baseUnit/2,color:m.neutral80})},ow={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},xV={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ee({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ow)},MV=function(e){return Ee({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ow)},PV=function(e){var t=e.cx,a=e.value,s=ZT(e),l=s.innerRef,f=s.isDisabled,m=s.isHidden,d=s.inputClassName,g=Ir(s,OV);return ye("div",Te({},bt(e,"input",{"input-container":!0}),{"data-value":a||""}),ye("input",Te({className:t({input:!0},d),ref:l,style:MV(m),disabled:f},g)))},NV=PV,VV=function(e,t){var a=e.theme,s=a.spacing,l=a.borderRadius,f=a.colors;return Ee({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:f.neutral10,borderRadius:l/2,margin:s.baseUnit/2})},kV=function(e,t){var a=e.theme,s=a.borderRadius,l=a.colors,f=e.cropWithEllipsis;return Ee({overflow:"hidden",textOverflow:f||f===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},LV=function(e,t){var a=e.theme,s=a.spacing,l=a.borderRadius,f=a.colors,m=e.isFocused;return Ee({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:m?f.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:f.dangerLight,color:f.danger}})},lw=function(e){var t=e.children,a=e.innerProps;return ye("div",a,t)},UV=lw,jV=lw;function zV(i){var e=i.children,t=i.innerProps;return ye("div",Te({role:"button"},t),e||ye(sv,{size:14}))}var BV=function(e){var t=e.children,a=e.components,s=e.data,l=e.innerProps,f=e.isDisabled,m=e.removeProps,d=e.selectProps,g=a.Container,y=a.Label,b=a.Remove;return ye(g,{data:s,innerProps:Ee(Ee({},bt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":f})),l),selectProps:d},ye(y,{data:s,innerProps:Ee({},bt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},t),ye(b,{data:s,innerProps:Ee(Ee({},bt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},m),selectProps:d}))},HV=BV,FV=function(e,t){var a=e.isDisabled,s=e.isFocused,l=e.isSelected,f=e.theme,m=f.spacing,d=f.colors;return Ee({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?d.primary:s?d.primary25:"transparent",color:a?d.neutral20:l?d.neutral0:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),":active":{backgroundColor:a?void 0:l?d.primary:d.primary50}})},qV=function(e){var t=e.children,a=e.isDisabled,s=e.isFocused,l=e.isSelected,f=e.innerRef,m=e.innerProps;return ye("div",Te({},bt(e,"option",{option:!0,"option--is-disabled":a,"option--is-focused":s,"option--is-selected":l}),{ref:f,"aria-disabled":a},m),t)},GV=qV,$V=function(e,t){var a=e.theme,s=a.spacing,l=a.colors;return Ee({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},QV=function(e){var t=e.children,a=e.innerProps;return ye("div",Te({},bt(e,"placeholder",{placeholder:!0}),a),t)},YV=QV,KV=function(e,t){var a=e.isDisabled,s=e.theme,l=s.spacing,f=s.colors;return Ee({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:a?f.neutral40:f.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},XV=function(e){var t=e.children,a=e.isDisabled,s=e.innerProps;return ye("div",Te({},bt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":a}),s),t)},WV=XV,ZV={ClearIndicator:mV,Control:SV,DropdownIndicator:hV,DownChevron:aw,CrossIcon:sv,Group:IV,GroupHeading:CV,IndicatorsContainer:oV,IndicatorSeparator:gV,Input:NV,LoadingIndicator:_V,Menu:QN,MenuList:KN,MenuPortal:tV,LoadingMessage:JN,NoOptionsMessage:ZN,MultiValue:HV,MultiValueContainer:UV,MultiValueLabel:jV,MultiValueRemove:zV,Option:GV,Placeholder:YV,SelectContainer:iV,SingleValue:WV,ValueContainer:aV},JV=function(e){return Ee(Ee({},ZV),e.components)},Ab=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function e6(i,e){return!!(i===e||Ab(i)&&Ab(e))}function t6(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(!e6(i[t],e[t]))return!1;return!0}function n6(i,e){e===void 0&&(e=t6);var t=null;function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var f=i.apply(this,s);return t={lastResult:f,lastArgs:s,lastThis:this},f}return a.clear=function(){t=null},a}var i6={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},r6=function(e){return ye("span",Te({css:i6},e))},Rb=r6,a6={guidance:function(e){var t=e.isSearchable,a=e.isMulti,s=e.tabSelectsValue,l=e.context,f=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return f?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,a=e.label,s=a===void 0?"":a,l=e.labels,f=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return f?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,a=e.focused,s=e.options,l=e.label,f=l===void 0?"":l,m=e.selectValue,d=e.isDisabled,g=e.isSelected,y=e.isAppleDevice,b=function(P,A){return P&&P.length?"".concat(P.indexOf(A)+1," of ").concat(P.length):""};if(t==="value"&&m)return"value ".concat(f," focused, ").concat(b(m,a),".");if(t==="menu"&&y){var T=d?" disabled":"",x="".concat(g?" selected":"").concat(T);return"".concat(f).concat(x,", ").concat(b(s,a),".")}return""},onFilter:function(e){var t=e.inputValue,a=e.resultsMessage;return"".concat(a).concat(t?" for search term "+t:"",".")}},s6=function(e){var t=e.ariaSelection,a=e.focusedOption,s=e.focusedValue,l=e.focusableOptions,f=e.isFocused,m=e.selectValue,d=e.selectProps,g=e.id,y=e.isAppleDevice,b=d.ariaLiveMessages,T=d.getOptionLabel,x=d.inputValue,C=d.isMulti,P=d.isOptionDisabled,A=d.isSearchable,M=d.menuIsOpen,Y=d.options,q=d.screenReaderStatus,ae=d.tabSelectsValue,j=d.isLoading,te=d["aria-label"],I=d["aria-live"],R=V.useMemo(function(){return Ee(Ee({},a6),b||{})},[b]),D=V.useMemo(function(){var De="";if(t&&R.onChange){var W=t.option,ue=t.options,fe=t.removedValue,Me=t.removedValues,L=t.value,re=function(Le){return Array.isArray(Le)?null:Le},le=fe||W||re(L),se=le?T(le):"",me=ue||Me||void 0,Re=me?me.map(T):[],ge=Ee({isDisabled:le&&P(le,m),label:se,labels:Re},t);De=R.onChange(ge)}return De},[t,R,P,m,T]),U=V.useMemo(function(){var De="",W=a||s,ue=!!(a&&m&&m.includes(a));if(W&&R.onFocus){var fe={focused:W,label:T(W),isDisabled:P(W,m),isSelected:ue,options:l,context:W===a?"menu":"value",selectValue:m,isAppleDevice:y};De=R.onFocus(fe)}return De},[a,s,T,P,R,l,m,y]),z=V.useMemo(function(){var De="";if(M&&Y.length&&!j&&R.onFilter){var W=q({count:l.length});De=R.onFilter({inputValue:x,resultsMessage:W})}return De},[l,x,M,R,Y,q,j]),H=t?.action==="initial-input-focus",k=V.useMemo(function(){var De="";if(R.guidance){var W=s?"value":M?"menu":"input";De=R.guidance({"aria-label":te,context:W,isDisabled:a&&P(a,m),isMulti:C,isSearchable:A,tabSelectsValue:ae,isInitialFocus:H})}return De},[te,a,s,C,P,A,M,R,m,ae,H]),at=ye(V.Fragment,null,ye("span",{id:"aria-selection"},D),ye("span",{id:"aria-focused"},U),ye("span",{id:"aria-results"},z),ye("span",{id:"aria-guidance"},k));return ye(V.Fragment,null,ye(Rb,{id:g},H&&at),ye(Rb,{"aria-live":I,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},f&&!H&&at))},o6=s6,Jp=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],l6=new RegExp("["+Jp.map(function(i){return i.letters}).join("")+"]","g"),uw={};for(var pp=0;pp<Jp.length;pp++)for(var gp=Jp[pp],vp=0;vp<gp.letters.length;vp++)uw[gp.letters[vp]]=gp.base;var cw=function(e){return e.replace(l6,function(t){return uw[t]})},u6=n6(cw),Cb=function(e){return e.replace(/^\s+|\s+$/g,"")},c6=function(e){return"".concat(e.label," ").concat(e.value)},f6=function(e){return function(t,a){if(t.data.__isNew__)return!0;var s=Ee({ignoreCase:!0,ignoreAccents:!0,stringify:c6,trim:!0,matchFrom:"any"},e),l=s.ignoreCase,f=s.ignoreAccents,m=s.stringify,d=s.trim,g=s.matchFrom,y=d?Cb(a):a,b=d?Cb(m(t)):m(t);return l&&(y=y.toLowerCase(),b=b.toLowerCase()),f&&(y=u6(y),b=cw(b)),g==="start"?b.substr(0,y.length)===y:b.indexOf(y)>-1}},h6=["innerRef"];function d6(i){var e=i.innerRef,t=Ir(i,h6),a=jN(t,"onExited","in","enter","exit","appear");return ye("input",Te({ref:e},a,{css:nv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var m6=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function p6(i){var e=i.isEnabled,t=i.onBottomArrive,a=i.onBottomLeave,s=i.onTopArrive,l=i.onTopLeave,f=V.useRef(!1),m=V.useRef(!1),d=V.useRef(0),g=V.useRef(null),y=V.useCallback(function(A,M){if(g.current!==null){var Y=g.current,q=Y.scrollTop,ae=Y.scrollHeight,j=Y.clientHeight,te=g.current,I=M>0,R=ae-j-q,D=!1;R>M&&f.current&&(a&&a(A),f.current=!1),I&&m.current&&(l&&l(A),m.current=!1),I&&M>R?(t&&!f.current&&t(A),te.scrollTop=ae,D=!0,f.current=!0):!I&&-M>q&&(s&&!m.current&&s(A),te.scrollTop=0,D=!0,m.current=!0),D&&m6(A)}},[t,a,s,l]),b=V.useCallback(function(A){y(A,A.deltaY)},[y]),T=V.useCallback(function(A){d.current=A.changedTouches[0].clientY},[]),x=V.useCallback(function(A){var M=d.current-A.changedTouches[0].clientY;y(A,M)},[y]),C=V.useCallback(function(A){if(A){var M=kN?{passive:!1}:!1;A.addEventListener("wheel",b,M),A.addEventListener("touchstart",T,M),A.addEventListener("touchmove",x,M)}},[x,T,b]),P=V.useCallback(function(A){A&&(A.removeEventListener("wheel",b,!1),A.removeEventListener("touchstart",T,!1),A.removeEventListener("touchmove",x,!1))},[x,T,b]);return V.useEffect(function(){if(e){var A=g.current;return C(A),function(){P(A)}}},[e,C,P]),function(A){g.current=A}}var Ib=["boxSizing","height","overflow","paddingRight","position"],Ob={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Db(i){i.cancelable&&i.preventDefault()}function xb(i){i.stopPropagation()}function Mb(){var i=this.scrollTop,e=this.scrollHeight,t=i+this.offsetHeight;i===0?this.scrollTop=1:t===e&&(this.scrollTop=i-1)}function Pb(){return"ontouchstart"in window||navigator.maxTouchPoints}var Nb=!!(typeof window<"u"&&window.document&&window.document.createElement),eu=0,ho={capture:!1,passive:!1};function g6(i){var e=i.isEnabled,t=i.accountForScrollbars,a=t===void 0?!0:t,s=V.useRef({}),l=V.useRef(null),f=V.useCallback(function(d){if(Nb){var g=document.body,y=g&&g.style;if(a&&Ib.forEach(function(C){var P=y&&y[C];s.current[C]=P}),a&&eu<1){var b=parseInt(s.current.paddingRight,10)||0,T=document.body?document.body.clientWidth:0,x=window.innerWidth-T+b||0;Object.keys(Ob).forEach(function(C){var P=Ob[C];y&&(y[C]=P)}),y&&(y.paddingRight="".concat(x,"px"))}g&&Pb()&&(g.addEventListener("touchmove",Db,ho),d&&(d.addEventListener("touchstart",Mb,ho),d.addEventListener("touchmove",xb,ho))),eu+=1}},[a]),m=V.useCallback(function(d){if(Nb){var g=document.body,y=g&&g.style;eu=Math.max(eu-1,0),a&&eu<1&&Ib.forEach(function(b){var T=s.current[b];y&&(y[b]=T)}),g&&Pb()&&(g.removeEventListener("touchmove",Db,ho),d&&(d.removeEventListener("touchstart",Mb,ho),d.removeEventListener("touchmove",xb,ho)))}},[a]);return V.useEffect(function(){if(e){var d=l.current;return f(d),function(){m(d)}}},[e,f,m]),function(d){l.current=d}}var v6=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},y6={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function _6(i){var e=i.children,t=i.lockEnabled,a=i.captureEnabled,s=a===void 0?!0:a,l=i.onBottomArrive,f=i.onBottomLeave,m=i.onTopArrive,d=i.onTopLeave,g=p6({isEnabled:s,onBottomArrive:l,onBottomLeave:f,onTopArrive:m,onTopLeave:d}),y=g6({isEnabled:t}),b=function(x){g(x),y(x)};return ye(V.Fragment,null,t&&ye("div",{onClick:v6,css:y6}),e(b))}var E6={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},b6=function(e){var t=e.name,a=e.onFocus;return ye("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:a,css:E6,value:"",onChange:function(){}})},S6=b6;function ov(i){var e;return typeof window<"u"&&window.navigator!=null?i.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function T6(){return ov(/^iPhone/i)}function fw(){return ov(/^Mac/i)}function w6(){return ov(/^iPad/i)||fw()&&navigator.maxTouchPoints>1}function A6(){return T6()||w6()}function R6(){return fw()||A6()}var C6=function(e){return e.label},I6=function(e){return e.label},O6=function(e){return e.value},D6=function(e){return!!e.isDisabled},x6={clearIndicator:dV,container:nV,control:EV,dropdownIndicator:fV,group:wV,groupHeading:RV,indicatorsContainer:sV,indicatorSeparator:pV,input:DV,loadingIndicator:yV,loadingMessage:WN,menu:qN,menuList:YN,menuPortal:eV,multiValue:VV,multiValueLabel:kV,multiValueRemove:LV,noOptionsMessage:XN,option:FV,placeholder:$V,singleValue:KV,valueContainer:rV},M6={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},P6=4,hw=4,N6=38,V6=hw*2,k6={baseUnit:hw,controlHeight:N6,menuGutter:V6},yp={borderRadius:P6,colors:M6,spacing:k6},L6={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Tb(),captureMenuScroll:!Tb(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:f6(),formatGroupLabel:C6,getOptionLabel:I6,getOptionValue:O6,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:D6,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!NN(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Vb(i,e,t,a){var s=pw(i,e,t),l=gw(i,e,t),f=mw(i,e),m=ph(i,e);return{type:"option",data:e,isDisabled:s,isSelected:l,label:f,value:m,index:a}}function Lf(i,e){return i.options.map(function(t,a){if("options"in t){var s=t.options.map(function(f,m){return Vb(i,f,e,m)}).filter(function(f){return Lb(i,f)});return s.length>0?{type:"group",data:t,options:s,index:a}:void 0}var l=Vb(i,t,e,a);return Lb(i,l)?l:void 0}).filter(LN)}function dw(i){return i.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Wg(t.options.map(function(a){return a.data}))):e.push(t.data),e},[])}function kb(i,e){return i.reduce(function(t,a){return a.type==="group"?t.push.apply(t,Wg(a.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(a.index,"-").concat(s.index)}}))):t.push({data:a.data,id:"".concat(e,"-").concat(a.index)}),t},[])}function U6(i,e){return dw(Lf(i,e))}function Lb(i,e){var t=i.inputValue,a=t===void 0?"":t,s=e.data,l=e.isSelected,f=e.label,m=e.value;return(!yw(i)||!l)&&vw(i,{label:f,value:m,data:s},a)}function j6(i,e){var t=i.focusedValue,a=i.selectValue,s=a.indexOf(t);if(s>-1){var l=e.indexOf(t);if(l>-1)return t;if(s<e.length)return e[s]}return null}function z6(i,e){var t=i.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var _p=function(e,t){var a,s=(a=e.find(function(l){return l.data===t}))===null||a===void 0?void 0:a.id;return s||null},mw=function(e,t){return e.getOptionLabel(t)},ph=function(e,t){return e.getOptionValue(t)};function pw(i,e,t){return typeof i.isOptionDisabled=="function"?i.isOptionDisabled(e,t):!1}function gw(i,e,t){if(t.indexOf(e)>-1)return!0;if(typeof i.isOptionSelected=="function")return i.isOptionSelected(e,t);var a=ph(i,e);return t.some(function(s){return ph(i,s)===a})}function vw(i,e,t){return i.filterOption?i.filterOption(e,t):!0}var yw=function(e){var t=e.hideSelectedOptions,a=e.isMulti;return t===void 0?a:t},B6=1,_w=function(i){o4(t,i);var e=c4(t);function t(a){var s;if(a4(this,t),s=e.call(this,a),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,g){var y=s.props,b=y.onChange,T=y.name;g.name=T,s.ariaOnChange(d,g),b(d,g)},s.setValue=function(d,g,y){var b=s.props,T=b.closeMenuOnSelect,x=b.isMulti,C=b.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:C}),T&&(s.setState({inputIsHiddenAfterUpdate:!x}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:g,option:y})},s.selectOption=function(d){var g=s.props,y=g.blurInputOnSelect,b=g.isMulti,T=g.name,x=s.state.selectValue,C=b&&s.isOptionSelected(d,x),P=s.isOptionDisabled(d,x);if(C){var A=s.getOptionValue(d);s.setValue(x.filter(function(M){return s.getOptionValue(M)!==A}),"deselect-option",d)}else if(!P)b?s.setValue([].concat(Wg(x),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:T});return}y&&s.blurInput()},s.removeValue=function(d){var g=s.props.isMulti,y=s.state.selectValue,b=s.getOptionValue(d),T=y.filter(function(C){return s.getOptionValue(C)!==b}),x=bf(g,T,T[0]||null);s.onChange(x,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(bf(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,g=s.state.selectValue,y=g[g.length-1],b=g.slice(0,g.length-1),T=bf(d,b,b[0]||null);y&&s.onChange(T,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(d){return _p(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return kb(Lf(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return ON.apply(void 0,[s.props.classNamePrefix].concat(g))},s.getOptionLabel=function(d){return mw(s.props,d)},s.getOptionValue=function(d){return ph(s.props,d)},s.getStyles=function(d,g){var y=s.props.unstyled,b=x6[d](g,y);b.boxSizing="border-box";var T=s.props.styles[d];return T?T(b,g):b},s.getClassNames=function(d,g){var y,b;return(y=(b=s.props.classNames)[d])===null||y===void 0?void 0:y.call(b,g)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return JV(s.props)},s.buildCategorizedOptions=function(){return Lf(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return dw(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,g){s.setState({ariaSelection:Ee({value:d},g)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var g=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():g&&s.openMenu("first"):(g&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var g=s.props,y=g.isMulti,b=g.menuIsOpen;s.focusInput(),b?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&qh(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var g=d.touches,y=g&&g.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var g=d.touches,y=g&&g.item(0);if(y){var b=Math.abs(y.clientX-s.initialTouchX),T=Math.abs(y.clientY-s.initialTouchY),x=5;s.userIsDragging=b>x||T>x}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var g=s.props.inputValue,y=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:g}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var g=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:g}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var g=s.getFocusableOptions(),y=g.indexOf(d);s.setState({focusedOption:d,focusedOptionId:y>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return yw(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var g=s.props,y=g.isMulti,b=g.backspaceRemovesValue,T=g.escapeClearsValue,x=g.inputValue,C=g.isClearable,P=g.isDisabled,A=g.menuIsOpen,M=g.onKeyDown,Y=g.tabSelectsValue,q=g.openMenuOnFocus,ae=s.state,j=ae.focusedOption,te=ae.focusedValue,I=ae.selectValue;if(!P&&!(typeof M=="function"&&(M(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!y||x)return;s.focusValue("previous");break;case"ArrowRight":if(!y||x)return;s.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(te)s.removeValue(te);else{if(!b)return;y?s.popValue():C&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!A||!Y||!j||q&&s.isOptionSelected(j,I))return;s.selectOption(j);break;case"Enter":if(d.keyCode===229)break;if(A){if(!j||s.isComposing)return;s.selectOption(j);break}return;case"Escape":A?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:x}),s.onMenuClose()):C&&T&&s.clearValue();break;case" ":if(x)return;if(!A){s.openMenu("first");break}if(!j)return;s.selectOption(j);break;case"ArrowUp":A?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":A?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!A)return;s.focusOption("pageup");break;case"PageDown":if(!A)return;s.focusOption("pagedown");break;case"Home":if(!A)return;s.focusOption("first");break;case"End":if(!A)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++B6),s.state.selectValue=bb(a.value),a.menuIsOpen&&s.state.selectValue.length){var l=s.getFocusableOptionsWithIds(),f=s.buildFocusableOptions(),m=f.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=l,s.state.focusedOption=f[m],s.state.focusedOptionId=_p(l,f[m])}return s}return s4(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Sb(this.menuListRef,this.focusedOptionRef),R6()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var l=this.props,f=l.isDisabled,m=l.menuIsOpen,d=this.state.isFocused;(d&&!f&&s.isDisabled||d&&m&&!s.menuIsOpen)&&this.focusInput(),d&&f&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!f&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Sb(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,l){this.props.onInputChange(s,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var l=this,f=this.state,m=f.selectValue,d=f.isFocused,g=this.buildFocusableOptions(),y=s==="first"?0:g.length-1;if(!this.props.isMulti){var b=g.indexOf(m[0]);b>-1&&(y=b)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:g[y],focusedOptionId:this.getFocusedOptionId(g[y])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(s){var l=this.state,f=l.selectValue,m=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=f.indexOf(m);m||(d=-1);var g=f.length-1,y=-1;if(f.length){switch(s){case"previous":d===0?y=0:d===-1?y=g:y=d-1;break;case"next":d>-1&&d<g&&(y=d+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:f[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,f=this.state.focusedOption,m=this.getFocusableOptions();if(m.length){var d=0,g=m.indexOf(f);f||(g=-1),s==="up"?d=g>0?g-1:m.length-1:s==="down"?d=(g+1)%m.length:s==="pageup"?(d=g-l,d<0&&(d=0)):s==="pagedown"?(d=g+l,d>m.length-1&&(d=m.length-1)):s==="last"&&(d=m.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:m[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(m[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(yp):Ee(Ee({},yp),this.props.theme):yp}},{key:"getCommonProps",value:function(){var s=this.clearValue,l=this.cx,f=this.getStyles,m=this.getClassNames,d=this.getValue,g=this.selectOption,y=this.setValue,b=this.props,T=b.isMulti,x=b.isRtl,C=b.options,P=this.hasValue();return{clearValue:s,cx:l,getStyles:f,getClassNames:m,getValue:d,hasValue:P,isMulti:T,isRtl:x,options:C,selectOption:g,selectProps:b,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,l=s.isClearable,f=s.isMulti;return l===void 0?f:l}},{key:"isOptionDisabled",value:function(s,l){return pw(this.props,s,l)}},{key:"isOptionSelected",value:function(s,l){return gw(this.props,s,l)}},{key:"filterOption",value:function(s,l){return vw(this.props,s,l)}},{key:"formatOptionLabel",value:function(s,l){if(typeof this.props.formatOptionLabel=="function"){var f=this.props.inputValue,m=this.state.selectValue;return this.props.formatOptionLabel(s,{context:l,inputValue:f,selectValue:m})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,l=s.isDisabled,f=s.isSearchable,m=s.inputId,d=s.inputValue,g=s.tabIndex,y=s.form,b=s.menuIsOpen,T=s.required,x=this.getComponents(),C=x.Input,P=this.state,A=P.inputIsHidden,M=P.ariaSelection,Y=this.commonProps,q=m||this.getElementId("input"),ae=Ee(Ee(Ee({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":T,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!f&&{"aria-readonly":!0}),this.hasValue()?M?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return f?V.createElement(C,Te({},Y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:q,innerRef:this.getInputRef,isDisabled:l,isHidden:A,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:g,form:y,type:"text",value:d},ae)):V.createElement(d6,Te({id:q,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:dh,onFocus:this.onInputFocus,disabled:l,tabIndex:g,inputMode:"none",form:y,value:""},ae))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,l=this.getComponents(),f=l.MultiValue,m=l.MultiValueContainer,d=l.MultiValueLabel,g=l.MultiValueRemove,y=l.SingleValue,b=l.Placeholder,T=this.commonProps,x=this.props,C=x.controlShouldRenderValue,P=x.isDisabled,A=x.isMulti,M=x.inputValue,Y=x.placeholder,q=this.state,ae=q.selectValue,j=q.focusedValue,te=q.isFocused;if(!this.hasValue()||!C)return M?null:V.createElement(b,Te({},T,{key:"placeholder",isDisabled:P,isFocused:te,innerProps:{id:this.getElementId("placeholder")}}),Y);if(A)return ae.map(function(R,D){var U=R===j,z="".concat(s.getOptionLabel(R),"-").concat(s.getOptionValue(R));return V.createElement(f,Te({},T,{components:{Container:m,Label:d,Remove:g},isFocused:U,isDisabled:P,key:z,index:D,removeProps:{onClick:function(){return s.removeValue(R)},onTouchEnd:function(){return s.removeValue(R)},onMouseDown:function(k){k.preventDefault()}},data:R}),s.formatOptionLabel(R,"value"))});if(M)return null;var I=ae[0];return V.createElement(y,Te({},T,{data:I,isDisabled:P}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),l=s.ClearIndicator,f=this.commonProps,m=this.props,d=m.isDisabled,g=m.isLoading,y=this.state.isFocused;if(!this.isClearable()||!l||d||!this.hasValue()||g)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(l,Te({},f,{innerProps:b,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),l=s.LoadingIndicator,f=this.commonProps,m=this.props,d=m.isDisabled,g=m.isLoading,y=this.state.isFocused;if(!l||!g)return null;var b={"aria-hidden":"true"};return V.createElement(l,Te({},f,{innerProps:b,isDisabled:d,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator,f=s.IndicatorSeparator;if(!l||!f)return null;var m=this.commonProps,d=this.props.isDisabled,g=this.state.isFocused;return V.createElement(f,Te({},m,{isDisabled:d,isFocused:g}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator;if(!l)return null;var f=this.commonProps,m=this.props.isDisabled,d=this.state.isFocused,g={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(l,Te({},f,{innerProps:g,isDisabled:m,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,l=this.getComponents(),f=l.Group,m=l.GroupHeading,d=l.Menu,g=l.MenuList,y=l.MenuPortal,b=l.LoadingMessage,T=l.NoOptionsMessage,x=l.Option,C=this.commonProps,P=this.state.focusedOption,A=this.props,M=A.captureMenuScroll,Y=A.inputValue,q=A.isLoading,ae=A.loadingMessage,j=A.minMenuHeight,te=A.maxMenuHeight,I=A.menuIsOpen,R=A.menuPlacement,D=A.menuPosition,U=A.menuPortalTarget,z=A.menuShouldBlockScroll,H=A.menuShouldScrollIntoView,k=A.noOptionsMessage,at=A.onMenuScrollToTop,De=A.onMenuScrollToBottom;if(!I)return null;var W=function(se,me){var Re=se.type,ge=se.data,st=se.isDisabled,Le=se.isSelected,dn=se.label,li=se.value,Nn=P===ge,ui=st?void 0:function(){return s.onOptionHover(ge)},Hi=st?void 0:function(){return s.selectOption(ge)},ci="".concat(s.getElementId("option"),"-").concat(me),Sa={id:ci,onClick:Hi,onMouseMove:ui,onMouseOver:ui,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:Le};return V.createElement(x,Te({},C,{innerProps:Sa,data:ge,isDisabled:st,isSelected:Le,key:ci,label:dn,type:Re,value:li,isFocused:Nn,innerRef:Nn?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(se.data,"menu"))},ue;if(this.hasOptions())ue=this.getCategorizedOptions().map(function(le){if(le.type==="group"){var se=le.data,me=le.options,Re=le.index,ge="".concat(s.getElementId("group"),"-").concat(Re),st="".concat(ge,"-heading");return V.createElement(f,Te({},C,{key:ge,data:se,options:me,Heading:m,headingProps:{id:st,data:le.data},label:s.formatGroupLabel(le.data)}),le.options.map(function(Le){return W(Le,"".concat(Re,"-").concat(Le.index))}))}else if(le.type==="option")return W(le,"".concat(le.index))});else if(q){var fe=ae({inputValue:Y});if(fe===null)return null;ue=V.createElement(b,C,fe)}else{var Me=k({inputValue:Y});if(Me===null)return null;ue=V.createElement(T,C,Me)}var L={minMenuHeight:j,maxMenuHeight:te,menuPlacement:R,menuPosition:D,menuShouldScrollIntoView:H},re=V.createElement(GN,Te({},C,L),function(le){var se=le.ref,me=le.placerProps,Re=me.placement,ge=me.maxHeight;return V.createElement(d,Te({},C,L,{innerRef:se,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:q,placement:Re}),V.createElement(_6,{captureEnabled:M,onTopArrive:at,onBottomArrive:De,lockEnabled:z},function(st){return V.createElement(g,Te({},C,{innerRef:function(dn){s.getMenuListRef(dn),st(dn)},innerProps:{role:"listbox","aria-multiselectable":C.isMulti,id:s.getElementId("listbox")},isLoading:q,maxHeight:ge,focusedOption:P}),ue)}))});return U||D==="fixed"?V.createElement(y,Te({},C,{appendTo:U,controlElement:this.controlRef,menuPlacement:R,menuPosition:D}),re):re}},{key:"renderFormField",value:function(){var s=this,l=this.props,f=l.delimiter,m=l.isDisabled,d=l.isMulti,g=l.name,y=l.required,b=this.state.selectValue;if(y&&!this.hasValue()&&!m)return V.createElement(S6,{name:g,onFocus:this.onValueInputFocus});if(!(!g||m))if(d)if(f){var T=b.map(function(P){return s.getOptionValue(P)}).join(f);return V.createElement("input",{name:g,type:"hidden",value:T})}else{var x=b.length>0?b.map(function(P,A){return V.createElement("input",{key:"i-".concat(A),name:g,type:"hidden",value:s.getOptionValue(P)})}):V.createElement("input",{name:g,type:"hidden",value:""});return V.createElement("div",null,x)}else{var C=b[0]?this.getOptionValue(b[0]):"";return V.createElement("input",{name:g,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,l=this.state,f=l.ariaSelection,m=l.focusedOption,d=l.focusedValue,g=l.isFocused,y=l.selectValue,b=this.getFocusableOptions();return V.createElement(o6,Te({},s,{id:this.getElementId("live-region"),ariaSelection:f,focusedOption:m,focusedValue:d,isFocused:g,selectValue:y,focusableOptions:b,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),l=s.Control,f=s.IndicatorsContainer,m=s.SelectContainer,d=s.ValueContainer,g=this.props,y=g.className,b=g.id,T=g.isDisabled,x=g.menuIsOpen,C=this.state.isFocused,P=this.commonProps=this.getCommonProps();return V.createElement(m,Te({},P,{className:y,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:T,isFocused:C}),this.renderLiveRegion(),V.createElement(l,Te({},P,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:T,isFocused:C,menuIsOpen:x}),V.createElement(d,Te({},P,{isDisabled:T}),this.renderPlaceholderOrValue(),this.renderInput()),V.createElement(f,Te({},P,{isDisabled:T}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,l){var f=l.prevProps,m=l.clearFocusValueOnUpdate,d=l.inputIsHiddenAfterUpdate,g=l.ariaSelection,y=l.isFocused,b=l.prevWasFocused,T=l.instancePrefix,x=s.options,C=s.value,P=s.menuIsOpen,A=s.inputValue,M=s.isMulti,Y=bb(C),q={};if(f&&(C!==f.value||x!==f.options||P!==f.menuIsOpen||A!==f.inputValue)){var ae=P?U6(s,Y):[],j=P?kb(Lf(s,Y),"".concat(T,"-option")):[],te=m?j6(l,Y):null,I=z6(l,ae),R=_p(j,I);q={selectValue:Y,focusedOption:I,focusedOptionId:R,focusableOptionsWithIds:j,focusedValue:te,clearFocusValueOnUpdate:!1}}var D=d!=null&&s!==f?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},U=g,z=y&&b;return y&&!z&&(U={value:bf(M,Y,Y[0]||null),options:Y,action:"initial-input-focus"},z=!b),g?.action==="initial-input-focus"&&(U=null),Ee(Ee(Ee({},q),D),{},{prevProps:s,ariaSelection:U,prevWasFocused:z})}}]),t}(V.Component);_w.defaultProps=L6;var H6=V.forwardRef(function(i,e){var t=r4(i);return V.createElement(_w,Te({ref:e},t))}),eg=H6;function F6({handleOnClick:i,handleOptionsChange:e,getIngredientOptionsForSelect:t}){return O.jsxs("form",{id:"bundle-form",children:[O.jsx("div",{className:"bundle-form-header",children:O.jsx("h3",{className:"bundle-form-title",children:"Adicionar Conjunto"})}),O.jsxs("div",{className:"bundle-form-group",children:[O.jsx("label",{htmlFor:"bundle-name",children:"Nome do Conjunto*: "}),O.jsx("input",{id:"bundle-name",type:"text"})]}),O.jsxs("div",{className:"bundle-form-group",children:[O.jsx("label",{htmlFor:"bundle-ingredients",children:"Ingredientes*: "}),O.jsx(eg,{options:t(),onChange:e,isMulti:!0,id:"bundle-ingredients",placeholder:"Selecione"})]}),O.jsx($t,{label:"Adicionar Conjunto",onClick:i})]})}function q6(){const[i,e]=V.useState([]),[t,a]=V.useState([]),[s,l]=V.useState([]),{data:f,sortColumn:m,sortDirection:d,handleSort:g}=_h(i);V.useEffect(()=>{Promise.all([Qt(lt.bundles),Qt(lt.ingredients)]).then(([P,A])=>{e(P),a(A)})},[]);async function y(P){if(!P.name){alert("Por favor, preencha o Nome.");return}if(s.length<=1){alert("Por favor, selecione pelo menos dois ingredientes.");return}await jh(lt.bundles,P),e(await Qt(lt.bundles)),window.location.reload()}function b(){return{name:document.getElementById("bundle-name")?.value||"",ingredients:s}}async function T(P){window.confirm("Tem certeza que deseja remover este conjunto?")&&(await Xg(lt.bundles,P),e(await Qt(lt.bundles)))}function x(){return t.map(P=>({value:P.id,label:P.name}))}function C(P){const A=P?P.map(M=>M.label):[];l(t.filter(M=>A.includes(M.name)))}return O.jsxs("div",{children:[O.jsx("h1",{children:"Lista de Conjuntos"}),O.jsx("p",{children:"Aqui voc pode ver e adicionar novos conjuntos."}),O.jsx(F6,{handleOnClick:()=>y(b()),handleCloseMenu:()=>{},handleOptionsChange:C,getIngredientOptionsForSelect:x}),i.length===0?O.jsx("p",{children:"Nenhum Conjunto encontrado."}):O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsxs("th",{onClick:()=>g("name"),children:["Nome ",m==="name"?d==="asc"?"":"":""]}),O.jsx("th",{className:"static",children:"Ingredientes"}),O.jsx("th",{className:"static",children:"Aes"})]})}),O.jsx("tbody",{children:f.map(P=>O.jsxs("tr",{children:[O.jsx("td",{children:P.name}),O.jsx("td",{children:P.ingredients.map(A=>O.jsxs("span",{children:[A.name,P.ingredients.indexOf(A)<P.ingredients.length-1&&Di.tableItemSeparator]},A.id))}),O.jsx("td",{children:O.jsx($t,{label:Di.deleteButtonLabel,onClick:()=>T(P.id)})})]},P.id))})]})]})}class pr{static frame15="frame15";static frame25="frame25";static frame35="frame35"}function G6(){const[i,e]=V.useState([]),[t,a]=V.useState([]),[s,l]=V.useState([]),[f,m]=V.useState([]),[d,g]=V.useState([]),{data:y,sortColumn:b,sortDirection:T,handleSort:x}=_h(i);V.useEffect(()=>{Promise.all([Qt(lt.cakes),Qt(lt.ingredients),Qt(lt.bundles)]).then(([j,te,I])=>{e(j),a(te),l(I)})},[]);async function C(j){if(!j.name){alert("Por favor, preencha o campo Nome.");return}if(!j.frame){alert("Por favor, selecione o tamanho do Bolo.");return}if(f.length+d.length<=1){alert("Por favor, selecione pelo menos dois itens.");return}await jh(lt.cakes,j),e(await Qt(lt.cakes)),window.location.reload()}function P(){return{name:document.getElementById("cake-name")?.value||"",ingredients:f,bundles:d,frame:document.getElementById("cake-frame")?.value}}async function A(j){window.confirm("Tem certeza que deseja remover este bolo?")&&(await Xg(lt.cakes,j),e(await Qt(lt.cakes)))}function M(){return t.map(j=>({value:j.id,label:j.name}))}function Y(j){const te=j?j.map(I=>I.label):[];m(t.filter(I=>te.includes(I.name)))}function q(){return s.map(j=>({value:j.id,label:j.name}))}function ae(j){const te=j?j.map(I=>I.label):[];g(s.filter(I=>te.includes(I.name)))}return O.jsxs("div",{children:[O.jsx("h1",{children:"Lista de Bolos"}),O.jsx("p",{children:"Aqui voc pode ver e adicionar novos bolos."}),O.jsxs("form",{id:"cake-form",children:[O.jsx("input",{id:"cake-name",type:"text",placeholder:"Nome do Bolo*"}),O.jsxs("select",{id:"cake-frame",defaultValue:"",children:[O.jsx("option",{value:"",disabled:!0,children:"Selecione o tamanho do Bolo*"}),O.jsx("option",{value:pr.frame15,children:"Bolo 15cm"}),O.jsx("option",{value:pr.frame25,children:"Bolo 25cm"}),O.jsx("option",{value:pr.frame35,children:"Bolo 35cm"})]}),O.jsx(eg,{options:M(),onChange:Y,isMulti:!0,id:"cake-ingredients",placeholder:"Selecione os Ingredientes*"}),O.jsx(eg,{options:q(),onChange:ae,isMulti:!0,id:"cake-bundles",placeholder:"Selecione os Conjuntos*"}),O.jsx($t,{label:"Adicionar Bolo",onClick:()=>C(P())})]}),i.length===0?O.jsx("p",{children:"Nenhum Bolo encontrado."}):O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsxs("th",{onClick:()=>x("name"),children:["Nome ",b==="name"?T==="asc"?"":"":""]}),O.jsx("th",{className:"static",children:"Conjuntos"}),O.jsx("th",{className:"static",children:"Ingredientes"}),O.jsx("th",{className:"static",children:"Aes"})]})}),O.jsx("tbody",{children:y.map(j=>O.jsxs("tr",{children:[O.jsx("td",{children:j.name}),O.jsx("td",{children:j.bundles.length>0?j.bundles.map(te=>O.jsxs("span",{children:[te.name,j.bundles.indexOf(te)<j.bundles.length-1&&Di.tableItemSeparator]},te.id)):Di.noTableItemFoundContent}),O.jsx("td",{children:j.ingredients.length>0?j.ingredients.map(te=>O.jsxs("span",{children:[te.name,j.ingredients.indexOf(te)<j.ingredients.length-1&&Di.tableItemSeparator]},te.id)):Di.noTableItemFoundContent}),O.jsx("td",{children:O.jsx($t,{label:Di.deleteButtonLabel,onClick:()=>A(j.id)})})]},j.id))})]})]})}function $6(){return O.jsx("div",{children:O.jsx(Xb,{})})}function Q6(){return O.jsx("div",{children:O.jsx("h1",{children:"Overview"})})}const Y6={frame15:8,frame25:12,frame35:16};function K6(){const[i,e]=V.useState(null),[t,a]=V.useState([]),[s,l]=V.useState([]),{data:f,sortColumn:m,sortDirection:d,handleSort:g}=_h(s);V.useEffect(()=>{Promise.all([Qt(lt.config),Qt(lt.cakes)]).then(([A,M])=>{e(A[0]||(Y=>Y)),a(M)})},[]),V.useEffect(()=>{const A=t.map(M=>{const Y=b(M),q=ct.humanizePrice(T(M.frame,Y)),ae=C(M.frame,Y),j=ct.humanizePrice(T(M.frame,ae,!0)),te=ct.humanizePrice(x(Y)),I=ct.humanizePrice(x(T(M.frame,Y))),R=ct.humanizePrice(x(ae)),D=ct.humanizePrice(x(T(M.frame,ae,!0)));return{id:M.id,name:M.name,base:ct.humanizePrice(Y),baseWithPackaging:q,baseSlice:ct.humanizePrice(ae),baseSliceWithPackaging:j,converted:te,convertedWithPackaging:I,convertedSlice:R,convertedSliceWithPackaging:D,sellingBasePrice:"",sellingSlicePrice:"",ifoodSellingBasePrice:"",ifoodSellingSlicePrice:""}});l(A)},[t]);function y(A,M=[]){return M?.reduce((Y,q)=>{let ae=q.quantity,j=q.unit,te;switch(A.frame){case pr.frame15:te=q.used_in_frame_15;break;case pr.frame25:te=q.used_in_frame_25;break;case pr.frame35:te=q.used_in_frame_35;break;default:te=0;break}if(j==="un")return Y+q.price*te;(j==="kg"||j==="ml")&&(ae*=1e3,j=j.charAt(1));const I=q.price/ae;return Y+I*te},0)}function b(A){if(!i)return alert("Configuraes no carregadas."),0;const M=y(A,A.ingredients)||0,q=(A.bundles?.map(ae=>y(A,ae.ingredients))||[0]).reduce((ae,j)=>ae+j,0);return M+q}function T(A,M,Y=!1){if(!i)return alert("Configuraes no carregadas."),0;if(Y)return M+i.slicePackagingPrice;let q;switch(A){case pr.frame15:q=M+i.frame15PackagingPrice;break;case pr.frame25:q=M+i.frame25PackagingPrice;break;case pr.frame35:q=M+i.frame35PackagingPrice;break;default:alert("Tamanho de bolo invlido."),q=M;break}return q}function x(A){return A/(1-(100-i.conversionRate)/100)}function C(A,M){const Y=P(A);return M/Y}function P(A){return Y6[A]}return O.jsxs("div",{children:[O.jsx("h1",{children:"Calculadora"}),s.length===0?O.jsx(r1,{}):O.jsxs("table",{children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsxs("th",{onClick:()=>g("name"),children:["Nome ",m==="name"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("base"),children:["Preo base ",m==="base"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("baseWithPackaging"),children:["Preo com embalagem ",m==="baseWithPackaging"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("baseSlice"),children:["Preo base Fatia ",m==="baseSlice"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("baseSliceWithPackaging"),children:["Preo Fatia com embalagem ",m==="baseSliceWithPackaging"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("converted"),children:["Preo Bolo convertido ",m==="converted"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("convertedWithPackaging"),children:["Preo convertido com embalagem ",m==="convertedWithPackaging"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("convertedSlice"),children:["Preo Fatia convertido ",m==="convertedSlice"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("convertedSliceWithPackaging"),children:["Preo Fatia convertido com embalagem ",m==="convertedSliceWithPackaging"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("sellingBasePrice"),children:["Preo Bolo praticado ",m==="sellingBasePrice"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("sellingSlicePrice"),children:["Preo Fatia praticado ",m==="sellingSlicePrice"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("ifoodSellingBasePrice"),children:["Preo Bolo Ifood ",m==="ifoodSellingBasePrice"?d==="asc"?"":"":""]}),O.jsxs("th",{onClick:()=>g("ifoodSellingSlicePrice"),children:["Preo Fatia Ifood ",m==="ifoodSellingSlicePrice"?d==="asc"?"":"":""]})]})}),O.jsx("tbody",{children:f.map(A=>O.jsxs("tr",{children:[O.jsx("td",{children:A.name}),O.jsxs("td",{children:["R$",A.base]}),O.jsxs("td",{children:["R$",A.baseWithPackaging]}),O.jsxs("td",{children:["R$",A.baseSlice]}),O.jsxs("td",{children:["R$",A.baseSliceWithPackaging]}),O.jsxs("td",{children:["R$",A.converted]}),O.jsxs("td",{children:["R$",A.convertedWithPackaging]}),O.jsxs("td",{children:["R$",A.convertedSlice]}),O.jsxs("td",{children:["R$",A.convertedSliceWithPackaging]}),O.jsxs("td",{children:["R$",A.sellingBasePrice]}),O.jsxs("td",{children:["R$",A.sellingSlicePrice]}),O.jsxs("td",{children:["R$",A.ifoodSellingBasePrice]}),O.jsxs("td",{children:["R$",A.ifoodSellingSlicePrice]})]},A.id))})]})]})}function X6(){const[i,e]=V.useState({name:"Configuraes",conversionRate:1,frame15PackagingPrice:0,frame25PackagingPrice:0,frame35PackagingPrice:0,slicePackagingPrice:0,ifoodTax:0});V.useEffect(()=>{Promise.resolve(Qt(lt.config)).then(s=>e(s[0]||(l=>l)))},[]);async function t(){return{name:i.name,conversionRate:ct.parseDecimal(document.getElementById("conversion-rate").value),frame15PackagingPrice:ct.parseDecimal(document.getElementById("frame15-packaging-price").value),frame25PackagingPrice:ct.parseDecimal(document.getElementById("frame25-packaging-price").value),frame35PackagingPrice:ct.parseDecimal(document.getElementById("frame35-packaging-price").value),slicePackagingPrice:ct.parseDecimal(document.getElementById("slice-packaging-price").value),ifoodTax:ct.parseDecimal(document.getElementById("ifood-fee").value)}}async function a(){const s=await t();isNaN(s.conversionRate)&&(s.conversionRate=i.conversionRate),isNaN(s.frame15PackagingPrice)&&(s.frame15PackagingPrice=i.frame15PackagingPrice),isNaN(s.frame25PackagingPrice)&&(s.frame25PackagingPrice=i.frame25PackagingPrice),isNaN(s.frame35PackagingPrice)&&(s.frame35PackagingPrice=i.frame35PackagingPrice),isNaN(s.slicePackagingPrice)&&(s.slicePackagingPrice=i.slicePackagingPrice),isNaN(s.ifoodTax)&&(s.ifoodTax=i.ifoodTax),i.id?await xT(lt.config,i.id,s):await jh(lt.config,s),e(s),alert("Configuraes salvas com sucesso!")}return O.jsxs("div",{children:[O.jsx("h1",{children:"Configuraes"}),O.jsxs("form",{id:"config-form",onSubmit:()=>{a()},children:[O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"conversion-rate",children:"Taxa de converso: "}),O.jsx("input",{type:"text",id:"conversion-rate",name:"conversion-rate",placeholder:i.conversionRate.toString()})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"ifood-fee",children:"Taxa do iFood: "}),O.jsx("input",{type:"text",id:"ifood-fee",name:"ifood-fee",placeholder:i.ifoodTax.toString()})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"frame15-packaging-price",children:"Valor da embalagem aro 15: "}),O.jsx("input",{type:"text",id:"frame15-packaging-price",name:"frame15-packaging-price",placeholder:i.frame15PackagingPrice.toString()})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"frame25-packaging-price",children:"Valor da embalagem aro 25: "}),O.jsx("input",{type:"text",id:"frame25-packaging-price",name:"frame25-packaging-price",placeholder:i.frame25PackagingPrice.toString()})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"frame35-packaging-price",children:"Valor da embalagem aro 35: "}),O.jsx("input",{type:"text",id:"frame35-packaging-price",name:"frame35-packaging-price",placeholder:i.frame35PackagingPrice.toString()})]}),O.jsxs("div",{className:"form-group",children:[O.jsx("label",{htmlFor:"slice-packaging-price",children:"Valor da embalagem fatia: "}),O.jsx("input",{type:"text",id:"slice-packaging-price",name:"slice-packaging-price",placeholder:i.slicePackagingPrice.toString()})]}),O.jsx("button",{type:"submit",children:"Salvar Configuraes"})]})]})}function W6(){return O.jsx(gC,{children:O.jsx(QR,{children:O.jsxs(mr,{element:O.jsx(DC,{}),children:[O.jsxs(mr,{path:"/",element:O.jsx($6,{}),children:[O.jsx(mr,{index:!0,element:O.jsx(Q6,{})}),O.jsx(mr,{path:"calculadora",element:O.jsx(K6,{})})]}),O.jsx(mr,{path:"/ingredientes",element:O.jsx(WP,{})}),O.jsx(mr,{path:"/conjuntos",element:O.jsx(q6,{})}),O.jsx(mr,{path:"/bolos",element:O.jsx(G6,{})}),O.jsx(mr,{path:"/config",element:O.jsx(X6,{})})]})})})}const Z6=({children:i})=>{const[e,t]=V.useState(null),[a,s]=V.useState(!0);V.useEffect(()=>{const d=VM(oh,g=>{t(g),s(!1)});return()=>d()},[]);const l=async()=>{await XP()},f=async(d=!1)=>{d?window.confirm("Tem certeza que deseja sair?")&&await sb():await sb()},m=V.useMemo(()=>({user:e,loading:a,signInWithGoogle:l,signOut:f}),[e,a]);return O.jsx(n1.Provider,{value:m,children:i})};eR.createRoot(document.getElementById("root")).render(O.jsx(V.StrictMode,{children:O.jsx(Z6,{children:O.jsx(W6,{})})}));
